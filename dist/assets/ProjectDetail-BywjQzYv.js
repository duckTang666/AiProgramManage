const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DAXvTnSp.js","assets/vue-CUAfhYnW.js","assets/supabase-DiqIXwZt.js","assets/index-BT7Lh3aE.css"])))=>i.map(i=>d[i]);
import{P as Q,T as X,b as Je,u as Ke,c as Qe}from"./index-DAXvTnSp.js";import{d as Xe,r as i,a as Ye,C as Ue,c as De,k as Ze,H as et,b as a,f as e,e as c,l as tt,y as st,p as lt,t as o,n as xe,F as E,h as P,G as b,w as g,D as k,g as fe,E as ot,v as w,z as re,o as n}from"./vue-CUAfhYnW.js";import"./supabase-DiqIXwZt.js";const at=Xe("projectMember",()=>{const h=i([]),f=i([]),R=i(!1),d=i(!1),M=i(!1);async function m(v){R.value=!0;try{const r=await Q.getProjectMembers(v);h.value=r||[]}catch(r){throw console.error("Error fetching project members:",r),r}finally{R.value=!1}}async function ye(v,r){try{const u=await Q.getAvailableUsers(v,r);f.value=u||[]}catch(u){throw console.error("Error fetching available users:",u),u}}async function B(v,r,u="member"){d.value=!0;try{const p=await Q.addProjectMember({project_id:v,user_id:r,role:u});return p&&(h.value.unshift(p),f.value=f.value.filter(x=>x.id!==r)),p}catch(p){throw console.error("Error adding member to project:",p),p}finally{d.value=!1}}async function $(v,r){try{const u=await Q.updateMemberRole(v,r),p=h.value.findIndex(x=>x.id===v);return p!==-1&&(h.value[p].role=r),u}catch(u){throw console.error("Error updating member role:",u),u}}async function V(v){try{const r=h.value.find(p=>p.id===v);if(!r)throw new Error("æˆå‘˜ä¸å­˜åœ¨");const u=await Q.removeProjectMember(r.project_id,r.user_id);return h.value=h.value.filter(p=>p.id!==v),r.user&&f.value.push(r.user),u}catch(r){throw console.error("Error removing member from project:",r),r}}async function H(v){M.value=!0;try{return await X.createTask(v)}catch(r){throw console.error("Error creating task with assignment:",r),r}finally{M.value=!1}}async function N(v,r){M.value=!0;try{return await X.updateTask(v,{assignee_id:r})}catch(u){throw console.error("Error assigning task to member:",u),u}finally{M.value=!1}}async function F(v,r){try{const p=(await X.getTasksByProject(v)).filter(x=>x.assignee_id===r);return{total:p.length,todo:p.filter(x=>x.status==="todo").length,inProgress:p.filter(x=>x.status==="in_progress").length,completed:p.filter(x=>x.status==="done").length}}catch(u){return console.error("Error getting member task stats:",u),{total:0,todo:0,inProgress:0,completed:0}}}function S(){return[{value:"admin",label:"ç®¡ç†å‘˜",description:"å¯ä»¥ç®¡ç†é¡¹ç›®è®¾ç½®å’Œæˆå‘˜"},{value:"manager",label:"é¡¹ç›®ç»ç†",description:"å¯ä»¥ç®¡ç†ä»»åŠ¡å’Œæˆå‘˜"},{value:"developer",label:"å¼€å‘äººå‘˜",description:"å¯ä»¥å¤„ç†å¼€å‘ä»»åŠ¡"},{value:"designer",label:"è®¾è®¡å¸ˆ",description:"å¯ä»¥å¤„ç†è®¾è®¡ä»»åŠ¡"},{value:"tester",label:"æµ‹è¯•äººå‘˜",description:"å¯ä»¥å¤„ç†æµ‹è¯•ä»»åŠ¡"},{value:"member",label:"æ™®é€šæˆå‘˜",description:"å¯ä»¥æŸ¥çœ‹é¡¹ç›®ä¿¡æ¯"}]}function O(v){return{admin:"ç®¡ç†å‘˜",manager:"é¡¹ç›®ç»ç†",developer:"å¼€å‘äººå‘˜",designer:"è®¾è®¡å¸ˆ",tester:"æµ‹è¯•äººå‘˜",member:"æ™®é€šæˆå‘˜"}[v]||v}async function W(v,r){try{const u=await Q.generateSampleTeamMembers(v,r);return await m(r),u}catch(u){throw console.error("Error generating sample team members:",u),u}}function j(){h.value=[],f.value=[]}return{members:h,availableUsers:f,isLoading:R,isAddingMember:d,isAssigningTask:M,fetchProjectMembers:m,fetchAvailableUsers:ye,addMemberToProject:B,updateMemberRole:$,removeMemberFromProject:V,createTaskWithAssignment:H,assignTaskToMember:N,getMemberTaskStats:F,getRoleOptions:S,getRoleDisplayText:O,generateSampleTeamMembers:W,clearData:j}}),nt={class:"min-h-screen"},it={class:"bg-white shadow-sm border-b border-gray-200"},rt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},dt={class:"flex justify-between h-16"},ut={class:"flex items-center space-x-4"},vt={class:"text-xl font-semibold text-gray-900"},mt={class:"flex items-center space-x-4"},ct={class:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8"},pt={class:"px-4 py-6 sm:px-0"},gt={class:"card p-6 mb-6"},bt={class:"text-gray-600 mb-6"},xt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ft={class:"space-y-3"},yt={class:"font-medium"},kt={class:"text-gray-700"},wt={class:"font-medium"},ht={class:"font-medium"},_t={class:"space-y-3"},Tt={class:"font-medium"},Mt={class:"font-medium"},jt={class:"font-medium"},Ct={class:"font-medium"},Ut={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6"},Dt={class:"card p-6"},Et={class:"text-3xl font-bold text-orange-600"},Pt={class:"card p-6"},Vt={class:"text-3xl font-bold text-blue-600"},St={class:"card p-6"},zt={class:"text-3xl font-bold text-green-600"},At={class:"card p-6 mb-6"},Lt={class:"space-y-3"},It={class:"text-sm text-gray-700"},Rt={class:"card p-6 mb-6"},Bt={class:"flex justify-between items-center mb-4"},$t={class:"flex space-x-2"},Ht=["disabled"],Nt={key:0,class:"text-center py-4"},Ft={key:1,class:"text-center py-6"},Ot={key:2,class:"text-red-600 text-sm mb-4"},Wt={key:3,class:"text-red-600 text-sm mb-4"},qt={key:4,class:"mb-6 p-4 bg-gray-50 rounded-lg"},Gt={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},Jt={class:"text-center"},Kt={class:"text-2xl font-bold text-blue-600"},Qt={class:"text-center"},Xt={class:"text-2xl font-bold text-green-600"},Yt={class:"text-center"},Zt={class:"text-2xl font-bold text-purple-600"},es={class:"text-center"},ts={class:"text-2xl font-bold text-orange-600"},ss={key:5,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},ls={class:"flex items-center space-x-3 mb-3"},os={class:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center"},as={class:"text-blue-600 font-semibold"},ns={class:"flex-1 min-w-0"},is={class:"text-sm font-medium text-gray-900 truncate"},rs={class:"text-xs text-gray-500 truncate"},ds={class:"flex justify-between items-center"},us={class:"flex space-x-1"},vs=["onClick"],ms=["onClick"],cs=["onClick"],ps={class:"mt-3 text-xs text-gray-500"},gs={class:"card p-6 mb-6"},bs={class:"flex justify-between items-center mb-4"},xs={class:"flex space-x-2"},fs={key:0,class:"text-center py-8"},ys={key:1,class:"text-center py-8"},ks={key:2,class:"space-y-3"},ws={class:"flex justify-between items-start mb-2"},hs={class:"font-medium text-gray-900"},_s={class:"flex space-x-2"},Ts=["onClick"],Ms=["onClick"],js={key:0,class:"text-sm text-gray-600 mb-3 line-clamp-2"},Cs={class:"flex justify-between items-center text-xs text-gray-500"},Us={class:"flex items-center space-x-4"},Ds={key:0},Es={key:1},Ps={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},Vs={class:"bg-white rounded-lg max-w-md w-full p-6"},Ss={class:"space-y-4"},zs={key:0,class:"text-red-600 text-sm mt-2"},As={class:"flex justify-end space-x-3 mt-6"},Ls=["disabled"],Is={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},Rs={class:"bg-white rounded-lg max-w-md w-full p-6"},Bs={key:0,class:"text-center py-4"},$s={key:1,class:"space-y-4"},Hs=["value"],Ns=["value"],Fs={key:2,class:"text-red-600 text-sm mt-2"},Os={class:"flex justify-end space-x-3 mt-6"},Ws=["disabled"],qs={key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},Gs={class:"bg-white rounded-lg max-w-md w-full p-6"},Js={class:"space-y-4"},Ks={class:"text-sm text-gray-600"},Qs=["value"],Xs={key:0,class:"text-red-600 text-sm mt-2"},Ys={class:"flex justify-end space-x-3 mt-6"},Zs=["disabled"],el={key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},tl={class:"bg-white rounded-lg max-w-md w-full p-6"},sl={class:"space-y-4"},ll={class:"text-sm text-gray-600"},ol={key:0,class:"text-red-600 text-sm mt-2"},al={class:"flex justify-end space-x-3 mt-6"},nl=["disabled"],il={key:4,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},rl={class:"bg-white rounded-lg max-w-md w-full p-6"},dl={class:"space-y-4"},ul=["value"],vl={key:0,class:"text-red-600 text-sm mt-2"},ml={class:"flex justify-end space-x-3 mt-6"},cl=["disabled"],pl={key:5,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},gl={class:"bg-white rounded-lg max-w-md w-full p-6"},bl={class:"text-gray-600 mb-6"},xl={class:"font-semibold text-gray-900"},fl={key:0,class:"text-red-600 text-sm mb-4 p-3 bg-red-50 rounded-lg"},yl={class:"flex justify-end space-x-3"},kl=["disabled"],wl=["disabled"],hl={key:6,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},_l={class:"bg-white rounded-lg max-w-md w-full p-6"},Tl={class:"text-gray-600 mb-6"},Ml={class:"font-semibold text-gray-900"},jl={key:0,class:"text-red-600 text-sm mb-4 p-3 bg-red-50 rounded-lg"},Cl={class:"flex justify-end space-x-3"},Ul=["disabled"],Dl=["disabled"],El={key:7,class:"fixed inset-0 z-50 overflow-hidden"},Pl={class:"absolute inset-y-0 right-0 max-w-lg w-full bg-white shadow-xl transform transition-transform duration-300 ease-in-out"},Vl={class:"flex items-center justify-between p-6 border-b border-gray-200"},Sl={class:"flex items-center space-x-3"},zl={key:0,class:"text-sm text-gray-500"},Al={class:"flex items-center space-x-2"},Ll=["disabled"],Il={class:"p-6 overflow-y-auto",style:{height:"calc(100vh - 80px)"}},Rl={class:"space-y-6"},Bl={class:"bg-gray-50 p-4 rounded-lg"},$l={class:"space-y-4"},Hl={class:"bg-gray-50 p-4 rounded-lg"},Nl={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Fl=["value"],Ol={key:0,class:"bg-gray-50 p-4 rounded-lg"},Wl={class:"grid grid-cols-2 gap-4 text-sm"},ql={class:"font-medium"},Gl={class:"font-medium"},Jl={class:"font-medium"},Kl={class:"font-medium"},Ql={key:1,class:"p-3 bg-red-50 border border-red-200 rounded-lg"},Xl={class:"flex items-center"},Yl={class:"text-red-700 text-sm"},so=Ye({__name:"ProjectDetail",setup(h){const f=et(),R=Je(),d=at(),M=Ke(),m=i(),ye=i(!0),B=i(!1),$=i(!1),V=i(""),H=i(!1),N=i(!1),F=i(!1),S=i(!1),O=i(!1),W=i(!1),j=i(""),v=i(""),r=i(null),u=i(""),p=i(null),x=i(""),Y=i(""),z=i(""),Z=i(""),A=i(""),L=i(""),ee=i(""),te=i("medium"),se=i(""),q=i(""),de=i(""),le=i(""),ue=i("medium"),ve=i(""),ke=i(!1),_=i(null),I=i(""),oe=i(""),G=i(""),ae=i("medium"),ne=i("todo"),ie=i(""),C=i(""),_e=i(!1),Te=i(null),J=i(!1),me=i(""),ce=i([]),we=i(!1),pe=i("all"),U=Ue({total:0,pending:0,inProgress:0,completed:0,completionRate:0}),Ee=i([{id:1,message:"é¡¹ç›®è¿›åº¦è‰¯å¥½ï¼Œå»ºè®®ç»§ç»­ä¿æŒå½“å‰èŠ‚å¥"},{id:2,message:"æ£€æµ‹åˆ°2ä¸ªä»»åŠ¡å³å°†åˆ°æœŸï¼Œå»ºè®®ä¼˜å…ˆå¤„ç†"},{id:3,message:"å›¢é˜Ÿæˆå‘˜å·¥ä½œè´Ÿè·å‡è¡¡ï¼Œæ•ˆç‡è¾ƒé«˜"}]),Me=De(()=>pe.value==="all"?ce.value:ce.value.filter(l=>l.status===pe.value)),ge=De(()=>({total:d.members.length,managers:d.members.filter(t=>t.role==="manager").length,developers:d.members.filter(t=>t.role==="developer").length,designers:d.members.filter(t=>t.role==="designer").length,testers:d.members.filter(t=>t.role==="tester").length})),y=Ue({name:"",description:"",status:"active"});function D(l){if(!l)return"æœªè®¾ç½®";const t=new Date(l);return isNaN(t.getTime())?"æ— æ•ˆæ—¥æœŸ":t.toLocaleDateString("zh-CN")}function Pe(l){return{active:"bg-green-100 text-green-800",paused:"bg-yellow-100 text-yellow-800",completed:"bg-blue-100 text-blue-800",archived:"bg-gray-100 text-gray-800"}[l]||"bg-gray-100 text-gray-800"}function je(l){return{planning:"è§„åˆ’ä¸­",active:"æ´»è·ƒ",completed:"å·²å®Œæˆ",cancelled:"å·²å–æ¶ˆ",paused:"æš‚åœ",archived:"å·²å½’æ¡£"}[l]||l}function Ve(){console.log("æ‰“å¼€AIèŠå¤©åŠ©æ‰‹")}function Se(){console.log("ç”Ÿæˆé¡¹ç›®æŠ¥å‘Š")}function Ce(l){return{low:"ä½",medium:"ä¸­",high:"é«˜",urgent:"ç´§æ€¥"}[l]||l}function ze(l){return{todo:"å¾…åŠ",in_progress:"è¿›è¡Œä¸­",review:"å®¡æ ¸ä¸­",done:"å·²å®Œæˆ",cancelled:"å·²å–æ¶ˆ"}[l]||l}async function be(){const l=parseInt(f.params.id);we.value=!0;try{const t=await X.getTasksByProject(l);ce.value=t;const T=await X.getTaskStats(l);U.total=T.total,U.pending=T.pending,U.inProgress=T.inProgress,U.completed=T.completed,U.completionRate=T.completionRate}catch(t){console.error("Error fetching tasks:",t)}finally{we.value=!1}}async function Ae(){await be()}function Le(l){r.value=l,u.value=l.role,N.value=!0}function Ie(l){p.value=l,L.value="",ee.value="",te.value="medium",se.value="",z.value="",F.value=!0}async function Re(){if(!j.value||!v.value){x.value="è¯·é€‰æ‹©æˆå‘˜å’Œè§’è‰²";return}x.value="";try{await d.addMemberToProject(parseInt(f.params.id),parseInt(j.value),v.value),j.value="",v.value="",H.value=!1}catch(l){x.value=l.message||"æ·»åŠ æˆå‘˜å¤±è´¥"}}async function Be(){if(!r.value||!u.value){Y.value="è¯·é€‰æ‹©è§’è‰²";return}Y.value="";try{await d.updateMemberRole(r.value.id,u.value),r.value=null,u.value="",N.value=!1}catch(l){Y.value=l.message||"æ›´æ–°è§’è‰²å¤±è´¥"}}async function $e(l){if(confirm("ç¡®å®šè¦ç§»é™¤è¯¥æˆå‘˜å—ï¼Ÿ"))try{await d.removeMemberFromProject(l)}catch(t){alert("ç§»é™¤æˆå‘˜å¤±è´¥: "+(t.message||"æœªçŸ¥é”™è¯¯"))}}async function He(){if(!L.value.trim()){z.value="è¯·è¾“å…¥ä»»åŠ¡æ ‡é¢˜";return}if(!p.value){z.value="è¯·é€‰æ‹©è¦åˆ†é…çš„æˆå‘˜";return}z.value="";try{await d.createTaskWithAssignment({title:L.value,description:ee.value,project_id:parseInt(f.params.id),assignee_id:p.value.user_id,reporter_id:M.user?.id||0,status:"todo",priority:te.value,due_date:se.value||void 0}),L.value="",ee.value="",te.value="medium",se.value="",p.value=null,F.value=!1,alert("ä»»åŠ¡åˆ†é…æˆåŠŸï¼")}catch(l){z.value=l.message||"åˆ†é…ä»»åŠ¡å¤±è´¥"}}async function Ne(){if(!q.value.trim()){Z.value="è¯·è¾“å…¥ä»»åŠ¡æ ‡é¢˜";return}Z.value="";try{const{UserService:l}=await Qe(async()=>{const{UserService:s}=await import("./index-DAXvTnSp.js").then(K=>K.e);return{UserService:s}},__vite__mapDeps([0,1,2,3]));let t=125;const T=M.user?.email;if(T)try{const s=await l.getUserByEmail(T);s?.id&&(t=s.id)}catch(s){console.warn("é€šè¿‡é‚®ç®±æŸ¥è¯¢ç”¨æˆ·å¤±è´¥ï¼Œä½¿ç”¨é»˜è®¤ID 125:",s)}await d.createTaskWithAssignment({title:q.value,description:de.value,project_id:parseInt(f.params.id),assignee_id:le.value?parseInt(le.value):void 0,reporter_id:t,status:"todo",priority:ue.value,due_date:ve.value||void 0}),q.value="",de.value="",le.value="",ue.value="medium",ve.value="",S.value=!1,alert("ä»»åŠ¡åˆ›å»ºæˆåŠŸï¼")}catch(l){Z.value=l.message||"åˆ›å»ºä»»åŠ¡å¤±è´¥"}}function Fe(l){_.value=l,I.value=l.title,oe.value=l.description||"",G.value=l.assignee_id?l.assignee_id.toString():"",ae.value=l.priority||"medium",ne.value=l.status||"todo",ie.value=l.due_date?We(l.due_date):"",C.value="",ke.value=!0}function he(){ke.value=!1,_.value=null,I.value="",oe.value="",G.value="",ae.value="medium",ne.value="todo",ie.value="",C.value=""}async function Oe(){if(!I.value.trim()){C.value="è¯·è¾“å…¥ä»»åŠ¡æ ‡é¢˜";return}if(!_.value){C.value="æœªæ‰¾åˆ°è¦ç¼–è¾‘çš„ä»»åŠ¡";return}C.value="";try{await X.updateTask(_.value.id,{title:I.value,description:oe.value,assignee_id:G.value?parseInt(G.value):void 0,priority:ae.value,status:ne.value,due_date:ie.value||void 0}),await be(),he(),alert("ä»»åŠ¡æ›´æ–°æˆåŠŸï¼")}catch(l){C.value=l.message||"æ›´æ–°ä»»åŠ¡å¤±è´¥",console.error("Error updating task:",l)}}function We(l){return l?new Date(l).toISOString().split("T")[0]:""}async function qe(){if(!m.value?.organization_id){A.value="é¡¹ç›®æ²¡æœ‰å…³è”çš„ç»„ç»‡ï¼Œæ— æ³•ç”Ÿæˆç¤ºä¾‹å›¢é˜Ÿ";return}if(confirm("è¿™å°†ç”Ÿæˆ7ä¸ªç¤ºä¾‹å›¢é˜Ÿæˆå‘˜å’Œ6ä¸ªç¤ºä¾‹ä»»åŠ¡ã€‚ç¡®å®šè¦ç»§ç»­å—ï¼Ÿ")){W.value=!0,A.value="";try{const l=await d.generateSampleTeamMembers(m.value.organization_id,parseInt(f.params.id));await be(),alert(`âœ… ç¤ºä¾‹å›¢é˜Ÿç”ŸæˆæˆåŠŸï¼

åˆ›å»ºäº† ${l.length} ä¸ªå›¢é˜Ÿæˆå‘˜
è‡ªåŠ¨ç”Ÿæˆäº†6ä¸ªç¤ºä¾‹ä»»åŠ¡

ç°åœ¨å¯ä»¥å¼€å§‹é¡¹ç›®åä½œäº†ï¼`)}catch(l){A.value=l.message||"ç”Ÿæˆç¤ºä¾‹å›¢é˜Ÿå¤±è´¥"}finally{W.value=!1}}}async function Ge(){if(!y.name.trim()){V.value="è¯·è¾“å…¥é¡¹ç›®åç§°";return}$.value=!0,V.value="";try{await R.updateProject(parseInt(f.params.id),y),B.value=!1}catch(l){V.value=l.message||"æ›´æ–°é¡¹ç›®å¤±è´¥"}finally{$.value=!1}}return Ze(async()=>{const l=f.params.id;try{console.log("ğŸš€ å¼€å§‹åŠ è½½é¡¹ç›®è¯¦æƒ…ï¼Œé¡¹ç›®ID:",l);const t=await R.fetchProjectById(l);t.success&&t.data?(m.value=t.data,console.log("âœ… é¡¹ç›®è¯¦æƒ…åŠ è½½æˆåŠŸ:",t.data),y.name=m.value.name,y.description=m.value.description||"",y.status=m.value.status,console.log("ğŸ” å¼€å§‹åŠ è½½é¡¹ç›®æˆå‘˜..."),await d.fetchProjectMembers(parseInt(l)),console.log("âœ… é¡¹ç›®æˆå‘˜åŠ è½½å®Œæˆï¼Œæ•°é‡:",d.members.length),m.value.organization_id&&(console.log("ğŸ” å¼€å§‹åŠ è½½å¯æ·»åŠ çš„ç”¨æˆ·åˆ—è¡¨..."),await d.fetchAvailableUsers(m.value.organization_id,parseInt(l)),console.log("âœ… å¯æ·»åŠ ç”¨æˆ·åˆ—è¡¨åŠ è½½å®Œæˆï¼Œæ•°é‡:",d.availableUsers.length)),console.log("ğŸ” å¼€å§‹åŠ è½½ä»»åŠ¡åˆ—è¡¨..."),await be(),console.log("âœ… ä»»åŠ¡åˆ—è¡¨åŠ è½½å®Œæˆï¼Œæ•°é‡:",ce.value.length)):console.error("âŒ é¡¹ç›®è¯¦æƒ…åŠ è½½å¤±è´¥: é¡¹ç›®ä¸å­˜åœ¨")}catch(t){console.error("âŒ åŠ è½½é¡¹ç›®è¯¦æƒ…å¤±è´¥:",t)}finally{ye.value=!1}}),(l,t)=>{const T=lt("RouterLink");return n(),a("div",nt,[e("nav",it,[e("div",rt,[e("div",dt,[e("div",ut,[tt(T,{to:`/organizations/${m.value?.organization_id}`,class:"text-gray-600 hover:text-gray-900"},{default:st(()=>[...t[36]||(t[36]=[re(" â† è¿”å›ç»„ç»‡ ",-1)])]),_:1},8,["to"]),e("h1",vt,o(m.value?.name),1),e("span",{class:xe([Pe(m.value?.status),"px-2 py-1 rounded-full text-xs"])},o(je(m.value?.status)),3)]),e("div",mt,[e("button",{onClick:t[0]||(t[0]=s=>B.value=!0),class:"btn btn-secondary"}," ç¼–è¾‘é¡¹ç›® ")])])])]),e("main",ct,[e("div",pt,[e("div",gt,[t[47]||(t[47]=e("h2",{class:"text-lg font-semibold mb-4"},"é¡¹ç›®ä¿¡æ¯",-1)),e("p",bt,o(m.value?.description||"æš‚æ— æè¿°"),1),e("div",xt,[e("div",null,[t[41]||(t[41]=e("h3",{class:"text-md font-medium text-gray-900 mb-3"},"åŸºæœ¬ä¿¡æ¯",-1)),e("div",ft,[e("div",null,[t[37]||(t[37]=e("span",{class:"text-sm text-gray-500"},"é¡¹ç›®åç§°:",-1)),e("p",yt,o(m.value?.name||"æœªè®¾ç½®"),1)]),e("div",null,[t[38]||(t[38]=e("span",{class:"text-sm text-gray-500"},"é¡¹ç›®æè¿°:",-1)),e("p",kt,o(m.value?.description||"æš‚æ— æè¿°"),1)]),e("div",null,[t[39]||(t[39]=e("span",{class:"text-sm text-gray-500"},"é¡¹ç›®çŠ¶æ€:",-1)),e("p",wt,o(je(m.value?.status)),1)]),e("div",null,[t[40]||(t[40]=e("span",{class:"text-sm text-gray-500"},"é¡¹ç›®ä¼˜å…ˆçº§:",-1)),e("p",ht,o(Ce(m.value?.priority)),1)])])]),e("div",null,[t[46]||(t[46]=e("h3",{class:"text-md font-medium text-gray-900 mb-3"},"æ—¶é—´ä¿¡æ¯",-1)),e("div",_t,[e("div",null,[t[42]||(t[42]=e("span",{class:"text-sm text-gray-500"},"åˆ›å»ºæ—¶é—´:",-1)),e("p",Tt,o(m.value?.created_at?D(m.value.created_at):"æœªè®¾ç½®"),1)]),e("div",null,[t[43]||(t[43]=e("span",{class:"text-sm text-gray-500"},"æ›´æ–°æ—¶é—´:",-1)),e("p",Mt,o(m.value?.updated_at?D(m.value.updated_at):"æœªè®¾ç½®"),1)]),e("div",null,[t[44]||(t[44]=e("span",{class:"text-sm text-gray-500"},"ç»“æŸæ—¶é—´:",-1)),e("p",jt,o(m.value?.end_date?D(m.value.end_date):"æœªè®¾ç½®"),1)]),e("div",null,[t[45]||(t[45]=e("span",{class:"text-sm text-gray-500"},"é¡¹ç›®è¿›åº¦:",-1)),e("p",Ct,o(m.value?.progress_percentage||0)+"%",1)])])])])]),e("div",Ut,[e("div",Dt,[t[48]||(t[48]=e("h3",{class:"text-lg font-semibold mb-2"},"å¾…åŠä»»åŠ¡",-1)),e("p",Et,o(U.pending),1)]),e("div",Pt,[t[49]||(t[49]=e("h3",{class:"text-lg font-semibold mb-2"},"è¿›è¡Œä¸­",-1)),e("p",Vt,o(U.inProgress),1)]),e("div",St,[t[50]||(t[50]=e("h3",{class:"text-lg font-semibold mb-2"},"å·²å®Œæˆ",-1)),e("p",zt,o(U.completed),1)])]),e("div",At,[t[51]||(t[51]=e("h2",{class:"text-lg font-semibold mb-4"},"AIåˆ†æå»ºè®®",-1)),e("div",Lt,[(n(!0),a(E,null,P(Ee.value,s=>(n(),a("div",{key:s.id,class:"p-3 bg-gray-50 rounded-lg"},[e("p",It,o(s.message),1)]))),128))])]),e("div",Rt,[e("div",Bt,[t[52]||(t[52]=e("h2",{class:"text-lg font-semibold"},"å›¢é˜Ÿæˆå‘˜",-1)),e("div",$t,[e("button",{onClick:t[1]||(t[1]=s=>H.value=!0),class:"btn btn-primary text-sm"}," æ·»åŠ æˆå‘˜ "),b(d).members.length===0?(n(),a("button",{key:0,onClick:qe,class:"btn btn-secondary text-sm",disabled:W.value},o(W.value?"ç”Ÿæˆä¸­...":"ç”Ÿæˆç¤ºä¾‹å›¢é˜Ÿ"),9,Ht)):c("",!0),b(d).members.length>0?(n(),a("button",{key:1,onClick:t[2]||(t[2]=s=>O.value=!O.value),class:"btn btn-outline text-sm"},o(O.value?"éšè—ç»Ÿè®¡":"æ˜¾ç¤ºç»Ÿè®¡"),1)):c("",!0)])]),b(d).isLoading?(n(),a("div",Nt,[...t[53]||(t[53]=[e("div",{class:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"},null,-1),e("p",{class:"mt-2 text-sm text-gray-600"},"åŠ è½½ä¸­...",-1)])])):b(d).members.length===0?(n(),a("div",Ft,[...t[54]||(t[54]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})],-1),e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"æš‚æ— å›¢é˜Ÿæˆå‘˜",-1),e("p",{class:"mt-1 text-sm text-gray-500"},"æ·»åŠ æˆå‘˜å¼€å§‹åä½œ",-1)])])):c("",!0),A.value?(n(),a("div",Ot,o(A.value),1)):c("",!0),A.value?(n(),a("div",Wt,o(A.value),1)):c("",!0),O.value&&b(d).members.length>0?(n(),a("div",qt,[t[59]||(t[59]=e("h3",{class:"text-md font-semibold mb-3"},"å›¢é˜Ÿç»Ÿè®¡",-1)),e("div",Gt,[e("div",Jt,[e("div",Kt,o(ge.value.total),1),t[55]||(t[55]=e("div",{class:"text-sm text-gray-600"},"æ€»äººæ•°",-1))]),e("div",Qt,[e("div",Xt,o(ge.value.developers),1),t[56]||(t[56]=e("div",{class:"text-sm text-gray-600"},"å¼€å‘äººå‘˜",-1))]),e("div",Yt,[e("div",Zt,o(ge.value.designers),1),t[57]||(t[57]=e("div",{class:"text-sm text-gray-600"},"è®¾è®¡å¸ˆ",-1))]),e("div",es,[e("div",ts,o(ge.value.testers),1),t[58]||(t[58]=e("div",{class:"text-sm text-gray-600"},"æµ‹è¯•äººå‘˜",-1))])])])):(n(),a("div",ss,[(n(!0),a(E,null,P(b(d).members,s=>(n(),a("div",{key:s.id,class:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow"},[e("div",ls,[e("div",os,[e("span",as,o(s.user?.display_name?.charAt(0)||"U"),1)]),e("div",ns,[e("p",is,o(s.user?.display_name||"æœªçŸ¥ç”¨æˆ·"),1),e("p",rs,o(s.user?.email||"æ— é‚®ç®±"),1)])]),e("div",ds,[e("span",{class:xe(["px-2 py-1 rounded-full text-xs font-medium",s.role==="admin"?"bg-red-100 text-red-800":s.role==="manager"?"bg-purple-100 text-purple-800":s.role==="developer"?"bg-blue-100 text-blue-800":s.role==="designer"?"bg-pink-100 text-pink-800":s.role==="tester"?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-800"])},o(b(d).getRoleDisplayText(s.role)),3),e("div",us,[e("button",{onClick:K=>Le(s),class:"text-gray-400 hover:text-blue-600 p-1",title:"ç¼–è¾‘è§’è‰²"},[...t[60]||(t[60]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,vs),e("button",{onClick:K=>Ie(s),class:"text-gray-400 hover:text-green-600 p-1",title:"åˆ†é…ä»»åŠ¡"},[...t[61]||(t[61]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1)])],8,ms),s.role!=="admin"?(n(),a("button",{key:0,onClick:K=>$e(s.id),class:"text-gray-400 hover:text-red-600 p-1",title:"ç§»é™¤æˆå‘˜"},[...t[62]||(t[62]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,cs)):c("",!0)])]),e("div",ps," åŠ å…¥æ—¶é—´: "+o(D(s.joined_at)),1)]))),128))]))]),e("div",gs,[e("div",bs,[t[64]||(t[64]=e("h2",{class:"text-lg font-semibold"},"ä»»åŠ¡åˆ—è¡¨",-1)),e("div",xs,[g(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>pe.value=s),class:"input text-sm"},[...t[63]||(t[63]=[fe('<option value="all">å…¨éƒ¨ä»»åŠ¡</option><option value="todo">å¾…åŠ</option><option value="in_progress">è¿›è¡Œä¸­</option><option value="review">å®¡æ ¸ä¸­</option><option value="done">å·²å®Œæˆ</option><option value="cancelled">å·²å–æ¶ˆ</option>',6)])],512),[[k,pe.value]]),e("button",{onClick:t[4]||(t[4]=s=>S.value=!0),class:"btn btn-primary text-sm"}," åˆ›å»ºä»»åŠ¡ ")])]),we.value?(n(),a("div",fs,[...t[65]||(t[65]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"},null,-1),e("p",{class:"mt-2 text-sm text-gray-600"},"åŠ è½½ä»»åŠ¡ä¸­...",-1)])])):Me.value.length===0?(n(),a("div",ys,[t[66]||(t[66]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1)),t[67]||(t[67]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"æš‚æ— ä»»åŠ¡",-1)),t[68]||(t[68]=e("p",{class:"mt-1 text-sm text-gray-500"},"åˆ›å»ºç¬¬ä¸€ä¸ªä»»åŠ¡å¼€å§‹å·¥ä½œ",-1)),e("button",{onClick:t[5]||(t[5]=s=>S.value=!0),class:"mt-4 btn btn-primary"}," åˆ›å»ºä»»åŠ¡ ")])):(n(),a("div",ks,[(n(!0),a(E,null,P(Me.value,s=>(n(),a("div",{key:s.id,class:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow"},[e("div",ws,[e("h3",hs,o(s.title),1),e("div",_s,[e("span",{class:xe(["px-2 py-1 rounded-full text-xs font-medium",s.priority==="high"?"bg-red-100 text-red-800":s.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"])},o(Ce(s.priority)),3),e("span",{class:xe(["px-2 py-1 rounded-full text-xs font-medium",s.status==="done"?"bg-green-100 text-green-800":s.status==="in_progress"?"bg-blue-100 text-blue-800":s.status==="review"?"bg-purple-100 text-purple-800":s.status==="cancelled"?"bg-gray-100 text-gray-800":"bg-orange-100 text-orange-800"])},o(ze(s.status)),3),e("button",{onClick:K=>Fe(s),class:"flex items-center space-x-1 px-2 py-1 text-xs text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded transition-colors",title:"ç¼–è¾‘ä»»åŠ¡"},[...t[69]||(t[69]=[e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),e("span",null,"ç¼–è¾‘",-1)])],8,Ts),e("button",{onClick:K=>l.confirmDeleteTask(s),class:"flex items-center space-x-1 px-2 py-1 text-xs text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors",title:"åˆ é™¤ä»»åŠ¡"},[...t[70]||(t[70]=[e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),e("span",null,"åˆ é™¤",-1)])],8,Ms)])]),s.description?(n(),a("p",js,o(s.description),1)):c("",!0),e("div",Cs,[e("div",Us,[s.assignee?(n(),a("span",Ds," è´Ÿè´£äºº: "+o(s.assignee.display_name),1)):c("",!0),s.due_date?(n(),a("span",Es," æˆªæ­¢: "+o(D(s.due_date)),1)):c("",!0)]),e("span",null," åˆ›å»º: "+o(D(s.created_at)),1)])]))),128))]))]),e("div",{class:"card p-6"},[t[71]||(t[71]=e("h2",{class:"text-lg font-semibold mb-4"},"å¿«é€Ÿæ“ä½œ",-1)),e("div",{class:"flex flex-wrap gap-4"},[e("button",{onClick:Ve,class:"btn btn-primary"}," å’¨è¯¢AIåŠ©æ‰‹ "),e("button",{onClick:Se,class:"btn btn-secondary"}," ç”Ÿæˆé¡¹ç›®æŠ¥å‘Š "),e("button",{onClick:Ae,class:"btn btn-secondary"}," åˆ·æ–°ä»»åŠ¡ ")])])])]),B.value?(n(),a("div",Ps,[e("div",Vs,[t[76]||(t[76]=e("h3",{class:"text-lg font-semibold mb-4"},"ç¼–è¾‘é¡¹ç›®",-1)),e("form",{onSubmit:ot(Ge,["prevent"])},[e("div",Ss,[e("div",null,[t[72]||(t[72]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"é¡¹ç›®åç§°",-1)),g(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>y.name=s),type:"text",required:"",class:"input",placeholder:"è¯·è¾“å…¥é¡¹ç›®åç§°"},null,512),[[w,y.name]])]),e("div",null,[t[73]||(t[73]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"é¡¹ç›®æè¿°",-1)),g(e("textarea",{"onUpdate:modelValue":t[7]||(t[7]=s=>y.description=s),class:"input resize-none",rows:"3",placeholder:"è¯·è¾“å…¥é¡¹ç›®æè¿°"},null,512),[[w,y.description]])]),e("div",null,[t[75]||(t[75]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"é¡¹ç›®çŠ¶æ€",-1)),g(e("select",{"onUpdate:modelValue":t[8]||(t[8]=s=>y.status=s),class:"input"},[...t[74]||(t[74]=[e("option",{value:"active"},"æ´»è·ƒ",-1),e("option",{value:"paused"},"æš‚åœ",-1),e("option",{value:"completed"},"å·²å®Œæˆ",-1),e("option",{value:"archived"},"å·²å½’æ¡£",-1)])],512),[[k,y.status]])])]),V.value?(n(),a("div",zs,o(V.value),1)):c("",!0),e("div",As,[e("button",{type:"button",onClick:t[9]||(t[9]=s=>B.value=!1),class:"btn btn-secondary"}," å–æ¶ˆ "),e("button",{type:"submit",disabled:$.value,class:"btn btn-primary"},o($.value?"æ›´æ–°ä¸­...":"æ›´æ–°"),9,Ls)])],32)])])):c("",!0),H.value?(n(),a("div",Is,[e("div",Rs,[t[82]||(t[82]=e("h3",{class:"text-lg font-semibold mb-4"},"æ·»åŠ æˆå‘˜åˆ°é¡¹ç›®",-1)),b(d).availableUsers.length===0?(n(),a("div",Bs,[...t[77]||(t[77]=[e("p",{class:"text-gray-500"},"æ²¡æœ‰å¯æ·»åŠ çš„æˆå‘˜",-1)])])):(n(),a("div",$s,[e("div",null,[t[79]||(t[79]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"é€‰æ‹©æˆå‘˜",-1)),g(e("select",{"onUpdate:modelValue":t[10]||(t[10]=s=>j.value=s),class:"input w-full"},[t[78]||(t[78]=e("option",{value:""},"è¯·é€‰æ‹©æˆå‘˜",-1)),(n(!0),a(E,null,P(b(d).availableUsers,s=>(n(),a("option",{key:s.id,value:s.id},o(s.display_name)+" ("+o(s.email)+") ",9,Hs))),128))],512),[[k,j.value]])]),e("div",null,[t[81]||(t[81]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"åˆ†é…è§’è‰²",-1)),g(e("select",{"onUpdate:modelValue":t[11]||(t[11]=s=>v.value=s),class:"input w-full"},[t[80]||(t[80]=e("option",{value:""},"è¯·é€‰æ‹©è§’è‰²",-1)),(n(!0),a(E,null,P(b(d).getRoleOptions(),s=>(n(),a("option",{key:s.value,value:s.value},o(s.label)+" - "+o(s.description),9,Ns))),128))],512),[[k,v.value]])])])),x.value?(n(),a("div",Fs,o(x.value),1)):c("",!0),e("div",Os,[e("button",{type:"button",onClick:t[12]||(t[12]=s=>H.value=!1),class:"btn btn-secondary"}," å–æ¶ˆ "),e("button",{type:"button",onClick:Re,disabled:!j.value||!v.value||b(d).isAddingMember,class:"btn btn-primary"},o(b(d).isAddingMember?"æ·»åŠ ä¸­...":"æ·»åŠ "),9,Ws)])])])):c("",!0),N.value?(n(),a("div",qs,[e("div",Gs,[t[85]||(t[85]=e("h3",{class:"text-lg font-semibold mb-4"},"ç¼–è¾‘æˆå‘˜è§’è‰²",-1)),e("div",Js,[e("div",null,[e("p",Ks,"æˆå‘˜: "+o(r.value?.user?.display_name),1)]),e("div",null,[t[84]||(t[84]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"è§’è‰²",-1)),g(e("select",{"onUpdate:modelValue":t[13]||(t[13]=s=>u.value=s),class:"input w-full"},[t[83]||(t[83]=e("option",{value:""},"è¯·é€‰æ‹©è§’è‰²",-1)),(n(!0),a(E,null,P(b(d).getRoleOptions(),s=>(n(),a("option",{key:s.value,value:s.value},o(s.label)+" - "+o(s.description),9,Qs))),128))],512),[[k,u.value]])])]),Y.value?(n(),a("div",Xs,o(Y.value),1)):c("",!0),e("div",Ys,[e("button",{type:"button",onClick:t[14]||(t[14]=s=>N.value=!1),class:"btn btn-secondary"}," å–æ¶ˆ "),e("button",{type:"button",onClick:Be,disabled:!u.value,class:"btn btn-primary"}," æ›´æ–° ",8,Zs)])])])):c("",!0),F.value?(n(),a("div",el,[e("div",tl,[t[91]||(t[91]=e("h3",{class:"text-lg font-semibold mb-4"},"åˆ†é…ä»»åŠ¡",-1)),e("div",sl,[e("div",null,[e("p",ll,"åˆ†é…ç»™: "+o(p.value?.user?.display_name),1)]),e("div",null,[t[86]||(t[86]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"ä»»åŠ¡æ ‡é¢˜",-1)),g(e("input",{"onUpdate:modelValue":t[15]||(t[15]=s=>L.value=s),type:"text",class:"input w-full",placeholder:"è¯·è¾“å…¥ä»»åŠ¡æ ‡é¢˜"},null,512),[[w,L.value]])]),e("div",null,[t[87]||(t[87]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"ä»»åŠ¡æè¿°",-1)),g(e("textarea",{"onUpdate:modelValue":t[16]||(t[16]=s=>ee.value=s),class:"input w-full resize-none",rows:"3",placeholder:"è¯·è¾“å…¥ä»»åŠ¡æè¿°"},null,512),[[w,ee.value]])]),e("div",null,[t[89]||(t[89]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"ä¼˜å…ˆçº§",-1)),g(e("select",{"onUpdate:modelValue":t[17]||(t[17]=s=>te.value=s),class:"input w-full"},[...t[88]||(t[88]=[e("option",{value:"low"},"ä½",-1),e("option",{value:"medium"},"ä¸­",-1),e("option",{value:"high"},"é«˜",-1)])],512),[[k,te.value]])]),e("div",null,[t[90]||(t[90]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"æˆªæ­¢æ—¥æœŸ",-1)),g(e("input",{"onUpdate:modelValue":t[18]||(t[18]=s=>se.value=s),type:"date",class:"input w-full"},null,512),[[w,se.value]])])]),z.value?(n(),a("div",ol,o(z.value),1)):c("",!0),e("div",al,[e("button",{type:"button",onClick:t[19]||(t[19]=s=>F.value=!1),class:"btn btn-secondary"}," å–æ¶ˆ "),e("button",{type:"button",onClick:He,disabled:!L.value.trim()||b(d).isAssigningTask,class:"btn btn-primary"},o(b(d).isAssigningTask?"åˆ†é…ä¸­...":"åˆ†é…ä»»åŠ¡"),9,nl)])])])):c("",!0),S.value?(n(),a("div",il,[e("div",rl,[t[99]||(t[99]=e("h3",{class:"text-lg font-semibold mb-4"},"åˆ›å»ºæ–°ä»»åŠ¡",-1)),e("div",dl,[e("div",null,[t[92]||(t[92]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"ä»»åŠ¡æ ‡é¢˜",-1)),g(e("input",{"onUpdate:modelValue":t[20]||(t[20]=s=>q.value=s),type:"text",class:"input w-full",placeholder:"è¯·è¾“å…¥ä»»åŠ¡æ ‡é¢˜"},null,512),[[w,q.value]])]),e("div",null,[t[93]||(t[93]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"ä»»åŠ¡æè¿°",-1)),g(e("textarea",{"onUpdate:modelValue":t[21]||(t[21]=s=>de.value=s),class:"input w-full resize-none",rows:"3",placeholder:"è¯·è¾“å…¥ä»»åŠ¡æè¿°"},null,512),[[w,de.value]])]),e("div",null,[t[95]||(t[95]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"åˆ†é…ç»™",-1)),g(e("select",{"onUpdate:modelValue":t[22]||(t[22]=s=>le.value=s),class:"input w-full"},[t[94]||(t[94]=e("option",{value:""},"ä¸åˆ†é…",-1)),(n(!0),a(E,null,P(b(d).members,s=>(n(),a("option",{key:s.id,value:s.user_id},o(s.user?.display_name),9,ul))),128))],512),[[k,le.value]])]),e("div",null,[t[97]||(t[97]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"ä¼˜å…ˆçº§",-1)),g(e("select",{"onUpdate:modelValue":t[23]||(t[23]=s=>ue.value=s),class:"input w-full"},[...t[96]||(t[96]=[e("option",{value:"low"},"ä½",-1),e("option",{value:"medium"},"ä¸­",-1),e("option",{value:"high"},"é«˜",-1)])],512),[[k,ue.value]])]),e("div",null,[t[98]||(t[98]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"æˆªæ­¢æ—¥æœŸ",-1)),g(e("input",{"onUpdate:modelValue":t[24]||(t[24]=s=>ve.value=s),type:"date",class:"input w-full"},null,512),[[w,ve.value]])])]),Z.value?(n(),a("div",vl,o(Z.value),1)):c("",!0),e("div",ml,[e("button",{type:"button",onClick:t[25]||(t[25]=s=>S.value=!1),class:"btn btn-secondary"}," å–æ¶ˆ "),e("button",{type:"button",onClick:Ne,disabled:!q.value.trim()||b(d).isAssigningTask,class:"btn btn-primary"},o(b(d).isAssigningTask?"åˆ›å»ºä¸­...":"åˆ›å»ºä»»åŠ¡"),9,cl)])])])):c("",!0),_e.value?(n(),a("div",pl,[e("div",gl,[t[102]||(t[102]=fe('<div class="flex items-center mb-4"><div class="w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mr-3"><svg class="w-6 h-6 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path></svg></div><h3 class="text-lg font-semibold text-gray-900">ç¡®è®¤åˆ é™¤</h3></div>',1)),e("p",bl,[t[100]||(t[100]=re(" ç¡®å®šè¦åˆ é™¤ä»»åŠ¡ ",-1)),e("span",xl,'"'+o(Te.value?.title)+'"',1),t[101]||(t[101]=re(" å—ï¼Ÿ æ­¤æ“ä½œæ— æ³•æ’¤é”€ã€‚ ",-1))]),me.value?(n(),a("div",fl,o(me.value),1)):c("",!0),e("div",yl,[e("button",{type:"button",onClick:t[26]||(t[26]=(...s)=>l.cancelDeleteTask&&l.cancelDeleteTask(...s)),disabled:J.value,class:"btn btn-secondary"}," å–æ¶ˆ ",8,kl),e("button",{type:"button",onClick:t[27]||(t[27]=(...s)=>l.deleteTask&&l.deleteTask(...s)),disabled:J.value,class:"btn btn-danger"},o(J.value?"åˆ é™¤ä¸­...":"ç¡®è®¤åˆ é™¤"),9,wl)])])])):c("",!0),_e.value?(n(),a("div",hl,[e("div",_l,[t[105]||(t[105]=fe('<div class="flex items-center mb-4"><div class="w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mr-3"><svg class="w-6 h-6 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path></svg></div><h3 class="text-lg font-semibold text-gray-900">ç¡®è®¤åˆ é™¤</h3></div>',1)),e("p",Tl,[t[103]||(t[103]=re(" ç¡®å®šè¦åˆ é™¤ä»»åŠ¡ ",-1)),e("span",Ml,'"'+o(Te.value?.title)+'"',1),t[104]||(t[104]=re(" å—ï¼Ÿ æ­¤æ“ä½œæ— æ³•æ’¤é”€ã€‚ ",-1))]),me.value?(n(),a("div",jl,o(me.value),1)):c("",!0),e("div",Cl,[e("button",{type:"button",onClick:t[28]||(t[28]=(...s)=>l.cancelDeleteTask&&l.cancelDeleteTask(...s)),disabled:J.value,class:"btn btn-secondary"}," å–æ¶ˆ ",8,Ul),e("button",{type:"button",onClick:t[29]||(t[29]=(...s)=>l.deleteTask&&l.deleteTask(...s)),disabled:J.value,class:"btn btn-danger"},o(J.value?"åˆ é™¤ä¸­...":"ç¡®è®¤åˆ é™¤"),9,Dl)])])])):c("",!0),ke.value?(n(),a("div",El,[e("div",{class:"absolute inset-0 bg-black bg-opacity-50 transition-opacity",onClick:he}),e("div",Pl,[e("div",Vl,[e("div",Sl,[t[107]||(t[107]=e("div",{class:"p-2 bg-blue-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})])],-1)),e("div",null,[t[106]||(t[106]=e("h3",{class:"text-lg font-semibold text-gray-900"},"ç¼–è¾‘ä»»åŠ¡",-1)),_.value?(n(),a("p",zl,"ID: "+o(_.value.id),1)):c("",!0)])]),e("div",Al,[e("button",{onClick:Oe,disabled:!I.value.trim(),class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors"}," ä¿å­˜ ",8,Ll),e("button",{onClick:he,class:"p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100 transition-colors"},[...t[108]||(t[108]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),e("div",Il,[e("div",Rl,[e("div",Bl,[t[111]||(t[111]=e("h4",{class:"text-sm font-semibold text-gray-700 mb-3"},"åŸºæœ¬ä¿¡æ¯",-1)),e("div",$l,[e("div",null,[t[109]||(t[109]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"ä»»åŠ¡æ ‡é¢˜ *",-1)),g(e("input",{"onUpdate:modelValue":t[30]||(t[30]=s=>I.value=s),type:"text",class:"input w-full",placeholder:"è¯·è¾“å…¥ä»»åŠ¡æ ‡é¢˜",required:""},null,512),[[w,I.value]])]),e("div",null,[t[110]||(t[110]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"ä»»åŠ¡æè¿°",-1)),g(e("textarea",{"onUpdate:modelValue":t[31]||(t[31]=s=>oe.value=s),class:"input w-full resize-none",rows:"4",placeholder:"è¯·è¾“å…¥ä»»åŠ¡æè¿°"},null,512),[[w,oe.value]])])])]),e("div",Hl,[t[119]||(t[119]=e("h4",{class:"text-sm font-semibold text-gray-700 mb-3"},"è¯¦ç»†è®¾ç½®",-1)),e("div",Nl,[e("div",null,[t[113]||(t[113]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"è´Ÿè´£äºº",-1)),g(e("select",{"onUpdate:modelValue":t[32]||(t[32]=s=>G.value=s),class:"input w-full"},[t[112]||(t[112]=e("option",{value:""},"ä¸æŒ‡å®šè´Ÿè´£äºº",-1)),(n(!0),a(E,null,P(b(d).members,s=>(n(),a("option",{key:s.id,value:s.user_id},o(s.user?.display_name||"æœªçŸ¥ç”¨æˆ·"),9,Fl))),128))],512),[[k,G.value]])]),e("div",null,[t[115]||(t[115]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"ä¼˜å…ˆçº§",-1)),g(e("select",{"onUpdate:modelValue":t[33]||(t[33]=s=>ae.value=s),class:"input w-full"},[...t[114]||(t[114]=[e("option",{value:"low"},"ä½",-1),e("option",{value:"medium"},"ä¸­",-1),e("option",{value:"high"},"é«˜",-1),e("option",{value:"urgent"},"ç´§æ€¥",-1)])],512),[[k,ae.value]])]),e("div",null,[t[117]||(t[117]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"çŠ¶æ€",-1)),g(e("select",{"onUpdate:modelValue":t[34]||(t[34]=s=>ne.value=s),class:"input w-full"},[...t[116]||(t[116]=[fe('<option value="todo">å¾…åŠ</option><option value="in_progress">è¿›è¡Œä¸­</option><option value="review">å®¡æ ¸ä¸­</option><option value="done">å·²å®Œæˆ</option><option value="cancelled">å·²å–æ¶ˆ</option>',5)])],512),[[k,ne.value]])]),e("div",null,[t[118]||(t[118]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"æˆªæ­¢æ—¥æœŸ",-1)),g(e("input",{"onUpdate:modelValue":t[35]||(t[35]=s=>ie.value=s),type:"date",class:"input w-full"},null,512),[[w,ie.value]])])])]),_.value?(n(),a("div",Ol,[t[124]||(t[124]=e("h4",{class:"text-sm font-semibold text-gray-700 mb-3"},"ä»»åŠ¡ä¿¡æ¯",-1)),e("div",Wl,[e("div",null,[t[120]||(t[120]=e("span",{class:"text-gray-500"},"åˆ›å»ºæ—¶é—´:",-1)),e("p",ql,o(D(_.value.created_at)),1)]),e("div",null,[t[121]||(t[121]=e("span",{class:"text-gray-500"},"æ›´æ–°æ—¶é—´:",-1)),e("p",Gl,o(D(_.value.updated_at)),1)]),e("div",null,[t[122]||(t[122]=e("span",{class:"text-gray-500"},"æŠ¥å‘Šäºº:",-1)),e("p",Jl,o(_.value.reporter?.display_name||"æœªçŸ¥"),1)]),e("div",null,[t[123]||(t[123]=e("span",{class:"text-gray-500"},"é¡¹ç›®:",-1)),e("p",Kl,o(m.value?.name),1)])])])):c("",!0),C.value?(n(),a("div",Ql,[e("div",Xl,[t[125]||(t[125]=e("svg",{class:"w-5 h-5 text-red-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1)),e("span",Yl,o(C.value),1)])])):c("",!0)])])])])):c("",!0)])}}});export{so as default};
