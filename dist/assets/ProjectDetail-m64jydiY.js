const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-Dhaj8LKV.js","assets/vue-B0LylYIL.js","assets/supabase-DqT9qdmq.js","assets/index-DjfOomyX.css"])))=>i.map(i=>d[i]);
import{_ as Fe}from"./supabase-DqT9qdmq.js";import{d as Oe,r as i,a as We,C as _e,c as he,k as qe,H as Ge,b as a,f as e,e as p,l as Je,y as Ke,p as Qe,t as o,n as pe,F as E,h as S,G as b,w as g,E as k,g as Me,D as Xe,v as w,o as n,z as Ye}from"./vue-B0LylYIL.js";import{P as J,T as K,b as Ze,u as et}from"./index-Dhaj8LKV.js";const tt=Oe("projectMember",()=>{const _=i([]),f=i([]),L=i(!1),d=i(!1),T=i(!1);async function m(v){L.value=!0;try{const r=await J.getProjectMembers(v);_.value=r||[]}catch(r){throw console.error("Error fetching project members:",r),r}finally{L.value=!1}}async function ge(v,r){try{const u=await J.getAvailableUsers(v,r);f.value=u||[]}catch(u){throw console.error("Error fetching available users:",u),u}}async function B(v,r,u="member"){d.value=!0;try{const c=await J.addProjectMember({project_id:v,user_id:r,role:u});return c&&(_.value.unshift(c),f.value=f.value.filter(x=>x.id!==r)),c}catch(c){throw console.error("Error adding member to project:",c),c}finally{d.value=!1}}async function $(v,r){try{const u=await J.updateMemberRole(v,r),c=_.value.findIndex(x=>x.id===v);return c!==-1&&(_.value[c].role=r),u}catch(u){throw console.error("Error updating member role:",u),u}}async function V(v){try{const r=_.value.find(c=>c.id===v);if(!r)throw new Error("æˆå‘˜ä¸å­˜åœ¨");const u=await J.removeProjectMember(r.project_id,r.user_id);return _.value=_.value.filter(c=>c.id!==v),r.user&&f.value.push(r.user),u}catch(r){throw console.error("Error removing member from project:",r),r}}async function H(v){T.value=!0;try{return await K.createTask(v)}catch(r){throw console.error("Error creating task with assignment:",r),r}finally{T.value=!1}}async function N(v,r){T.value=!0;try{return await K.updateTask(v,{assignee_id:r})}catch(u){throw console.error("Error assigning task to member:",u),u}finally{T.value=!1}}async function F(v,r){try{const c=(await K.getTasksByProject(v)).filter(x=>x.assignee_id===r);return{total:c.length,todo:c.filter(x=>x.status==="todo").length,inProgress:c.filter(x=>x.status==="in_progress").length,completed:c.filter(x=>x.status==="done").length}}catch(u){return console.error("Error getting member task stats:",u),{total:0,todo:0,inProgress:0,completed:0}}}function A(){return[{value:"admin",label:"ç®¡ç†å‘˜",description:"å¯ä»¥ç®¡ç†é¡¹ç›®è®¾ç½®å’Œæˆå‘˜"},{value:"manager",label:"é¡¹ç›®ç»ç†",description:"å¯ä»¥ç®¡ç†ä»»åŠ¡å’Œæˆå‘˜"},{value:"developer",label:"å¼€å‘äººå‘˜",description:"å¯ä»¥å¤„ç†å¼€å‘ä»»åŠ¡"},{value:"designer",label:"è®¾è®¡å¸ˆ",description:"å¯ä»¥å¤„ç†è®¾è®¡ä»»åŠ¡"},{value:"tester",label:"æµ‹è¯•äººå‘˜",description:"å¯ä»¥å¤„ç†æµ‹è¯•ä»»åŠ¡"},{value:"member",label:"æ™®é€šæˆå‘˜",description:"å¯ä»¥æŸ¥çœ‹é¡¹ç›®ä¿¡æ¯"}]}function O(v){return{admin:"ç®¡ç†å‘˜",manager:"é¡¹ç›®ç»ç†",developer:"å¼€å‘äººå‘˜",designer:"è®¾è®¡å¸ˆ",tester:"æµ‹è¯•äººå‘˜",member:"æ™®é€šæˆå‘˜"}[v]||v}async function W(v,r){try{const u=await J.generateSampleTeamMembers(v,r);return await m(r),u}catch(u){throw console.error("Error generating sample team members:",u),u}}function j(){_.value=[],f.value=[]}return{members:_,availableUsers:f,isLoading:L,isAddingMember:d,isAssigningTask:T,fetchProjectMembers:m,fetchAvailableUsers:ge,addMemberToProject:B,updateMemberRole:$,removeMemberFromProject:V,createTaskWithAssignment:H,assignTaskToMember:N,getMemberTaskStats:F,getRoleOptions:A,getRoleDisplayText:O,generateSampleTeamMembers:W,clearData:j}}),st={class:"min-h-screen"},lt={class:"bg-white shadow-sm border-b border-gray-200"},ot={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},at={class:"flex justify-between h-16"},nt={class:"flex items-center space-x-4"},it={class:"text-xl font-semibold text-gray-900"},rt={class:"flex items-center space-x-4"},dt={class:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8"},ut={class:"px-4 py-6 sm:px-0"},vt={class:"card p-6 mb-6"},mt={class:"text-gray-600 mb-6"},ct={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},pt={class:"space-y-3"},gt={class:"font-medium"},bt={class:"text-gray-700"},xt={class:"font-medium"},ft={class:"font-medium"},yt={class:"space-y-3"},kt={class:"font-medium"},wt={class:"font-medium"},_t={class:"font-medium"},ht={class:"font-medium"},Mt={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6"},Tt={class:"card p-6"},jt={class:"text-3xl font-bold text-orange-600"},Ct={class:"card p-6"},Ut={class:"text-3xl font-bold text-blue-600"},Pt={class:"card p-6"},Et={class:"text-3xl font-bold text-green-600"},St={class:"card p-6 mb-6"},Vt={class:"space-y-3"},At={class:"text-sm text-gray-700"},zt={class:"card p-6 mb-6"},Dt={class:"flex justify-between items-center mb-4"},It={class:"flex space-x-2"},Rt=["disabled"],Lt={key:0,class:"text-center py-4"},Bt={key:1,class:"text-center py-6"},$t={key:2,class:"text-red-600 text-sm mb-4"},Ht={key:3,class:"text-red-600 text-sm mb-4"},Nt={key:4,class:"mb-6 p-4 bg-gray-50 rounded-lg"},Ft={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},Ot={class:"text-center"},Wt={class:"text-2xl font-bold text-blue-600"},qt={class:"text-center"},Gt={class:"text-2xl font-bold text-green-600"},Jt={class:"text-center"},Kt={class:"text-2xl font-bold text-purple-600"},Qt={class:"text-center"},Xt={class:"text-2xl font-bold text-orange-600"},Yt={key:5,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Zt={class:"flex items-center space-x-3 mb-3"},es={class:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center"},ts={class:"text-blue-600 font-semibold"},ss={class:"flex-1 min-w-0"},ls={class:"text-sm font-medium text-gray-900 truncate"},os={class:"text-xs text-gray-500 truncate"},as={class:"flex justify-between items-center"},ns={class:"flex space-x-1"},is=["onClick"],rs=["onClick"],ds=["onClick"],us={class:"mt-3 text-xs text-gray-500"},vs={class:"card p-6 mb-6"},ms={class:"flex justify-between items-center mb-4"},cs={class:"flex space-x-2"},ps={key:0,class:"text-center py-8"},gs={key:1,class:"text-center py-8"},bs={key:2,class:"space-y-3"},xs={class:"flex justify-between items-start mb-2"},fs={class:"font-medium text-gray-900"},ys={class:"flex space-x-2"},ks=["onClick"],ws={key:0,class:"text-sm text-gray-600 mb-3 line-clamp-2"},_s={class:"flex justify-between items-center text-xs text-gray-500"},hs={class:"flex items-center space-x-4"},Ms={key:0},Ts={key:1},js={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},Cs={class:"bg-white rounded-lg max-w-md w-full p-6"},Us={class:"space-y-4"},Ps={key:0,class:"text-red-600 text-sm mt-2"},Es={class:"flex justify-end space-x-3 mt-6"},Ss=["disabled"],Vs={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},As={class:"bg-white rounded-lg max-w-md w-full p-6"},zs={key:0,class:"text-center py-4"},Ds={key:1,class:"space-y-4"},Is=["value"],Rs=["value"],Ls={key:2,class:"text-red-600 text-sm mt-2"},Bs={class:"flex justify-end space-x-3 mt-6"},$s=["disabled"],Hs={key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},Ns={class:"bg-white rounded-lg max-w-md w-full p-6"},Fs={class:"space-y-4"},Os={class:"text-sm text-gray-600"},Ws=["value"],qs={key:0,class:"text-red-600 text-sm mt-2"},Gs={class:"flex justify-end space-x-3 mt-6"},Js=["disabled"],Ks={key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},Qs={class:"bg-white rounded-lg max-w-md w-full p-6"},Xs={class:"space-y-4"},Ys={class:"text-sm text-gray-600"},Zs={key:0,class:"text-red-600 text-sm mt-2"},el={class:"flex justify-end space-x-3 mt-6"},tl=["disabled"],sl={key:4,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},ll={class:"bg-white rounded-lg max-w-md w-full p-6"},ol={class:"space-y-4"},al=["value"],nl={key:0,class:"text-red-600 text-sm mt-2"},il={class:"flex justify-end space-x-3 mt-6"},rl=["disabled"],dl={key:5,class:"fixed inset-0 z-50 overflow-hidden"},ul={class:"absolute inset-y-0 right-0 max-w-lg w-full bg-white shadow-xl transform transition-transform duration-300 ease-in-out"},vl={class:"flex items-center justify-between p-6 border-b border-gray-200"},ml={class:"flex items-center space-x-3"},cl={key:0,class:"text-sm text-gray-500"},pl={class:"flex items-center space-x-2"},gl=["disabled"],bl={class:"p-6 overflow-y-auto",style:{height:"calc(100vh - 80px)"}},xl={class:"space-y-6"},fl={class:"bg-gray-50 p-4 rounded-lg"},yl={class:"space-y-4"},kl={class:"bg-gray-50 p-4 rounded-lg"},wl={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},_l=["value"],hl={key:0,class:"bg-gray-50 p-4 rounded-lg"},Ml={class:"grid grid-cols-2 gap-4 text-sm"},Tl={class:"font-medium"},jl={class:"font-medium"},Cl={class:"font-medium"},Ul={class:"font-medium"},Pl={key:1,class:"p-3 bg-red-50 border border-red-200 rounded-lg"},El={class:"flex items-center"},Sl={class:"text-red-700 text-sm"},Dl=We({__name:"ProjectDetail",setup(_){const f=Ge(),L=Ze(),d=tt(),T=et(),m=i(),ge=i(!0),B=i(!1),$=i(!1),V=i(""),H=i(!1),N=i(!1),F=i(!1),A=i(!1),O=i(!1),W=i(!1),j=i(""),v=i(""),r=i(null),u=i(""),c=i(null),x=i(""),Q=i(""),z=i(""),X=i(""),D=i(""),I=i(""),Y=i(""),Z=i("medium"),ee=i(""),q=i(""),ie=i(""),te=i(""),re=i("medium"),de=i(""),be=i(!1),h=i(null),R=i(""),se=i(""),G=i(""),le=i("medium"),oe=i("todo"),ae=i(""),C=i(""),ue=i([]),xe=i(!1),ve=i("all"),U=_e({total:0,pending:0,inProgress:0,completed:0,completionRate:0}),Te=i([{id:1,message:"é¡¹ç›®è¿›åº¦è‰¯å¥½ï¼Œå»ºè®®ç»§ç»­ä¿æŒå½“å‰èŠ‚å¥"},{id:2,message:"æ£€æµ‹åˆ°2ä¸ªä»»åŠ¡å³å°†åˆ°æœŸï¼Œå»ºè®®ä¼˜å…ˆå¤„ç†"},{id:3,message:"å›¢é˜Ÿæˆå‘˜å·¥ä½œè´Ÿè·å‡è¡¡ï¼Œæ•ˆç‡è¾ƒé«˜"}]),ye=he(()=>ve.value==="all"?ue.value:ue.value.filter(l=>l.status===ve.value)),me=he(()=>({total:d.members.length,managers:d.members.filter(t=>t.role==="manager").length,developers:d.members.filter(t=>t.role==="developer").length,designers:d.members.filter(t=>t.role==="designer").length,testers:d.members.filter(t=>t.role==="tester").length})),y=_e({name:"",description:"",status:"active"});function P(l){if(!l)return"æœªè®¾ç½®";const t=new Date(l);return isNaN(t.getTime())?"æ— æ•ˆæ—¥æœŸ":t.toLocaleDateString("zh-CN")}function je(l){return{active:"bg-green-100 text-green-800",paused:"bg-yellow-100 text-yellow-800",completed:"bg-blue-100 text-blue-800",archived:"bg-gray-100 text-gray-800"}[l]||"bg-gray-100 text-gray-800"}function ke(l){return{planning:"è§„åˆ’ä¸­",active:"æ´»è·ƒ",completed:"å·²å®Œæˆ",cancelled:"å·²å–æ¶ˆ",paused:"æš‚åœ",archived:"å·²å½’æ¡£"}[l]||l}function Ce(){console.log("æ‰“å¼€AIèŠå¤©åŠ©æ‰‹")}function Ue(){console.log("ç”Ÿæˆé¡¹ç›®æŠ¥å‘Š")}function we(l){return{low:"ä½",medium:"ä¸­",high:"é«˜",urgent:"ç´§æ€¥"}[l]||l}function Pe(l){return{todo:"å¾…åŠ",in_progress:"è¿›è¡Œä¸­",review:"å®¡æ ¸ä¸­",done:"å·²å®Œæˆ",cancelled:"å·²å–æ¶ˆ"}[l]||l}async function ce(){const l=parseInt(f.params.id);xe.value=!0;try{const t=await K.getTasksByProject(l);ue.value=t;const M=await K.getTaskStats(l);U.total=M.total,U.pending=M.pending,U.inProgress=M.inProgress,U.completed=M.completed,U.completionRate=M.completionRate}catch(t){console.error("Error fetching tasks:",t)}finally{xe.value=!1}}async function Ee(){await ce()}function Se(l){r.value=l,u.value=l.role,N.value=!0}function Ve(l){c.value=l,I.value="",Y.value="",Z.value="medium",ee.value="",z.value="",F.value=!0}async function Ae(){if(!j.value||!v.value){x.value="è¯·é€‰æ‹©æˆå‘˜å’Œè§’è‰²";return}x.value="";try{await d.addMemberToProject(parseInt(f.params.id),parseInt(j.value),v.value),j.value="",v.value="",H.value=!1}catch(l){x.value=l.message||"æ·»åŠ æˆå‘˜å¤±è´¥"}}async function ze(){if(!r.value||!u.value){Q.value="è¯·é€‰æ‹©è§’è‰²";return}Q.value="";try{await d.updateMemberRole(r.value.id,u.value),r.value=null,u.value="",N.value=!1}catch(l){Q.value=l.message||"æ›´æ–°è§’è‰²å¤±è´¥"}}async function De(l){if(confirm("ç¡®å®šè¦ç§»é™¤è¯¥æˆå‘˜å—ï¼Ÿ"))try{await d.removeMemberFromProject(l)}catch(t){alert("ç§»é™¤æˆå‘˜å¤±è´¥: "+(t.message||"æœªçŸ¥é”™è¯¯"))}}async function Ie(){if(!I.value.trim()){z.value="è¯·è¾“å…¥ä»»åŠ¡æ ‡é¢˜";return}if(!c.value){z.value="è¯·é€‰æ‹©è¦åˆ†é…çš„æˆå‘˜";return}z.value="";try{await d.createTaskWithAssignment({title:I.value,description:Y.value,project_id:parseInt(f.params.id),assignee_id:c.value.user_id,reporter_id:T.user?.id||0,status:"todo",priority:Z.value,due_date:ee.value||void 0}),I.value="",Y.value="",Z.value="medium",ee.value="",c.value=null,F.value=!1,alert("ä»»åŠ¡åˆ†é…æˆåŠŸï¼")}catch(l){z.value=l.message||"åˆ†é…ä»»åŠ¡å¤±è´¥"}}async function Re(){if(!q.value.trim()){X.value="è¯·è¾“å…¥ä»»åŠ¡æ ‡é¢˜";return}X.value="";try{const{UserService:l}=await Fe(async()=>{const{UserService:s}=await import("./index-Dhaj8LKV.js").then(ne=>ne.d);return{UserService:s}},__vite__mapDeps([0,1,2,3]));let t=125;const M=T.user?.email;if(M)try{const s=await l.getUserByEmail(M);s?.id&&(t=s.id)}catch(s){console.warn("é€šè¿‡é‚®ç®±æŸ¥è¯¢ç”¨æˆ·å¤±è´¥ï¼Œä½¿ç”¨é»˜è®¤ID 125:",s)}await d.createTaskWithAssignment({title:q.value,description:ie.value,project_id:parseInt(f.params.id),assignee_id:te.value?parseInt(te.value):void 0,reporter_id:t,status:"todo",priority:re.value,due_date:de.value||void 0}),q.value="",ie.value="",te.value="",re.value="medium",de.value="",A.value=!1,alert("ä»»åŠ¡åˆ›å»ºæˆåŠŸï¼")}catch(l){X.value=l.message||"åˆ›å»ºä»»åŠ¡å¤±è´¥"}}function Le(l){h.value=l,R.value=l.title,se.value=l.description||"",G.value=l.assignee_id?l.assignee_id.toString():"",le.value=l.priority||"medium",oe.value=l.status||"todo",ae.value=l.due_date?$e(l.due_date):"",C.value="",be.value=!0}function fe(){be.value=!1,h.value=null,R.value="",se.value="",G.value="",le.value="medium",oe.value="todo",ae.value="",C.value=""}async function Be(){if(!R.value.trim()){C.value="è¯·è¾“å…¥ä»»åŠ¡æ ‡é¢˜";return}if(!h.value){C.value="æœªæ‰¾åˆ°è¦ç¼–è¾‘çš„ä»»åŠ¡";return}C.value="";try{await K.updateTask(h.value.id,{title:R.value,description:se.value,assignee_id:G.value?parseInt(G.value):void 0,priority:le.value,status:oe.value,due_date:ae.value||void 0}),await ce(),fe(),alert("ä»»åŠ¡æ›´æ–°æˆåŠŸï¼")}catch(l){C.value=l.message||"æ›´æ–°ä»»åŠ¡å¤±è´¥",console.error("Error updating task:",l)}}function $e(l){return l?new Date(l).toISOString().split("T")[0]:""}async function He(){if(!m.value?.organization_id){D.value="é¡¹ç›®æ²¡æœ‰å…³è”çš„ç»„ç»‡ï¼Œæ— æ³•ç”Ÿæˆç¤ºä¾‹å›¢é˜Ÿ";return}if(confirm("è¿™å°†ç”Ÿæˆ7ä¸ªç¤ºä¾‹å›¢é˜Ÿæˆå‘˜å’Œ6ä¸ªç¤ºä¾‹ä»»åŠ¡ã€‚ç¡®å®šè¦ç»§ç»­å—ï¼Ÿ")){W.value=!0,D.value="";try{const l=await d.generateSampleTeamMembers(m.value.organization_id,parseInt(f.params.id));await ce(),alert(`âœ… ç¤ºä¾‹å›¢é˜Ÿç”ŸæˆæˆåŠŸï¼

åˆ›å»ºäº† ${l.length} ä¸ªå›¢é˜Ÿæˆå‘˜
è‡ªåŠ¨ç”Ÿæˆäº†6ä¸ªç¤ºä¾‹ä»»åŠ¡

ç°åœ¨å¯ä»¥å¼€å§‹é¡¹ç›®åä½œäº†ï¼`)}catch(l){D.value=l.message||"ç”Ÿæˆç¤ºä¾‹å›¢é˜Ÿå¤±è´¥"}finally{W.value=!1}}}async function Ne(){if(!y.name.trim()){V.value="è¯·è¾“å…¥é¡¹ç›®åç§°";return}$.value=!0,V.value="";try{await L.updateProject(parseInt(f.params.id),y),B.value=!1}catch(l){V.value=l.message||"æ›´æ–°é¡¹ç›®å¤±è´¥"}finally{$.value=!1}}return qe(async()=>{const l=f.params.id;try{console.log("ğŸš€ å¼€å§‹åŠ è½½é¡¹ç›®è¯¦æƒ…ï¼Œé¡¹ç›®ID:",l);const t=await L.fetchProjectById(l);t.success&&t.data?(m.value=t.data,console.log("âœ… é¡¹ç›®è¯¦æƒ…åŠ è½½æˆåŠŸ:",t.data),y.name=m.value.name,y.description=m.value.description||"",y.status=m.value.status,console.log("ğŸ” å¼€å§‹åŠ è½½é¡¹ç›®æˆå‘˜..."),await d.fetchProjectMembers(parseInt(l)),console.log("âœ… é¡¹ç›®æˆå‘˜åŠ è½½å®Œæˆï¼Œæ•°é‡:",d.members.length),m.value.organization_id&&(console.log("ğŸ” å¼€å§‹åŠ è½½å¯æ·»åŠ çš„ç”¨æˆ·åˆ—è¡¨..."),await d.fetchAvailableUsers(m.value.organization_id,parseInt(l)),console.log("âœ… å¯æ·»åŠ ç”¨æˆ·åˆ—è¡¨åŠ è½½å®Œæˆï¼Œæ•°é‡:",d.availableUsers.length)),console.log("ğŸ” å¼€å§‹åŠ è½½ä»»åŠ¡åˆ—è¡¨..."),await ce(),console.log("âœ… ä»»åŠ¡åˆ—è¡¨åŠ è½½å®Œæˆï¼Œæ•°é‡:",ue.value.length)):console.error("âŒ é¡¹ç›®è¯¦æƒ…åŠ è½½å¤±è´¥: é¡¹ç›®ä¸å­˜åœ¨")}catch(t){console.error("âŒ åŠ è½½é¡¹ç›®è¯¦æƒ…å¤±è´¥:",t)}finally{ge.value=!1}}),(l,t)=>{const M=Qe("RouterLink");return n(),a("div",st,[e("nav",lt,[e("div",ot,[e("div",at,[e("div",nt,[Je(M,{to:`/organizations/${m.value?.organization_id}`,class:"text-gray-600 hover:text-gray-900"},{default:Ke(()=>[...t[32]||(t[32]=[Ye(" â† è¿”å›ç»„ç»‡ ",-1)])]),_:1},8,["to"]),e("h1",it,o(m.value?.name),1),e("span",{class:pe([je(m.value?.status),"px-2 py-1 rounded-full text-xs"])},o(ke(m.value?.status)),3)]),e("div",rt,[e("button",{onClick:t[0]||(t[0]=s=>B.value=!0),class:"btn btn-secondary"}," ç¼–è¾‘é¡¹ç›® ")])])])]),e("main",dt,[e("div",ut,[e("div",vt,[t[43]||(t[43]=e("h2",{class:"text-lg font-semibold mb-4"},"é¡¹ç›®ä¿¡æ¯",-1)),e("p",mt,o(m.value?.description||"æš‚æ— æè¿°"),1),e("div",ct,[e("div",null,[t[37]||(t[37]=e("h3",{class:"text-md font-medium text-gray-900 mb-3"},"åŸºæœ¬ä¿¡æ¯",-1)),e("div",pt,[e("div",null,[t[33]||(t[33]=e("span",{class:"text-sm text-gray-500"},"é¡¹ç›®åç§°:",-1)),e("p",gt,o(m.value?.name||"æœªè®¾ç½®"),1)]),e("div",null,[t[34]||(t[34]=e("span",{class:"text-sm text-gray-500"},"é¡¹ç›®æè¿°:",-1)),e("p",bt,o(m.value?.description||"æš‚æ— æè¿°"),1)]),e("div",null,[t[35]||(t[35]=e("span",{class:"text-sm text-gray-500"},"é¡¹ç›®çŠ¶æ€:",-1)),e("p",xt,o(ke(m.value?.status)),1)]),e("div",null,[t[36]||(t[36]=e("span",{class:"text-sm text-gray-500"},"é¡¹ç›®ä¼˜å…ˆçº§:",-1)),e("p",ft,o(we(m.value?.priority)),1)])])]),e("div",null,[t[42]||(t[42]=e("h3",{class:"text-md font-medium text-gray-900 mb-3"},"æ—¶é—´ä¿¡æ¯",-1)),e("div",yt,[e("div",null,[t[38]||(t[38]=e("span",{class:"text-sm text-gray-500"},"åˆ›å»ºæ—¶é—´:",-1)),e("p",kt,o(m.value?.created_at?P(m.value.created_at):"æœªè®¾ç½®"),1)]),e("div",null,[t[39]||(t[39]=e("span",{class:"text-sm text-gray-500"},"æ›´æ–°æ—¶é—´:",-1)),e("p",wt,o(m.value?.updated_at?P(m.value.updated_at):"æœªè®¾ç½®"),1)]),e("div",null,[t[40]||(t[40]=e("span",{class:"text-sm text-gray-500"},"ç»“æŸæ—¶é—´:",-1)),e("p",_t,o(m.value?.end_date?P(m.value.end_date):"æœªè®¾ç½®"),1)]),e("div",null,[t[41]||(t[41]=e("span",{class:"text-sm text-gray-500"},"é¡¹ç›®è¿›åº¦:",-1)),e("p",ht,o(m.value?.progress_percentage||0)+"%",1)])])])])]),e("div",Mt,[e("div",Tt,[t[44]||(t[44]=e("h3",{class:"text-lg font-semibold mb-2"},"å¾…åŠä»»åŠ¡",-1)),e("p",jt,o(U.pending),1)]),e("div",Ct,[t[45]||(t[45]=e("h3",{class:"text-lg font-semibold mb-2"},"è¿›è¡Œä¸­",-1)),e("p",Ut,o(U.inProgress),1)]),e("div",Pt,[t[46]||(t[46]=e("h3",{class:"text-lg font-semibold mb-2"},"å·²å®Œæˆ",-1)),e("p",Et,o(U.completed),1)])]),e("div",St,[t[47]||(t[47]=e("h2",{class:"text-lg font-semibold mb-4"},"AIåˆ†æå»ºè®®",-1)),e("div",Vt,[(n(!0),a(E,null,S(Te.value,s=>(n(),a("div",{key:s.id,class:"p-3 bg-gray-50 rounded-lg"},[e("p",At,o(s.message),1)]))),128))])]),e("div",zt,[e("div",Dt,[t[48]||(t[48]=e("h2",{class:"text-lg font-semibold"},"å›¢é˜Ÿæˆå‘˜",-1)),e("div",It,[e("button",{onClick:t[1]||(t[1]=s=>H.value=!0),class:"btn btn-primary text-sm"}," æ·»åŠ æˆå‘˜ "),b(d).members.length===0?(n(),a("button",{key:0,onClick:He,class:"btn btn-secondary text-sm",disabled:W.value},o(W.value?"ç”Ÿæˆä¸­...":"ç”Ÿæˆç¤ºä¾‹å›¢é˜Ÿ"),9,Rt)):p("",!0),b(d).members.length>0?(n(),a("button",{key:1,onClick:t[2]||(t[2]=s=>O.value=!O.value),class:"btn btn-outline text-sm"},o(O.value?"éšè—ç»Ÿè®¡":"æ˜¾ç¤ºç»Ÿè®¡"),1)):p("",!0)])]),b(d).isLoading?(n(),a("div",Lt,[...t[49]||(t[49]=[e("div",{class:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"},null,-1),e("p",{class:"mt-2 text-sm text-gray-600"},"åŠ è½½ä¸­...",-1)])])):b(d).members.length===0?(n(),a("div",Bt,[...t[50]||(t[50]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})],-1),e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"æš‚æ— å›¢é˜Ÿæˆå‘˜",-1),e("p",{class:"mt-1 text-sm text-gray-500"},"æ·»åŠ æˆå‘˜å¼€å§‹åä½œ",-1)])])):p("",!0),D.value?(n(),a("div",$t,o(D.value),1)):p("",!0),D.value?(n(),a("div",Ht,o(D.value),1)):p("",!0),O.value&&b(d).members.length>0?(n(),a("div",Nt,[t[55]||(t[55]=e("h3",{class:"text-md font-semibold mb-3"},"å›¢é˜Ÿç»Ÿè®¡",-1)),e("div",Ft,[e("div",Ot,[e("div",Wt,o(me.value.total),1),t[51]||(t[51]=e("div",{class:"text-sm text-gray-600"},"æ€»äººæ•°",-1))]),e("div",qt,[e("div",Gt,o(me.value.developers),1),t[52]||(t[52]=e("div",{class:"text-sm text-gray-600"},"å¼€å‘äººå‘˜",-1))]),e("div",Jt,[e("div",Kt,o(me.value.designers),1),t[53]||(t[53]=e("div",{class:"text-sm text-gray-600"},"è®¾è®¡å¸ˆ",-1))]),e("div",Qt,[e("div",Xt,o(me.value.testers),1),t[54]||(t[54]=e("div",{class:"text-sm text-gray-600"},"æµ‹è¯•äººå‘˜",-1))])])])):(n(),a("div",Yt,[(n(!0),a(E,null,S(b(d).members,s=>(n(),a("div",{key:s.id,class:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow"},[e("div",Zt,[e("div",es,[e("span",ts,o(s.user?.display_name?.charAt(0)||"U"),1)]),e("div",ss,[e("p",ls,o(s.user?.display_name||"æœªçŸ¥ç”¨æˆ·"),1),e("p",os,o(s.user?.email||"æ— é‚®ç®±"),1)])]),e("div",as,[e("span",{class:pe(["px-2 py-1 rounded-full text-xs font-medium",s.role==="admin"?"bg-red-100 text-red-800":s.role==="manager"?"bg-purple-100 text-purple-800":s.role==="developer"?"bg-blue-100 text-blue-800":s.role==="designer"?"bg-pink-100 text-pink-800":s.role==="tester"?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-800"])},o(b(d).getRoleDisplayText(s.role)),3),e("div",ns,[e("button",{onClick:ne=>Se(s),class:"text-gray-400 hover:text-blue-600 p-1",title:"ç¼–è¾‘è§’è‰²"},[...t[56]||(t[56]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,is),e("button",{onClick:ne=>Ve(s),class:"text-gray-400 hover:text-green-600 p-1",title:"åˆ†é…ä»»åŠ¡"},[...t[57]||(t[57]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1)])],8,rs),s.role!=="admin"?(n(),a("button",{key:0,onClick:ne=>De(s.id),class:"text-gray-400 hover:text-red-600 p-1",title:"ç§»é™¤æˆå‘˜"},[...t[58]||(t[58]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,ds)):p("",!0)])]),e("div",us," åŠ å…¥æ—¶é—´: "+o(P(s.joined_at)),1)]))),128))]))]),e("div",vs,[e("div",ms,[t[60]||(t[60]=e("h2",{class:"text-lg font-semibold"},"ä»»åŠ¡åˆ—è¡¨",-1)),e("div",cs,[g(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>ve.value=s),class:"input text-sm"},[...t[59]||(t[59]=[Me('<option value="all">å…¨éƒ¨ä»»åŠ¡</option><option value="todo">å¾…åŠ</option><option value="in_progress">è¿›è¡Œä¸­</option><option value="review">å®¡æ ¸ä¸­</option><option value="done">å·²å®Œæˆ</option><option value="cancelled">å·²å–æ¶ˆ</option>',6)])],512),[[k,ve.value]]),e("button",{onClick:t[4]||(t[4]=s=>A.value=!0),class:"btn btn-primary text-sm"}," åˆ›å»ºä»»åŠ¡ ")])]),xe.value?(n(),a("div",ps,[...t[61]||(t[61]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"},null,-1),e("p",{class:"mt-2 text-sm text-gray-600"},"åŠ è½½ä»»åŠ¡ä¸­...",-1)])])):ye.value.length===0?(n(),a("div",gs,[t[62]||(t[62]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1)),t[63]||(t[63]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"æš‚æ— ä»»åŠ¡",-1)),t[64]||(t[64]=e("p",{class:"mt-1 text-sm text-gray-500"},"åˆ›å»ºç¬¬ä¸€ä¸ªä»»åŠ¡å¼€å§‹å·¥ä½œ",-1)),e("button",{onClick:t[5]||(t[5]=s=>A.value=!0),class:"mt-4 btn btn-primary"}," åˆ›å»ºä»»åŠ¡ ")])):(n(),a("div",bs,[(n(!0),a(E,null,S(ye.value,s=>(n(),a("div",{key:s.id,class:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow"},[e("div",xs,[e("h3",fs,o(s.title),1),e("div",ys,[e("span",{class:pe(["px-2 py-1 rounded-full text-xs font-medium",s.priority==="high"?"bg-red-100 text-red-800":s.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"])},o(we(s.priority)),3),e("span",{class:pe(["px-2 py-1 rounded-full text-xs font-medium",s.status==="done"?"bg-green-100 text-green-800":s.status==="in_progress"?"bg-blue-100 text-blue-800":s.status==="review"?"bg-purple-100 text-purple-800":s.status==="cancelled"?"bg-gray-100 text-gray-800":"bg-orange-100 text-orange-800"])},o(Pe(s.status)),3),e("button",{onClick:ne=>Le(s),class:"flex items-center space-x-1 px-2 py-1 text-xs text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded transition-colors",title:"ç¼–è¾‘ä»»åŠ¡"},[...t[65]||(t[65]=[e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),e("span",null,"ç¼–è¾‘",-1)])],8,ks)])]),s.description?(n(),a("p",ws,o(s.description),1)):p("",!0),e("div",_s,[e("div",hs,[s.assignee?(n(),a("span",Ms," è´Ÿè´£äºº: "+o(s.assignee.display_name),1)):p("",!0),s.due_date?(n(),a("span",Ts," æˆªæ­¢: "+o(P(s.due_date)),1)):p("",!0)]),e("span",null," åˆ›å»º: "+o(P(s.created_at)),1)])]))),128))]))]),e("div",{class:"card p-6"},[t[66]||(t[66]=e("h2",{class:"text-lg font-semibold mb-4"},"å¿«é€Ÿæ“ä½œ",-1)),e("div",{class:"flex flex-wrap gap-4"},[e("button",{onClick:Ce,class:"btn btn-primary"}," å’¨è¯¢AIåŠ©æ‰‹ "),e("button",{onClick:Ue,class:"btn btn-secondary"}," ç”Ÿæˆé¡¹ç›®æŠ¥å‘Š "),e("button",{onClick:Ee,class:"btn btn-secondary"}," åˆ·æ–°ä»»åŠ¡ ")])])])]),B.value?(n(),a("div",js,[e("div",Cs,[t[71]||(t[71]=e("h3",{class:"text-lg font-semibold mb-4"},"ç¼–è¾‘é¡¹ç›®",-1)),e("form",{onSubmit:Xe(Ne,["prevent"])},[e("div",Us,[e("div",null,[t[67]||(t[67]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"é¡¹ç›®åç§°",-1)),g(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>y.name=s),type:"text",required:"",class:"input",placeholder:"è¯·è¾“å…¥é¡¹ç›®åç§°"},null,512),[[w,y.name]])]),e("div",null,[t[68]||(t[68]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"é¡¹ç›®æè¿°",-1)),g(e("textarea",{"onUpdate:modelValue":t[7]||(t[7]=s=>y.description=s),class:"input resize-none",rows:"3",placeholder:"è¯·è¾“å…¥é¡¹ç›®æè¿°"},null,512),[[w,y.description]])]),e("div",null,[t[70]||(t[70]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"é¡¹ç›®çŠ¶æ€",-1)),g(e("select",{"onUpdate:modelValue":t[8]||(t[8]=s=>y.status=s),class:"input"},[...t[69]||(t[69]=[e("option",{value:"active"},"æ´»è·ƒ",-1),e("option",{value:"paused"},"æš‚åœ",-1),e("option",{value:"completed"},"å·²å®Œæˆ",-1),e("option",{value:"archived"},"å·²å½’æ¡£",-1)])],512),[[k,y.status]])])]),V.value?(n(),a("div",Ps,o(V.value),1)):p("",!0),e("div",Es,[e("button",{type:"button",onClick:t[9]||(t[9]=s=>B.value=!1),class:"btn btn-secondary"}," å–æ¶ˆ "),e("button",{type:"submit",disabled:$.value,class:"btn btn-primary"},o($.value?"æ›´æ–°ä¸­...":"æ›´æ–°"),9,Ss)])],32)])])):p("",!0),H.value?(n(),a("div",Vs,[e("div",As,[t[77]||(t[77]=e("h3",{class:"text-lg font-semibold mb-4"},"æ·»åŠ æˆå‘˜åˆ°é¡¹ç›®",-1)),b(d).availableUsers.length===0?(n(),a("div",zs,[...t[72]||(t[72]=[e("p",{class:"text-gray-500"},"æ²¡æœ‰å¯æ·»åŠ çš„æˆå‘˜",-1)])])):(n(),a("div",Ds,[e("div",null,[t[74]||(t[74]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"é€‰æ‹©æˆå‘˜",-1)),g(e("select",{"onUpdate:modelValue":t[10]||(t[10]=s=>j.value=s),class:"input w-full"},[t[73]||(t[73]=e("option",{value:""},"è¯·é€‰æ‹©æˆå‘˜",-1)),(n(!0),a(E,null,S(b(d).availableUsers,s=>(n(),a("option",{key:s.id,value:s.id},o(s.display_name)+" ("+o(s.email)+") ",9,Is))),128))],512),[[k,j.value]])]),e("div",null,[t[76]||(t[76]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"åˆ†é…è§’è‰²",-1)),g(e("select",{"onUpdate:modelValue":t[11]||(t[11]=s=>v.value=s),class:"input w-full"},[t[75]||(t[75]=e("option",{value:""},"è¯·é€‰æ‹©è§’è‰²",-1)),(n(!0),a(E,null,S(b(d).getRoleOptions(),s=>(n(),a("option",{key:s.value,value:s.value},o(s.label)+" - "+o(s.description),9,Rs))),128))],512),[[k,v.value]])])])),x.value?(n(),a("div",Ls,o(x.value),1)):p("",!0),e("div",Bs,[e("button",{type:"button",onClick:t[12]||(t[12]=s=>H.value=!1),class:"btn btn-secondary"}," å–æ¶ˆ "),e("button",{type:"button",onClick:Ae,disabled:!j.value||!v.value||b(d).isAddingMember,class:"btn btn-primary"},o(b(d).isAddingMember?"æ·»åŠ ä¸­...":"æ·»åŠ "),9,$s)])])])):p("",!0),N.value?(n(),a("div",Hs,[e("div",Ns,[t[80]||(t[80]=e("h3",{class:"text-lg font-semibold mb-4"},"ç¼–è¾‘æˆå‘˜è§’è‰²",-1)),e("div",Fs,[e("div",null,[e("p",Os,"æˆå‘˜: "+o(r.value?.user?.display_name),1)]),e("div",null,[t[79]||(t[79]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"è§’è‰²",-1)),g(e("select",{"onUpdate:modelValue":t[13]||(t[13]=s=>u.value=s),class:"input w-full"},[t[78]||(t[78]=e("option",{value:""},"è¯·é€‰æ‹©è§’è‰²",-1)),(n(!0),a(E,null,S(b(d).getRoleOptions(),s=>(n(),a("option",{key:s.value,value:s.value},o(s.label)+" - "+o(s.description),9,Ws))),128))],512),[[k,u.value]])])]),Q.value?(n(),a("div",qs,o(Q.value),1)):p("",!0),e("div",Gs,[e("button",{type:"button",onClick:t[14]||(t[14]=s=>N.value=!1),class:"btn btn-secondary"}," å–æ¶ˆ "),e("button",{type:"button",onClick:ze,disabled:!u.value,class:"btn btn-primary"}," æ›´æ–° ",8,Js)])])])):p("",!0),F.value?(n(),a("div",Ks,[e("div",Qs,[t[86]||(t[86]=e("h3",{class:"text-lg font-semibold mb-4"},"åˆ†é…ä»»åŠ¡",-1)),e("div",Xs,[e("div",null,[e("p",Ys,"åˆ†é…ç»™: "+o(c.value?.user?.display_name),1)]),e("div",null,[t[81]||(t[81]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"ä»»åŠ¡æ ‡é¢˜",-1)),g(e("input",{"onUpdate:modelValue":t[15]||(t[15]=s=>I.value=s),type:"text",class:"input w-full",placeholder:"è¯·è¾“å…¥ä»»åŠ¡æ ‡é¢˜"},null,512),[[w,I.value]])]),e("div",null,[t[82]||(t[82]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"ä»»åŠ¡æè¿°",-1)),g(e("textarea",{"onUpdate:modelValue":t[16]||(t[16]=s=>Y.value=s),class:"input w-full resize-none",rows:"3",placeholder:"è¯·è¾“å…¥ä»»åŠ¡æè¿°"},null,512),[[w,Y.value]])]),e("div",null,[t[84]||(t[84]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"ä¼˜å…ˆçº§",-1)),g(e("select",{"onUpdate:modelValue":t[17]||(t[17]=s=>Z.value=s),class:"input w-full"},[...t[83]||(t[83]=[e("option",{value:"low"},"ä½",-1),e("option",{value:"medium"},"ä¸­",-1),e("option",{value:"high"},"é«˜",-1)])],512),[[k,Z.value]])]),e("div",null,[t[85]||(t[85]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"æˆªæ­¢æ—¥æœŸ",-1)),g(e("input",{"onUpdate:modelValue":t[18]||(t[18]=s=>ee.value=s),type:"date",class:"input w-full"},null,512),[[w,ee.value]])])]),z.value?(n(),a("div",Zs,o(z.value),1)):p("",!0),e("div",el,[e("button",{type:"button",onClick:t[19]||(t[19]=s=>F.value=!1),class:"btn btn-secondary"}," å–æ¶ˆ "),e("button",{type:"button",onClick:Ie,disabled:!I.value.trim()||b(d).isAssigningTask,class:"btn btn-primary"},o(b(d).isAssigningTask?"åˆ†é…ä¸­...":"åˆ†é…ä»»åŠ¡"),9,tl)])])])):p("",!0),A.value?(n(),a("div",sl,[e("div",ll,[t[94]||(t[94]=e("h3",{class:"text-lg font-semibold mb-4"},"åˆ›å»ºæ–°ä»»åŠ¡",-1)),e("div",ol,[e("div",null,[t[87]||(t[87]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"ä»»åŠ¡æ ‡é¢˜",-1)),g(e("input",{"onUpdate:modelValue":t[20]||(t[20]=s=>q.value=s),type:"text",class:"input w-full",placeholder:"è¯·è¾“å…¥ä»»åŠ¡æ ‡é¢˜"},null,512),[[w,q.value]])]),e("div",null,[t[88]||(t[88]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"ä»»åŠ¡æè¿°",-1)),g(e("textarea",{"onUpdate:modelValue":t[21]||(t[21]=s=>ie.value=s),class:"input w-full resize-none",rows:"3",placeholder:"è¯·è¾“å…¥ä»»åŠ¡æè¿°"},null,512),[[w,ie.value]])]),e("div",null,[t[90]||(t[90]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"åˆ†é…ç»™",-1)),g(e("select",{"onUpdate:modelValue":t[22]||(t[22]=s=>te.value=s),class:"input w-full"},[t[89]||(t[89]=e("option",{value:""},"ä¸åˆ†é…",-1)),(n(!0),a(E,null,S(b(d).members,s=>(n(),a("option",{key:s.id,value:s.user_id},o(s.user?.display_name),9,al))),128))],512),[[k,te.value]])]),e("div",null,[t[92]||(t[92]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"ä¼˜å…ˆçº§",-1)),g(e("select",{"onUpdate:modelValue":t[23]||(t[23]=s=>re.value=s),class:"input w-full"},[...t[91]||(t[91]=[e("option",{value:"low"},"ä½",-1),e("option",{value:"medium"},"ä¸­",-1),e("option",{value:"high"},"é«˜",-1)])],512),[[k,re.value]])]),e("div",null,[t[93]||(t[93]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"æˆªæ­¢æ—¥æœŸ",-1)),g(e("input",{"onUpdate:modelValue":t[24]||(t[24]=s=>de.value=s),type:"date",class:"input w-full"},null,512),[[w,de.value]])])]),X.value?(n(),a("div",nl,o(X.value),1)):p("",!0),e("div",il,[e("button",{type:"button",onClick:t[25]||(t[25]=s=>A.value=!1),class:"btn btn-secondary"}," å–æ¶ˆ "),e("button",{type:"button",onClick:Re,disabled:!q.value.trim()||b(d).isAssigningTask,class:"btn btn-primary"},o(b(d).isAssigningTask?"åˆ›å»ºä¸­...":"åˆ›å»ºä»»åŠ¡"),9,rl)])])])):p("",!0),be.value?(n(),a("div",dl,[e("div",{class:"absolute inset-0 bg-black bg-opacity-50 transition-opacity",onClick:fe}),e("div",ul,[e("div",vl,[e("div",ml,[t[96]||(t[96]=e("div",{class:"p-2 bg-blue-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})])],-1)),e("div",null,[t[95]||(t[95]=e("h3",{class:"text-lg font-semibold text-gray-900"},"ç¼–è¾‘ä»»åŠ¡",-1)),h.value?(n(),a("p",cl,"ID: "+o(h.value.id),1)):p("",!0)])]),e("div",pl,[e("button",{onClick:Be,disabled:!R.value.trim(),class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors"}," ä¿å­˜ ",8,gl),e("button",{onClick:fe,class:"p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100 transition-colors"},[...t[97]||(t[97]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),e("div",bl,[e("div",xl,[e("div",fl,[t[100]||(t[100]=e("h4",{class:"text-sm font-semibold text-gray-700 mb-3"},"åŸºæœ¬ä¿¡æ¯",-1)),e("div",yl,[e("div",null,[t[98]||(t[98]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"ä»»åŠ¡æ ‡é¢˜ *",-1)),g(e("input",{"onUpdate:modelValue":t[26]||(t[26]=s=>R.value=s),type:"text",class:"input w-full",placeholder:"è¯·è¾“å…¥ä»»åŠ¡æ ‡é¢˜",required:""},null,512),[[w,R.value]])]),e("div",null,[t[99]||(t[99]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"ä»»åŠ¡æè¿°",-1)),g(e("textarea",{"onUpdate:modelValue":t[27]||(t[27]=s=>se.value=s),class:"input w-full resize-none",rows:"4",placeholder:"è¯·è¾“å…¥ä»»åŠ¡æè¿°"},null,512),[[w,se.value]])])])]),e("div",kl,[t[108]||(t[108]=e("h4",{class:"text-sm font-semibold text-gray-700 mb-3"},"è¯¦ç»†è®¾ç½®",-1)),e("div",wl,[e("div",null,[t[102]||(t[102]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"è´Ÿè´£äºº",-1)),g(e("select",{"onUpdate:modelValue":t[28]||(t[28]=s=>G.value=s),class:"input w-full"},[t[101]||(t[101]=e("option",{value:""},"ä¸æŒ‡å®šè´Ÿè´£äºº",-1)),(n(!0),a(E,null,S(b(d).members,s=>(n(),a("option",{key:s.id,value:s.user_id},o(s.user?.display_name||"æœªçŸ¥ç”¨æˆ·"),9,_l))),128))],512),[[k,G.value]])]),e("div",null,[t[104]||(t[104]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"ä¼˜å…ˆçº§",-1)),g(e("select",{"onUpdate:modelValue":t[29]||(t[29]=s=>le.value=s),class:"input w-full"},[...t[103]||(t[103]=[e("option",{value:"low"},"ä½",-1),e("option",{value:"medium"},"ä¸­",-1),e("option",{value:"high"},"é«˜",-1),e("option",{value:"urgent"},"ç´§æ€¥",-1)])],512),[[k,le.value]])]),e("div",null,[t[106]||(t[106]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"çŠ¶æ€",-1)),g(e("select",{"onUpdate:modelValue":t[30]||(t[30]=s=>oe.value=s),class:"input w-full"},[...t[105]||(t[105]=[Me('<option value="todo">å¾…åŠ</option><option value="in_progress">è¿›è¡Œä¸­</option><option value="review">å®¡æ ¸ä¸­</option><option value="done">å·²å®Œæˆ</option><option value="cancelled">å·²å–æ¶ˆ</option>',5)])],512),[[k,oe.value]])]),e("div",null,[t[107]||(t[107]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"æˆªæ­¢æ—¥æœŸ",-1)),g(e("input",{"onUpdate:modelValue":t[31]||(t[31]=s=>ae.value=s),type:"date",class:"input w-full"},null,512),[[w,ae.value]])])])]),h.value?(n(),a("div",hl,[t[113]||(t[113]=e("h4",{class:"text-sm font-semibold text-gray-700 mb-3"},"ä»»åŠ¡ä¿¡æ¯",-1)),e("div",Ml,[e("div",null,[t[109]||(t[109]=e("span",{class:"text-gray-500"},"åˆ›å»ºæ—¶é—´:",-1)),e("p",Tl,o(P(h.value.created_at)),1)]),e("div",null,[t[110]||(t[110]=e("span",{class:"text-gray-500"},"æ›´æ–°æ—¶é—´:",-1)),e("p",jl,o(P(h.value.updated_at)),1)]),e("div",null,[t[111]||(t[111]=e("span",{class:"text-gray-500"},"æŠ¥å‘Šäºº:",-1)),e("p",Cl,o(h.value.reporter?.display_name||"æœªçŸ¥"),1)]),e("div",null,[t[112]||(t[112]=e("span",{class:"text-gray-500"},"é¡¹ç›®:",-1)),e("p",Ul,o(m.value?.name),1)])])])):p("",!0),C.value?(n(),a("div",Pl,[e("div",El,[t[114]||(t[114]=e("svg",{class:"w-5 h-5 text-red-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1)),e("span",Sl,o(C.value),1)])])):p("",!0)])])])])):p("",!0)])}}});export{Dl as default};
