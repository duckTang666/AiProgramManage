(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ti(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const ve={},Rs=[],St=()=>{},$a=()=>!1,cn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Ai=t=>t.startsWith("onUpdate:"),Ue=Object.assign,Ci=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},nu=Object.prototype.hasOwnProperty,he=(t,e)=>nu.call(t,e),X=Array.isArray,$s=t=>br(t)==="[object Map]",un=t=>br(t)==="[object Set]",co=t=>br(t)==="[object Date]",se=t=>typeof t=="function",Ce=t=>typeof t=="string",Ot=t=>typeof t=="symbol",ye=t=>t!==null&&typeof t=="object",Ia=t=>(ye(t)||se(t))&&se(t.then)&&se(t.catch),Na=Object.prototype.toString,br=t=>Na.call(t),iu=t=>br(t).slice(8,-1),La=t=>br(t)==="[object Object]",ji=t=>Ce(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Xs=Ti(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),dn=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},ou=/-\w/g,ct=dn(t=>t.replace(ou,e=>e.slice(1).toUpperCase())),au=/\B([A-Z])/g,Xt=dn(t=>t.replace(au,"-$1").toLowerCase()),hn=dn(t=>t.charAt(0).toUpperCase()+t.slice(1)),An=dn(t=>t?`on${hn(t)}`:""),Gt=(t,e)=>!Object.is(t,e),Mr=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},Da=(t,e,s,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:s})},qr=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let uo;const fn=()=>uo||(uo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Pi(t){if(X(t)){const e={};for(let s=0;s<t.length;s++){const r=t[s],n=Ce(r)?du(r):Pi(r);if(n)for(const i in n)e[i]=n[i]}return e}else if(Ce(t)||ye(t))return t}const lu=/;(?![^(]*\))/g,cu=/:([^]+)/,uu=/\/\*[^]*?\*\//g;function du(t){const e={};return t.replace(uu,"").split(lu).forEach(s=>{if(s){const r=s.split(cu);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function $e(t){let e="";if(Ce(t))e=t;else if(X(t))for(let s=0;s<t.length;s++){const r=$e(t[s]);r&&(e+=r+" ")}else if(ye(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const hu="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",fu=Ti(hu);function Ma(t){return!!t||t===""}function pu(t,e){if(t.length!==e.length)return!1;let s=!0;for(let r=0;s&&r<t.length;r++)s=pn(t[r],e[r]);return s}function pn(t,e){if(t===e)return!0;let s=co(t),r=co(e);if(s||r)return s&&r?t.getTime()===e.getTime():!1;if(s=Ot(t),r=Ot(e),s||r)return t===e;if(s=X(t),r=X(e),s||r)return s&&r?pu(t,e):!1;if(s=ye(t),r=ye(e),s||r){if(!s||!r)return!1;const n=Object.keys(t).length,i=Object.keys(e).length;if(n!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!pn(t[o],e[o]))return!1}}return String(t)===String(e)}function gu(t,e){return t.findIndex(s=>pn(s,e))}const Ua=t=>!!(t&&t.__v_isRef===!0),I=t=>Ce(t)?t:t==null?"":X(t)||ye(t)&&(t.toString===Na||!se(t.toString))?Ua(t)?I(t.value):JSON.stringify(t,Ba,2):String(t),Ba=(t,e)=>Ua(e)?Ba(t,e.value):$s(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[r,n],i)=>(s[Cn(r,i)+" =>"]=n,s),{})}:un(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>Cn(s))}:Ot(e)?Cn(e):ye(e)&&!X(e)&&!La(e)?String(e):e,Cn=(t,e="")=>{var s;return Ot(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Le;class za{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Le,!e&&Le&&(this.index=(Le.scopes||(Le.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=Le;try{return Le=this,e()}finally{Le=s}}}on(){++this._on===1&&(this.prevScope=Le,Le=this)}off(){this._on>0&&--this._on===0&&(Le=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Va(t){return new za(t)}function qa(){return Le}function mu(t,e=!1){Le&&Le.cleanups.push(t)}let xe;const jn=new WeakSet;class Fa{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Le&&Le.active&&Le.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,jn.has(this)&&(jn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Wa(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ho(this),Ka(this);const e=xe,s=pt;xe=this,pt=!0;try{return this.fn()}finally{Ga(this),xe=e,pt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Ii(e);this.deps=this.depsTail=void 0,ho(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?jn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Xn(this)&&this.run()}get dirty(){return Xn(this)}}let Ha=0,Zs,er;function Wa(t,e=!1){if(t.flags|=8,e){t.next=er,er=t;return}t.next=Zs,Zs=t}function Ri(){Ha++}function $i(){if(--Ha>0)return;if(er){let e=er;for(er=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;Zs;){let e=Zs;for(Zs=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=s}}if(t)throw t}function Ka(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Ga(t){let e,s=t.depsTail,r=s;for(;r;){const n=r.prevDep;r.version===-1?(r===s&&(s=n),Ii(r),vu(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}t.deps=e,t.depsTail=s}function Xn(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Ja(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Ja(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===ur)||(t.globalVersion=ur,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Xn(t))))return;t.flags|=2;const e=t.dep,s=xe,r=pt;xe=t,pt=!0;try{Ka(t);const n=t.fn(t._value);(e.version===0||Gt(n,t._value))&&(t.flags|=128,t._value=n,e.version++)}catch(n){throw e.version++,n}finally{xe=s,pt=r,Ga(t),t.flags&=-3}}function Ii(t,e=!1){const{dep:s,prevSub:r,nextSub:n}=t;if(r&&(r.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=r,t.nextSub=void 0),s.subs===t&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)Ii(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function vu(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let pt=!0;const Ya=[];function Lt(){Ya.push(pt),pt=!1}function Dt(){const t=Ya.pop();pt=t===void 0?!0:t}function ho(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=xe;xe=void 0;try{e()}finally{xe=s}}}let ur=0;class yu{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ni{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!xe||!pt||xe===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==xe)s=this.activeLink=new yu(xe,this),xe.deps?(s.prevDep=xe.depsTail,xe.depsTail.nextDep=s,xe.depsTail=s):xe.deps=xe.depsTail=s,Qa(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=xe.depsTail,s.nextDep=void 0,xe.depsTail.nextDep=s,xe.depsTail=s,xe.deps===s&&(xe.deps=r)}return s}trigger(e){this.version++,ur++,this.notify(e)}notify(e){Ri();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{$i()}}}function Qa(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Qa(r)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const Fr=new WeakMap,fs=Symbol(""),Zn=Symbol(""),dr=Symbol("");function De(t,e,s){if(pt&&xe){let r=Fr.get(t);r||Fr.set(t,r=new Map);let n=r.get(s);n||(r.set(s,n=new Ni),n.map=r,n.key=s),n.track()}}function $t(t,e,s,r,n,i){const o=Fr.get(t);if(!o){ur++;return}const a=l=>{l&&l.trigger()};if(Ri(),e==="clear")o.forEach(a);else{const l=X(t),u=l&&ji(s);if(l&&s==="length"){const d=Number(r);o.forEach((h,p)=>{(p==="length"||p===dr||!Ot(p)&&p>=d)&&a(h)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),u&&a(o.get(dr)),e){case"add":l?u&&a(o.get("length")):(a(o.get(fs)),$s(t)&&a(o.get(Zn)));break;case"delete":l||(a(o.get(fs)),$s(t)&&a(o.get(Zn)));break;case"set":$s(t)&&a(o.get(fs));break}}$i()}function bu(t,e){const s=Fr.get(t);return s&&s.get(e)}function _s(t){const e=ce(t);return e===t?e:(De(e,"iterate",dr),at(t)?e:e.map(Ie))}function gn(t){return De(t=ce(t),"iterate",dr),t}const wu={__proto__:null,[Symbol.iterator](){return Pn(this,Symbol.iterator,Ie)},concat(...t){return _s(this).concat(...t.map(e=>X(e)?_s(e):e))},entries(){return Pn(this,"entries",t=>(t[1]=Ie(t[1]),t))},every(t,e){return Ct(this,"every",t,e,void 0,arguments)},filter(t,e){return Ct(this,"filter",t,e,s=>s.map(Ie),arguments)},find(t,e){return Ct(this,"find",t,e,Ie,arguments)},findIndex(t,e){return Ct(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Ct(this,"findLast",t,e,Ie,arguments)},findLastIndex(t,e){return Ct(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Ct(this,"forEach",t,e,void 0,arguments)},includes(...t){return Rn(this,"includes",t)},indexOf(...t){return Rn(this,"indexOf",t)},join(t){return _s(this).join(t)},lastIndexOf(...t){return Rn(this,"lastIndexOf",t)},map(t,e){return Ct(this,"map",t,e,void 0,arguments)},pop(){return Ks(this,"pop")},push(...t){return Ks(this,"push",t)},reduce(t,...e){return fo(this,"reduce",t,e)},reduceRight(t,...e){return fo(this,"reduceRight",t,e)},shift(){return Ks(this,"shift")},some(t,e){return Ct(this,"some",t,e,void 0,arguments)},splice(...t){return Ks(this,"splice",t)},toReversed(){return _s(this).toReversed()},toSorted(t){return _s(this).toSorted(t)},toSpliced(...t){return _s(this).toSpliced(...t)},unshift(...t){return Ks(this,"unshift",t)},values(){return Pn(this,"values",Ie)}};function Pn(t,e,s){const r=gn(t),n=r[e]();return r!==t&&!at(t)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.done||(i.value=s(i.value)),i}),n}const _u=Array.prototype;function Ct(t,e,s,r,n,i){const o=gn(t),a=o!==t&&!at(t),l=o[e];if(l!==_u[e]){const h=l.apply(t,i);return a?Ie(h):h}let u=s;o!==t&&(a?u=function(h,p){return s.call(this,Ie(h),p,t)}:s.length>2&&(u=function(h,p){return s.call(this,h,p,t)}));const d=l.call(o,u,r);return a&&n?n(d):d}function fo(t,e,s,r){const n=gn(t);let i=s;return n!==t&&(at(t)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,t)}):i=function(o,a,l){return s.call(this,o,Ie(a),l,t)}),n[e](i,...r)}function Rn(t,e,s){const r=ce(t);De(r,"iterate",dr);const n=r[e](...s);return(n===-1||n===!1)&&Mi(s[0])?(s[0]=ce(s[0]),r[e](...s)):n}function Ks(t,e,s=[]){Lt(),Ri();const r=ce(t)[e].apply(t,s);return $i(),Dt(),r}const xu=Ti("__proto__,__v_isRef,__isVue"),Xa=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ot));function ku(t){Ot(t)||(t=String(t));const e=ce(this);return De(e,"has",t),e.hasOwnProperty(t)}class Za{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,r){if(s==="__v_skip")return e.__v_skip;const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return r===(n?i?$u:rl:i?sl:tl).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=X(e);if(!n){let l;if(o&&(l=wu[s]))return l;if(s==="hasOwnProperty")return ku}const a=Reflect.get(e,s,Te(e)?e:r);if((Ot(s)?Xa.has(s):xu(s))||(n||De(e,"get",s),i))return a;if(Te(a)){const l=o&&ji(s)?a:a.value;return n&&ye(l)?ti(l):l}return ye(a)?n?ti(a):Je(a):a}}class el extends Za{constructor(e=!1){super(!1,e)}set(e,s,r,n){let i=e[s];if(!this._isShallow){const l=Yt(i);if(!at(r)&&!Yt(r)&&(i=ce(i),r=ce(r)),!X(e)&&Te(i)&&!Te(r))return l||(i.value=r),!0}const o=X(e)&&ji(s)?Number(s)<e.length:he(e,s),a=Reflect.set(e,s,r,Te(e)?e:n);return e===ce(n)&&(o?Gt(r,i)&&$t(e,"set",s,r):$t(e,"add",s,r)),a}deleteProperty(e,s){const r=he(e,s);e[s];const n=Reflect.deleteProperty(e,s);return n&&r&&$t(e,"delete",s,void 0),n}has(e,s){const r=Reflect.has(e,s);return(!Ot(s)||!Xa.has(s))&&De(e,"has",s),r}ownKeys(e){return De(e,"iterate",X(e)?"length":fs),Reflect.ownKeys(e)}}class Eu extends Za{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const Su=new el,Ou=new Eu,Tu=new el(!0);const ei=t=>t,Sr=t=>Reflect.getPrototypeOf(t);function Au(t,e,s){return function(...r){const n=this.__v_raw,i=ce(n),o=$s(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=n[t](...r),d=s?ei:e?Hr:Ie;return!e&&De(i,"iterate",l?Zn:fs),{next(){const{value:h,done:p}=u.next();return p?{value:h,done:p}:{value:a?[d(h[0]),d(h[1])]:d(h),done:p}},[Symbol.iterator](){return this}}}}function Or(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Cu(t,e){const s={get(n){const i=this.__v_raw,o=ce(i),a=ce(n);t||(Gt(n,a)&&De(o,"get",n),De(o,"get",a));const{has:l}=Sr(o),u=e?ei:t?Hr:Ie;if(l.call(o,n))return u(i.get(n));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!t&&De(ce(n),"iterate",fs),n.size},has(n){const i=this.__v_raw,o=ce(i),a=ce(n);return t||(Gt(n,a)&&De(o,"has",n),De(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=ce(a),u=e?ei:t?Hr:Ie;return!t&&De(l,"iterate",fs),a.forEach((d,h)=>n.call(i,u(d),u(h),o))}};return Ue(s,t?{add:Or("add"),set:Or("set"),delete:Or("delete"),clear:Or("clear")}:{add(n){!e&&!at(n)&&!Yt(n)&&(n=ce(n));const i=ce(this);return Sr(i).has.call(i,n)||(i.add(n),$t(i,"add",n,n)),this},set(n,i){!e&&!at(i)&&!Yt(i)&&(i=ce(i));const o=ce(this),{has:a,get:l}=Sr(o);let u=a.call(o,n);u||(n=ce(n),u=a.call(o,n));const d=l.call(o,n);return o.set(n,i),u?Gt(i,d)&&$t(o,"set",n,i):$t(o,"add",n,i),this},delete(n){const i=ce(this),{has:o,get:a}=Sr(i);let l=o.call(i,n);l||(n=ce(n),l=o.call(i,n)),a&&a.call(i,n);const u=i.delete(n);return l&&$t(i,"delete",n,void 0),u},clear(){const n=ce(this),i=n.size!==0,o=n.clear();return i&&$t(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=Au(n,t,e)}),s}function Li(t,e){const s=Cu(t,e);return(r,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?r:Reflect.get(he(s,n)&&n in r?s:r,n,i)}const ju={get:Li(!1,!1)},Pu={get:Li(!1,!0)},Ru={get:Li(!0,!1)};const tl=new WeakMap,sl=new WeakMap,rl=new WeakMap,$u=new WeakMap;function Iu(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Nu(t){return t.__v_skip||!Object.isExtensible(t)?0:Iu(iu(t))}function Je(t){return Yt(t)?t:Di(t,!1,Su,ju,tl)}function nl(t){return Di(t,!1,Tu,Pu,sl)}function ti(t){return Di(t,!0,Ou,Ru,rl)}function Di(t,e,s,r,n){if(!ye(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=Nu(t);if(i===0)return t;const o=n.get(t);if(o)return o;const a=new Proxy(t,i===2?r:s);return n.set(t,a),a}function Jt(t){return Yt(t)?Jt(t.__v_raw):!!(t&&t.__v_isReactive)}function Yt(t){return!!(t&&t.__v_isReadonly)}function at(t){return!!(t&&t.__v_isShallow)}function Mi(t){return t?!!t.__v_raw:!1}function ce(t){const e=t&&t.__v_raw;return e?ce(e):t}function Ui(t){return!he(t,"__v_skip")&&Object.isExtensible(t)&&Da(t,"__v_skip",!0),t}const Ie=t=>ye(t)?Je(t):t,Hr=t=>ye(t)?ti(t):t;function Te(t){return t?t.__v_isRef===!0:!1}function U(t){return il(t,!1)}function Lu(t){return il(t,!0)}function il(t,e){return Te(t)?t:new Du(t,e)}class Du{constructor(e,s){this.dep=new Ni,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:ce(e),this._value=s?e:Ie(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,r=this.__v_isShallow||at(e)||Yt(e);e=r?e:ce(e),Gt(e,s)&&(this._rawValue=e,this._value=r?e:Ie(e),this.dep.trigger())}}function ft(t){return Te(t)?t.value:t}const Mu={get:(t,e,s)=>e==="__v_raw"?t:ft(Reflect.get(t,e,s)),set:(t,e,s,r)=>{const n=t[e];return Te(n)&&!Te(s)?(n.value=s,!0):Reflect.set(t,e,s,r)}};function ol(t){return Jt(t)?t:new Proxy(t,Mu)}function Uu(t){const e=X(t)?new Array(t.length):{};for(const s in t)e[s]=zu(t,s);return e}class Bu{constructor(e,s,r){this._object=e,this._key=s,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return bu(ce(this._object),this._key)}}function zu(t,e,s){const r=t[e];return Te(r)?r:new Bu(t,e,s)}class Vu{constructor(e,s,r){this.fn=e,this.setter=s,this._value=void 0,this.dep=new Ni(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ur-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&xe!==this)return Wa(this,!0),!0}get value(){const e=this.dep.track();return Ja(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function qu(t,e,s=!1){let r,n;return se(t)?r=t:(r=t.get,n=t.set),new Vu(r,n,s)}const Tr={},Wr=new WeakMap;let os;function Fu(t,e=!1,s=os){if(s){let r=Wr.get(s);r||Wr.set(s,r=[]),r.push(t)}}function Hu(t,e,s=ve){const{immediate:r,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=s,u=j=>n?j:at(j)||n===!1||n===0?It(j,1):It(j);let d,h,p,f,g=!1,y=!1;if(Te(t)?(h=()=>t.value,g=at(t)):Jt(t)?(h=()=>u(t),g=!0):X(t)?(y=!0,g=t.some(j=>Jt(j)||at(j)),h=()=>t.map(j=>{if(Te(j))return j.value;if(Jt(j))return u(j);if(se(j))return l?l(j,2):j()})):se(t)?e?h=l?()=>l(t,2):t:h=()=>{if(p){Lt();try{p()}finally{Dt()}}const j=os;os=d;try{return l?l(t,3,[f]):t(f)}finally{os=j}}:h=St,e&&n){const j=h,D=n===!0?1/0:n;h=()=>It(j(),D)}const b=qa(),S=()=>{d.stop(),b&&b.active&&Ci(b.effects,d)};if(i&&e){const j=e;e=(...D)=>{j(...D),S()}}let x=y?new Array(t.length).fill(Tr):Tr;const w=j=>{if(!(!(d.flags&1)||!d.dirty&&!j))if(e){const D=d.run();if(n||g||(y?D.some((F,k)=>Gt(F,x[k])):Gt(D,x))){p&&p();const F=os;os=d;try{const k=[D,x===Tr?void 0:y&&x[0]===Tr?[]:x,f];x=D,l?l(e,3,k):e(...k)}finally{os=F}}}else d.run()};return a&&a(w),d=new Fa(h),d.scheduler=o?()=>o(w,!1):w,f=j=>Fu(j,!1,d),p=d.onStop=()=>{const j=Wr.get(d);if(j){if(l)l(j,4);else for(const D of j)D();Wr.delete(d)}},e?r?w(!0):x=d.run():o?o(w.bind(null,!0),!0):d.run(),S.pause=d.pause.bind(d),S.resume=d.resume.bind(d),S.stop=S,S}function It(t,e=1/0,s){if(e<=0||!ye(t)||t.__v_skip||(s=s||new Map,(s.get(t)||0)>=e))return t;if(s.set(t,e),e--,Te(t))It(t.value,e,s);else if(X(t))for(let r=0;r<t.length;r++)It(t[r],e,s);else if(un(t)||$s(t))t.forEach(r=>{It(r,e,s)});else if(La(t)){for(const r in t)It(t[r],e,s);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&It(t[r],e,s)}return t}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function wr(t,e,s,r){try{return r?t(...r):t()}catch(n){mn(n,e,s)}}function Tt(t,e,s,r){if(se(t)){const n=wr(t,e,s,r);return n&&Ia(n)&&n.catch(i=>{mn(i,e,s)}),n}if(X(t)){const n=[];for(let i=0;i<t.length;i++)n.push(Tt(t[i],e,s,r));return n}}function mn(t,e,s,r=!0){const n=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ve;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const d=a.ec;if(d){for(let h=0;h<d.length;h++)if(d[h](t,l,u)===!1)return}a=a.parent}if(i){Lt(),wr(i,null,10,[t,l,u]),Dt();return}}Wu(t,s,n,r,o)}function Wu(t,e,s,r=!0,n=!1){if(n)throw t;console.error(t)}const Ve=[];let kt=-1;const Is=[];let Ft=null,As=0;const al=Promise.resolve();let Kr=null;function vn(t){const e=Kr||al;return t?e.then(this?t.bind(this):t):e}function Ku(t){let e=kt+1,s=Ve.length;for(;e<s;){const r=e+s>>>1,n=Ve[r],i=hr(n);i<t||i===t&&n.flags&2?e=r+1:s=r}return e}function Bi(t){if(!(t.flags&1)){const e=hr(t),s=Ve[Ve.length-1];!s||!(t.flags&2)&&e>=hr(s)?Ve.push(t):Ve.splice(Ku(e),0,t),t.flags|=1,ll()}}function ll(){Kr||(Kr=al.then(ul))}function Gu(t){X(t)?Is.push(...t):Ft&&t.id===-1?Ft.splice(As+1,0,t):t.flags&1||(Is.push(t),t.flags|=1),ll()}function po(t,e,s=kt+1){for(;s<Ve.length;s++){const r=Ve[s];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Ve.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function cl(t){if(Is.length){const e=[...new Set(Is)].sort((s,r)=>hr(s)-hr(r));if(Is.length=0,Ft){Ft.push(...e);return}for(Ft=e,As=0;As<Ft.length;As++){const s=Ft[As];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Ft=null,As=0}}const hr=t=>t.id==null?t.flags&2?-1:1/0:t.id;function ul(t){try{for(kt=0;kt<Ve.length;kt++){const e=Ve[kt];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),wr(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;kt<Ve.length;kt++){const e=Ve[kt];e&&(e.flags&=-2)}kt=-1,Ve.length=0,cl(),Kr=null,(Ve.length||Is.length)&&ul()}}let rt=null,dl=null;function Gr(t){const e=rt;return rt=t,dl=t&&t.type.__scopeId||null,e}function qe(t,e=rt,s){if(!e||t._n)return t;const r=(...n)=>{r._d&&Qr(-1);const i=Gr(e);let o;try{o=t(...n)}finally{Gr(i),r._d&&Qr(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Oe(t,e){if(rt===null)return t;const s=_n(rt),r=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[i,o,a,l=ve]=e[n];i&&(se(i)&&(i={mounted:i,updated:i}),i.deep&&It(o),r.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function ss(t,e,s,r){const n=t.dirs,i=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(Lt(),Tt(l,s,8,[t.el,a,t,e]),Dt())}}const Ju=Symbol("_vte"),Yu=t=>t.__isTeleport,Qu=Symbol("_leaveCb");function zi(t,e){t.shapeFlag&6&&t.component?(t.transition=e,zi(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Fe(t,e){return se(t)?Ue({name:t.name},e,{setup:t}):t}function hl(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const Jr=new WeakMap;function tr(t,e,s,r,n=!1){if(X(t)){t.forEach((g,y)=>tr(g,e&&(X(e)?e[y]:e),s,r,n));return}if(sr(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&tr(t,e,s,r.component.subTree);return}const i=r.shapeFlag&4?_n(r.component):r.el,o=n?null:i,{i:a,r:l}=t,u=e&&e.r,d=a.refs===ve?a.refs={}:a.refs,h=a.setupState,p=ce(h),f=h===ve?$a:g=>he(p,g);if(u!=null&&u!==l){if(go(e),Ce(u))d[u]=null,f(u)&&(h[u]=null);else if(Te(u)){u.value=null;const g=e;g.k&&(d[g.k]=null)}}if(se(l))wr(l,a,12,[o,d]);else{const g=Ce(l),y=Te(l);if(g||y){const b=()=>{if(t.f){const S=g?f(l)?h[l]:d[l]:l.value;if(n)X(S)&&Ci(S,i);else if(X(S))S.includes(i)||S.push(i);else if(g)d[l]=[i],f(l)&&(h[l]=d[l]);else{const x=[i];l.value=x,t.k&&(d[t.k]=x)}}else g?(d[l]=o,f(l)&&(h[l]=o)):y&&(l.value=o,t.k&&(d[t.k]=o))};if(o){const S=()=>{b(),Jr.delete(t)};S.id=-1,Jr.set(t,S),Xe(S,s)}else go(t),b()}}}function go(t){const e=Jr.get(t);e&&(e.flags|=8,Jr.delete(t))}fn().requestIdleCallback;fn().cancelIdleCallback;const sr=t=>!!t.type.__asyncLoader,fl=t=>t.type.__isKeepAlive;function Xu(t,e){pl(t,"a",e)}function Zu(t,e){pl(t,"da",e)}function pl(t,e,s=Me){const r=t.__wdc||(t.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(yn(e,r,s),s){let n=s.parent;for(;n&&n.parent;)fl(n.parent.vnode)&&ed(r,e,s,n),n=n.parent}}function ed(t,e,s,r){const n=yn(e,t,r,!0);Vi(()=>{Ci(r[e],n)},s)}function yn(t,e,s=Me,r=!1){if(s){const n=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Lt();const a=_r(s),l=Tt(e,s,t,o);return a(),Dt(),l});return r?n.unshift(i):n.push(i),i}}const Mt=t=>(e,s=Me)=>{(!pr||t==="sp")&&yn(t,(...r)=>e(...r),s)},td=Mt("bm"),mt=Mt("m"),sd=Mt("bu"),rd=Mt("u"),nd=Mt("bum"),Vi=Mt("um"),id=Mt("sp"),od=Mt("rtg"),ad=Mt("rtc");function ld(t,e=Me){yn("ec",t,e)}const cd="components";function vt(t,e){return dd(cd,t,!0,e)||t}const ud=Symbol.for("v-ndc");function dd(t,e,s=!0,r=!1){const n=rt||Me;if(n){const i=n.type;{const a=Zd(i,!1);if(a&&(a===e||a===ct(e)||a===hn(ct(e))))return i}const o=mo(n[t]||i[t],e)||mo(n.appContext[t],e);return!o&&r?i:o}}function mo(t,e){return t&&(t[e]||t[ct(e)]||t[hn(ct(e))])}function et(t,e,s,r){let n;const i=s,o=X(t);if(o||Ce(t)){const a=o&&Jt(t);let l=!1,u=!1;a&&(l=!at(t),u=Yt(t),t=gn(t)),n=new Array(t.length);for(let d=0,h=t.length;d<h;d++)n[d]=e(l?u?Hr(Ie(t[d])):Ie(t[d]):t[d],d,void 0,i)}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,i)}else if(ye(t))if(t[Symbol.iterator])n=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);n=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const d=a[l];n[l]=e(t[d],d,l,i)}}else n=[];return n}const si=t=>t?Ll(t)?_n(t):si(t.parent):null,rr=Ue(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>si(t.parent),$root:t=>si(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>ml(t),$forceUpdate:t=>t.f||(t.f=()=>{Bi(t.update)}),$nextTick:t=>t.n||(t.n=vn.bind(t.proxy)),$watch:t=>$d.bind(t)}),$n=(t,e)=>t!==ve&&!t.__isScriptSetup&&he(t,e),hd={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return r[e];case 2:return n[e];case 4:return s[e];case 3:return i[e]}else{if($n(r,e))return o[e]=1,r[e];if(n!==ve&&he(n,e))return o[e]=2,n[e];if((u=t.propsOptions[0])&&he(u,e))return o[e]=3,i[e];if(s!==ve&&he(s,e))return o[e]=4,s[e];ri&&(o[e]=0)}}const d=rr[e];let h,p;if(d)return e==="$attrs"&&De(t.attrs,"get",""),d(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(s!==ve&&he(s,e))return o[e]=4,s[e];if(p=l.config.globalProperties,he(p,e))return p[e]},set({_:t},e,s){const{data:r,setupState:n,ctx:i}=t;return $n(n,e)?(n[e]=s,!0):r!==ve&&he(r,e)?(r[e]=s,!0):he(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:r,appContext:n,propsOptions:i,type:o}},a){let l,u;return!!(s[a]||t!==ve&&a[0]!=="$"&&he(t,a)||$n(e,a)||(l=i[0])&&he(l,a)||he(r,a)||he(rr,a)||he(n.config.globalProperties,a)||(u=o.__cssModules)&&u[a])},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:he(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function vo(t){return X(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let ri=!0;function fd(t){const e=ml(t),s=t.proxy,r=t.ctx;ri=!1,e.beforeCreate&&yo(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:u,created:d,beforeMount:h,mounted:p,beforeUpdate:f,updated:g,activated:y,deactivated:b,beforeDestroy:S,beforeUnmount:x,destroyed:w,unmounted:j,render:D,renderTracked:F,renderTriggered:k,errorCaptured:Q,serverPrefetch:R,expose:ue,inheritAttrs:B,components:V,directives:me,filters:be}=e;if(u&&pd(u,r,null),o)for(const ee in o){const le=o[ee];se(le)&&(r[ee]=le.bind(s))}if(n){const ee=n.call(s,s);ye(ee)&&(t.data=Je(ee))}if(ri=!0,i)for(const ee in i){const le=i[ee],it=se(le)?le.bind(s,s):se(le.get)?le.get.bind(s,s):St,Ut=!se(le)&&se(le.set)?le.set.bind(s):St,yt=Ne({get:it,set:Ut});Object.defineProperty(r,ee,{enumerable:!0,configurable:!0,get:()=>yt.value,set:He=>yt.value=He})}if(a)for(const ee in a)gl(a[ee],r,s,ee);if(l){const ee=se(l)?l.call(s):l;Reflect.ownKeys(ee).forEach(le=>{Ur(le,ee[le])})}d&&yo(d,t,"c");function ge(ee,le){X(le)?le.forEach(it=>ee(it.bind(s))):le&&ee(le.bind(s))}if(ge(td,h),ge(mt,p),ge(sd,f),ge(rd,g),ge(Xu,y),ge(Zu,b),ge(ld,Q),ge(ad,F),ge(od,k),ge(nd,x),ge(Vi,j),ge(id,R),X(ue))if(ue.length){const ee=t.exposed||(t.exposed={});ue.forEach(le=>{Object.defineProperty(ee,le,{get:()=>s[le],set:it=>s[le]=it,enumerable:!0})})}else t.exposed||(t.exposed={});D&&t.render===St&&(t.render=D),B!=null&&(t.inheritAttrs=B),V&&(t.components=V),me&&(t.directives=me),R&&hl(t)}function pd(t,e,s=St){X(t)&&(t=ni(t));for(const r in t){const n=t[r];let i;ye(n)?"default"in n?i=lt(n.from||r,n.default,!0):i=lt(n.from||r):i=lt(n),Te(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function yo(t,e,s){Tt(X(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,s)}function gl(t,e,s,r){let n=r.includes(".")?Cl(s,r):()=>s[r];if(Ce(t)){const i=e[t];se(i)&&Nt(n,i)}else if(se(t))Nt(n,t.bind(s));else if(ye(t))if(X(t))t.forEach(i=>gl(i,e,s,r));else{const i=se(t.handler)?t.handler.bind(s):e[t.handler];se(i)&&Nt(n,i,t)}}function ml(t){const e=t.type,{mixins:s,extends:r}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!n.length&&!s&&!r?l=e:(l={},n.length&&n.forEach(u=>Yr(l,u,o,!0)),Yr(l,e,o)),ye(e)&&i.set(e,l),l}function Yr(t,e,s,r=!1){const{mixins:n,extends:i}=e;i&&Yr(t,i,s,!0),n&&n.forEach(o=>Yr(t,o,s,!0));for(const o in e)if(!(r&&o==="expose")){const a=gd[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const gd={data:bo,props:wo,emits:wo,methods:Ys,computed:Ys,beforeCreate:Be,created:Be,beforeMount:Be,mounted:Be,beforeUpdate:Be,updated:Be,beforeDestroy:Be,beforeUnmount:Be,destroyed:Be,unmounted:Be,activated:Be,deactivated:Be,errorCaptured:Be,serverPrefetch:Be,components:Ys,directives:Ys,watch:vd,provide:bo,inject:md};function bo(t,e){return e?t?function(){return Ue(se(t)?t.call(this,this):t,se(e)?e.call(this,this):e)}:e:t}function md(t,e){return Ys(ni(t),ni(e))}function ni(t){if(X(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function Be(t,e){return t?[...new Set([].concat(t,e))]:e}function Ys(t,e){return t?Ue(Object.create(null),t,e):e}function wo(t,e){return t?X(t)&&X(e)?[...new Set([...t,...e])]:Ue(Object.create(null),vo(t),vo(e??{})):e}function vd(t,e){if(!t)return e;if(!e)return t;const s=Ue(Object.create(null),t);for(const r in e)s[r]=Be(t[r],e[r]);return s}function vl(){return{app:null,config:{isNativeTag:$a,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let yd=0;function bd(t,e){return function(r,n=null){se(r)||(r=Ue({},r)),n!=null&&!ye(n)&&(n=null);const i=vl(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:yd++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:th,get config(){return i.config},set config(d){},use(d,...h){return o.has(d)||(d&&se(d.install)?(o.add(d),d.install(u,...h)):se(d)&&(o.add(d),d(u,...h))),u},mixin(d){return i.mixins.includes(d)||i.mixins.push(d),u},component(d,h){return h?(i.components[d]=h,u):i.components[d]},directive(d,h){return h?(i.directives[d]=h,u):i.directives[d]},mount(d,h,p){if(!l){const f=u._ceVNode||pe(r,n);return f.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),t(f,d,p),l=!0,u._container=d,d.__vue_app__=u,_n(f.component)}},onUnmount(d){a.push(d)},unmount(){l&&(Tt(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(d,h){return i.provides[d]=h,u},runWithContext(d){const h=ps;ps=u;try{return d()}finally{ps=h}}};return u}}let ps=null;function Ur(t,e){if(Me){let s=Me.provides;const r=Me.parent&&Me.parent.provides;r===s&&(s=Me.provides=Object.create(r)),s[t]=e}}function lt(t,e,s=!1){const r=Nl();if(r||ps){let n=ps?ps._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return s&&se(e)?e.call(r&&r.proxy):e}}function wd(){return!!(Nl()||ps)}const yl={},bl=()=>Object.create(yl),wl=t=>Object.getPrototypeOf(t)===yl;function _d(t,e,s,r=!1){const n={},i=bl();t.propsDefaults=Object.create(null),_l(t,e,n,i);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);s?t.props=r?n:nl(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function xd(t,e,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=t,a=ce(n),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const d=t.vnode.dynamicProps;for(let h=0;h<d.length;h++){let p=d[h];if(bn(t.emitsOptions,p))continue;const f=e[p];if(l)if(he(i,p))f!==i[p]&&(i[p]=f,u=!0);else{const g=ct(p);n[g]=ii(l,a,g,f,t,!1)}else f!==i[p]&&(i[p]=f,u=!0)}}}else{_l(t,e,n,i)&&(u=!0);let d;for(const h in a)(!e||!he(e,h)&&((d=Xt(h))===h||!he(e,d)))&&(l?s&&(s[h]!==void 0||s[d]!==void 0)&&(n[h]=ii(l,a,h,void 0,t,!0)):delete n[h]);if(i!==a)for(const h in i)(!e||!he(e,h))&&(delete i[h],u=!0)}u&&$t(t.attrs,"set","")}function _l(t,e,s,r){const[n,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Xs(l))continue;const u=e[l];let d;n&&he(n,d=ct(l))?!i||!i.includes(d)?s[d]=u:(a||(a={}))[d]=u:bn(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=ce(s),u=a||ve;for(let d=0;d<i.length;d++){const h=i[d];s[h]=ii(n,l,h,u[h],t,!he(u,h))}}return o}function ii(t,e,s,r,n,i){const o=t[s];if(o!=null){const a=he(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&se(l)){const{propsDefaults:u}=n;if(s in u)r=u[s];else{const d=_r(n);r=u[s]=l.call(null,e),d()}}else r=l;n.ce&&n.ce._setProp(s,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Xt(s))&&(r=!0))}return r}const kd=new WeakMap;function xl(t,e,s=!1){const r=s?kd:e.propsCache,n=r.get(t);if(n)return n;const i=t.props,o={},a=[];let l=!1;if(!se(t)){const d=h=>{l=!0;const[p,f]=xl(h,e,!0);Ue(o,p),f&&a.push(...f)};!s&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!i&&!l)return ye(t)&&r.set(t,Rs),Rs;if(X(i))for(let d=0;d<i.length;d++){const h=ct(i[d]);_o(h)&&(o[h]=ve)}else if(i)for(const d in i){const h=ct(d);if(_o(h)){const p=i[d],f=o[h]=X(p)||se(p)?{type:p}:Ue({},p),g=f.type;let y=!1,b=!0;if(X(g))for(let S=0;S<g.length;++S){const x=g[S],w=se(x)&&x.name;if(w==="Boolean"){y=!0;break}else w==="String"&&(b=!1)}else y=se(g)&&g.name==="Boolean";f[0]=y,f[1]=b,(y||he(f,"default"))&&a.push(h)}}const u=[o,a];return ye(t)&&r.set(t,u),u}function _o(t){return t[0]!=="$"&&!Xs(t)}const qi=t=>t==="_"||t==="_ctx"||t==="$stable",Fi=t=>X(t)?t.map(Et):[Et(t)],Ed=(t,e,s)=>{if(e._n)return e;const r=qe((...n)=>Fi(e(...n)),s);return r._c=!1,r},kl=(t,e,s)=>{const r=t._ctx;for(const n in t){if(qi(n))continue;const i=t[n];if(se(i))e[n]=Ed(n,i,r);else if(i!=null){const o=Fi(i);e[n]=()=>o}}},El=(t,e)=>{const s=Fi(e);t.slots.default=()=>s},Sl=(t,e,s)=>{for(const r in e)(s||!qi(r))&&(t[r]=e[r])},Sd=(t,e,s)=>{const r=t.slots=bl();if(t.vnode.shapeFlag&32){const n=e._;n?(Sl(r,e,s),s&&Da(r,"_",n,!0)):kl(e,r)}else e&&El(t,e)},Od=(t,e,s)=>{const{vnode:r,slots:n}=t;let i=!0,o=ve;if(r.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:Sl(n,e,s):(i=!e.$stable,kl(e,n)),o=e}else e&&(El(t,e),o={default:1});if(i)for(const a in n)!qi(a)&&o[a]==null&&delete n[a]},Xe=zd;function Td(t){return Ad(t)}function Ad(t,e){const s=fn();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:d,parentNode:h,nextSibling:p,setScopeId:f=St,insertStaticContent:g}=t,y=(m,v,_,O=null,A=null,E=null,M=void 0,L=null,N=!!v.dynamicChildren)=>{if(m===v)return;m&&!Gs(m,v)&&(O=T(m),He(m,A,E,!0),m=null),v.patchFlag===-2&&(N=!1,v.dynamicChildren=null);const{type:$,ref:Y,shapeFlag:q}=v;switch($){case wn:b(m,v,_,O);break;case Qt:S(m,v,_,O);break;case Br:m==null&&x(v,_,O,M);break;case Ee:V(m,v,_,O,A,E,M,L,N);break;default:q&1?D(m,v,_,O,A,E,M,L,N):q&6?me(m,v,_,O,A,E,M,L,N):(q&64||q&128)&&$.process(m,v,_,O,A,E,M,L,N,K)}Y!=null&&A?tr(Y,m&&m.ref,E,v||m,!v):Y==null&&m&&m.ref!=null&&tr(m.ref,null,E,m,!0)},b=(m,v,_,O)=>{if(m==null)r(v.el=a(v.children),_,O);else{const A=v.el=m.el;v.children!==m.children&&u(A,v.children)}},S=(m,v,_,O)=>{m==null?r(v.el=l(v.children||""),_,O):v.el=m.el},x=(m,v,_,O)=>{[m.el,m.anchor]=g(m.children,v,_,O,m.el,m.anchor)},w=({el:m,anchor:v},_,O)=>{let A;for(;m&&m!==v;)A=p(m),r(m,_,O),m=A;r(v,_,O)},j=({el:m,anchor:v})=>{let _;for(;m&&m!==v;)_=p(m),n(m),m=_;n(v)},D=(m,v,_,O,A,E,M,L,N)=>{v.type==="svg"?M="svg":v.type==="math"&&(M="mathml"),m==null?F(v,_,O,A,E,M,L,N):R(m,v,A,E,M,L,N)},F=(m,v,_,O,A,E,M,L)=>{let N,$;const{props:Y,shapeFlag:q,transition:G,dirs:Z}=m;if(N=m.el=o(m.type,E,Y&&Y.is,Y),q&8?d(N,m.children):q&16&&Q(m.children,N,null,O,A,In(m,E),M,L),Z&&ss(m,null,O,"created"),k(N,m,m.scopeId,M,O),Y){for(const we in Y)we!=="value"&&!Xs(we)&&i(N,we,null,Y[we],E,O);"value"in Y&&i(N,"value",null,Y.value,E),($=Y.onVnodeBeforeMount)&&xt($,O,m)}Z&&ss(m,null,O,"beforeMount");const ae=Cd(A,G);ae&&G.beforeEnter(N),r(N,v,_),(($=Y&&Y.onVnodeMounted)||ae||Z)&&Xe(()=>{$&&xt($,O,m),ae&&G.enter(N),Z&&ss(m,null,O,"mounted")},A)},k=(m,v,_,O,A)=>{if(_&&f(m,_),O)for(let E=0;E<O.length;E++)f(m,O[E]);if(A){let E=A.subTree;if(v===E||Pl(E.type)&&(E.ssContent===v||E.ssFallback===v)){const M=A.vnode;k(m,M,M.scopeId,M.slotScopeIds,A.parent)}}},Q=(m,v,_,O,A,E,M,L,N=0)=>{for(let $=N;$<m.length;$++){const Y=m[$]=L?Ht(m[$]):Et(m[$]);y(null,Y,v,_,O,A,E,M,L)}},R=(m,v,_,O,A,E,M)=>{const L=v.el=m.el;let{patchFlag:N,dynamicChildren:$,dirs:Y}=v;N|=m.patchFlag&16;const q=m.props||ve,G=v.props||ve;let Z;if(_&&rs(_,!1),(Z=G.onVnodeBeforeUpdate)&&xt(Z,_,v,m),Y&&ss(v,m,_,"beforeUpdate"),_&&rs(_,!0),(q.innerHTML&&G.innerHTML==null||q.textContent&&G.textContent==null)&&d(L,""),$?ue(m.dynamicChildren,$,L,_,O,In(v,A),E):M||le(m,v,L,null,_,O,In(v,A),E,!1),N>0){if(N&16)B(L,q,G,_,A);else if(N&2&&q.class!==G.class&&i(L,"class",null,G.class,A),N&4&&i(L,"style",q.style,G.style,A),N&8){const ae=v.dynamicProps;for(let we=0;we<ae.length;we++){const fe=ae[we],We=q[fe],Ke=G[fe];(Ke!==We||fe==="value")&&i(L,fe,We,Ke,A,_)}}N&1&&m.children!==v.children&&d(L,v.children)}else!M&&$==null&&B(L,q,G,_,A);((Z=G.onVnodeUpdated)||Y)&&Xe(()=>{Z&&xt(Z,_,v,m),Y&&ss(v,m,_,"updated")},O)},ue=(m,v,_,O,A,E,M)=>{for(let L=0;L<v.length;L++){const N=m[L],$=v[L],Y=N.el&&(N.type===Ee||!Gs(N,$)||N.shapeFlag&198)?h(N.el):_;y(N,$,Y,null,O,A,E,M,!0)}},B=(m,v,_,O,A)=>{if(v!==_){if(v!==ve)for(const E in v)!Xs(E)&&!(E in _)&&i(m,E,v[E],null,A,O);for(const E in _){if(Xs(E))continue;const M=_[E],L=v[E];M!==L&&E!=="value"&&i(m,E,L,M,A,O)}"value"in _&&i(m,"value",v.value,_.value,A)}},V=(m,v,_,O,A,E,M,L,N)=>{const $=v.el=m?m.el:a(""),Y=v.anchor=m?m.anchor:a("");let{patchFlag:q,dynamicChildren:G,slotScopeIds:Z}=v;Z&&(L=L?L.concat(Z):Z),m==null?(r($,_,O),r(Y,_,O),Q(v.children||[],_,Y,A,E,M,L,N)):q>0&&q&64&&G&&m.dynamicChildren?(ue(m.dynamicChildren,G,_,A,E,M,L),(v.key!=null||A&&v===A.subTree)&&Ol(m,v,!0)):le(m,v,_,Y,A,E,M,L,N)},me=(m,v,_,O,A,E,M,L,N)=>{v.slotScopeIds=L,m==null?v.shapeFlag&512?A.ctx.activate(v,_,O,M,N):be(v,_,O,A,E,M,N):Ye(m,v,N)},be=(m,v,_,O,A,E,M)=>{const L=m.component=Gd(m,O,A);if(fl(m)&&(L.ctx.renderer=K),Jd(L,!1,M),L.asyncDep){if(A&&A.registerDep(L,ge,M),!m.el){const N=L.subTree=pe(Qt);S(null,N,v,_),m.placeholder=N.el}}else ge(L,m,v,_,A,E,M)},Ye=(m,v,_)=>{const O=v.component=m.component;if(Ud(m,v,_))if(O.asyncDep&&!O.asyncResolved){ee(O,v,_);return}else O.next=v,O.update();else v.el=m.el,O.vnode=v},ge=(m,v,_,O,A,E,M)=>{const L=()=>{if(m.isMounted){let{next:q,bu:G,u:Z,parent:ae,vnode:we}=m;{const wt=Tl(m);if(wt){q&&(q.el=we.el,ee(m,q,M)),wt.asyncDep.then(()=>{m.isUnmounted||L()});return}}let fe=q,We;rs(m,!1),q?(q.el=we.el,ee(m,q,M)):q=we,G&&Mr(G),(We=q.props&&q.props.onVnodeBeforeUpdate)&&xt(We,ae,q,we),rs(m,!0);const Ke=ko(m),bt=m.subTree;m.subTree=Ke,y(bt,Ke,h(bt.el),T(bt),m,A,E),q.el=Ke.el,fe===null&&Bd(m,Ke.el),Z&&Xe(Z,A),(We=q.props&&q.props.onVnodeUpdated)&&Xe(()=>xt(We,ae,q,we),A)}else{let q;const{el:G,props:Z}=v,{bm:ae,m:we,parent:fe,root:We,type:Ke}=m,bt=sr(v);rs(m,!1),ae&&Mr(ae),!bt&&(q=Z&&Z.onVnodeBeforeMount)&&xt(q,fe,v),rs(m,!0);{We.ce&&We.ce._def.shadowRoot!==!1&&We.ce._injectChildStyle(Ke);const wt=m.subTree=ko(m);y(null,wt,_,O,m,A,E),v.el=wt.el}if(we&&Xe(we,A),!bt&&(q=Z&&Z.onVnodeMounted)){const wt=v;Xe(()=>xt(q,fe,wt),A)}(v.shapeFlag&256||fe&&sr(fe.vnode)&&fe.vnode.shapeFlag&256)&&m.a&&Xe(m.a,A),m.isMounted=!0,v=_=O=null}};m.scope.on();const N=m.effect=new Fa(L);m.scope.off();const $=m.update=N.run.bind(N),Y=m.job=N.runIfDirty.bind(N);Y.i=m,Y.id=m.uid,N.scheduler=()=>Bi(Y),rs(m,!0),$()},ee=(m,v,_)=>{v.component=m;const O=m.vnode.props;m.vnode=v,m.next=null,xd(m,v.props,O,_),Od(m,v.children,_),Lt(),po(m),Dt()},le=(m,v,_,O,A,E,M,L,N=!1)=>{const $=m&&m.children,Y=m?m.shapeFlag:0,q=v.children,{patchFlag:G,shapeFlag:Z}=v;if(G>0){if(G&128){Ut($,q,_,O,A,E,M,L,N);return}else if(G&256){it($,q,_,O,A,E,M,L,N);return}}Z&8?(Y&16&&ot($,A,E),q!==$&&d(_,q)):Y&16?Z&16?Ut($,q,_,O,A,E,M,L,N):ot($,A,E,!0):(Y&8&&d(_,""),Z&16&&Q(q,_,O,A,E,M,L,N))},it=(m,v,_,O,A,E,M,L,N)=>{m=m||Rs,v=v||Rs;const $=m.length,Y=v.length,q=Math.min($,Y);let G;for(G=0;G<q;G++){const Z=v[G]=N?Ht(v[G]):Et(v[G]);y(m[G],Z,_,null,A,E,M,L,N)}$>Y?ot(m,A,E,!0,!1,q):Q(v,_,O,A,E,M,L,N,q)},Ut=(m,v,_,O,A,E,M,L,N)=>{let $=0;const Y=v.length;let q=m.length-1,G=Y-1;for(;$<=q&&$<=G;){const Z=m[$],ae=v[$]=N?Ht(v[$]):Et(v[$]);if(Gs(Z,ae))y(Z,ae,_,null,A,E,M,L,N);else break;$++}for(;$<=q&&$<=G;){const Z=m[q],ae=v[G]=N?Ht(v[G]):Et(v[G]);if(Gs(Z,ae))y(Z,ae,_,null,A,E,M,L,N);else break;q--,G--}if($>q){if($<=G){const Z=G+1,ae=Z<Y?v[Z].el:O;for(;$<=G;)y(null,v[$]=N?Ht(v[$]):Et(v[$]),_,ae,A,E,M,L,N),$++}}else if($>G)for(;$<=q;)He(m[$],A,E,!0),$++;else{const Z=$,ae=$,we=new Map;for($=ae;$<=G;$++){const Qe=v[$]=N?Ht(v[$]):Et(v[$]);Qe.key!=null&&we.set(Qe.key,$)}let fe,We=0;const Ke=G-ae+1;let bt=!1,wt=0;const Ws=new Array(Ke);for($=0;$<Ke;$++)Ws[$]=0;for($=Z;$<=q;$++){const Qe=m[$];if(We>=Ke){He(Qe,A,E,!0);continue}let _t;if(Qe.key!=null)_t=we.get(Qe.key);else for(fe=ae;fe<=G;fe++)if(Ws[fe-ae]===0&&Gs(Qe,v[fe])){_t=fe;break}_t===void 0?He(Qe,A,E,!0):(Ws[_t-ae]=$+1,_t>=wt?wt=_t:bt=!0,y(Qe,v[_t],_,null,A,E,M,L,N),We++)}const oo=bt?jd(Ws):Rs;for(fe=oo.length-1,$=Ke-1;$>=0;$--){const Qe=ae+$,_t=v[Qe],ao=v[Qe+1],lo=Qe+1<Y?ao.el||ao.placeholder:O;Ws[$]===0?y(null,_t,_,lo,A,E,M,L,N):bt&&(fe<0||$!==oo[fe]?yt(_t,_,lo,2):fe--)}}},yt=(m,v,_,O,A=null)=>{const{el:E,type:M,transition:L,children:N,shapeFlag:$}=m;if($&6){yt(m.component.subTree,v,_,O);return}if($&128){m.suspense.move(v,_,O);return}if($&64){M.move(m,v,_,K);return}if(M===Ee){r(E,v,_);for(let q=0;q<N.length;q++)yt(N[q],v,_,O);r(m.anchor,v,_);return}if(M===Br){w(m,v,_);return}if(O!==2&&$&1&&L)if(O===0)L.beforeEnter(E),r(E,v,_),Xe(()=>L.enter(E),A);else{const{leave:q,delayLeave:G,afterLeave:Z}=L,ae=()=>{m.ctx.isUnmounted?n(E):r(E,v,_)},we=()=>{E._isLeaving&&E[Qu](!0),q(E,()=>{ae(),Z&&Z()})};G?G(E,ae,we):we()}else r(E,v,_)},He=(m,v,_,O=!1,A=!1)=>{const{type:E,props:M,ref:L,children:N,dynamicChildren:$,shapeFlag:Y,patchFlag:q,dirs:G,cacheIndex:Z}=m;if(q===-2&&(A=!1),L!=null&&(Lt(),tr(L,null,_,m,!0),Dt()),Z!=null&&(v.renderCache[Z]=void 0),Y&256){v.ctx.deactivate(m);return}const ae=Y&1&&G,we=!sr(m);let fe;if(we&&(fe=M&&M.onVnodeBeforeUnmount)&&xt(fe,v,m),Y&6)ts(m.component,_,O);else{if(Y&128){m.suspense.unmount(_,O);return}ae&&ss(m,null,v,"beforeUnmount"),Y&64?m.type.remove(m,v,_,K,O):$&&!$.hasOnce&&(E!==Ee||q>0&&q&64)?ot($,v,_,!1,!0):(E===Ee&&q&384||!A&&Y&16)&&ot(N,v,_),O&&bs(m)}(we&&(fe=M&&M.onVnodeUnmounted)||ae)&&Xe(()=>{fe&&xt(fe,v,m),ae&&ss(m,null,v,"unmounted")},_)},bs=m=>{const{type:v,el:_,anchor:O,transition:A}=m;if(v===Ee){ws(_,O);return}if(v===Br){j(m);return}const E=()=>{n(_),A&&!A.persisted&&A.afterLeave&&A.afterLeave()};if(m.shapeFlag&1&&A&&!A.persisted){const{leave:M,delayLeave:L}=A,N=()=>M(_,E);L?L(m.el,E,N):N()}else E()},ws=(m,v)=>{let _;for(;m!==v;)_=p(m),n(m),m=_;n(v)},ts=(m,v,_)=>{const{bum:O,scope:A,job:E,subTree:M,um:L,m:N,a:$}=m;xo(N),xo($),O&&Mr(O),A.stop(),E&&(E.flags|=8,He(M,m,v,_)),L&&Xe(L,v),Xe(()=>{m.isUnmounted=!0},v)},ot=(m,v,_,O=!1,A=!1,E=0)=>{for(let M=E;M<m.length;M++)He(m[M],v,_,O,A)},T=m=>{if(m.shapeFlag&6)return T(m.component.subTree);if(m.shapeFlag&128)return m.suspense.next();const v=p(m.anchor||m.el),_=v&&v[Ju];return _?p(_):v};let H=!1;const z=(m,v,_)=>{m==null?v._vnode&&He(v._vnode,null,null,!0):y(v._vnode||null,m,v,null,null,null,_),v._vnode=m,H||(H=!0,po(),cl(),H=!1)},K={p:y,um:He,m:yt,r:bs,mt:be,mc:Q,pc:le,pbc:ue,n:T,o:t};return{render:z,hydrate:void 0,createApp:bd(z)}}function In({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function rs({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Cd(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Ol(t,e,s=!1){const r=t.children,n=e.children;if(X(r)&&X(n))for(let i=0;i<r.length;i++){const o=r[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=Ht(n[i]),a.el=o.el),!s&&a.patchFlag!==-2&&Ol(o,a)),a.type===wn&&a.patchFlag!==-1&&(a.el=o.el),a.type===Qt&&!a.el&&(a.el=o.el)}}function jd(t){const e=t.slice(),s=[0];let r,n,i,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(n=s[s.length-1],t[n]<u){e[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<u?i=a+1:o=a;u<t[s[i]]&&(i>0&&(e[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function Tl(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Tl(e)}function xo(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Pd=Symbol.for("v-scx"),Rd=()=>lt(Pd);function Nt(t,e,s){return Al(t,e,s)}function Al(t,e,s=ve){const{immediate:r,deep:n,flush:i,once:o}=s,a=Ue({},s),l=e&&r||!e&&i!=="post";let u;if(pr){if(i==="sync"){const f=Rd();u=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=St,f.resume=St,f.pause=St,f}}const d=Me;a.call=(f,g,y)=>Tt(f,d,g,y);let h=!1;i==="post"?a.scheduler=f=>{Xe(f,d&&d.suspense)}:i!=="sync"&&(h=!0,a.scheduler=(f,g)=>{g?f():Bi(f)}),a.augmentJob=f=>{e&&(f.flags|=4),h&&(f.flags|=2,d&&(f.id=d.uid,f.i=d))};const p=Hu(t,e,a);return pr&&(u?u.push(p):l&&p()),p}function $d(t,e,s){const r=this.proxy,n=Ce(t)?t.includes(".")?Cl(r,t):()=>r[t]:t.bind(r,r);let i;se(e)?i=e:(i=e.handler,s=e);const o=_r(this),a=Al(n,i.bind(r),s);return o(),a}function Cl(t,e){const s=e.split(".");return()=>{let r=t;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}const Id=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${ct(e)}Modifiers`]||t[`${Xt(e)}Modifiers`];function Nd(t,e,...s){if(t.isUnmounted)return;const r=t.vnode.props||ve;let n=s;const i=e.startsWith("update:"),o=i&&Id(r,e.slice(7));o&&(o.trim&&(n=s.map(d=>Ce(d)?d.trim():d)),o.number&&(n=s.map(qr)));let a,l=r[a=An(e)]||r[a=An(ct(e))];!l&&i&&(l=r[a=An(Xt(e))]),l&&Tt(l,t,6,n);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Tt(u,t,6,n)}}const Ld=new WeakMap;function jl(t,e,s=!1){const r=s?Ld:e.emitsCache,n=r.get(t);if(n!==void 0)return n;const i=t.emits;let o={},a=!1;if(!se(t)){const l=u=>{const d=jl(u,e,!0);d&&(a=!0,Ue(o,d))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(ye(t)&&r.set(t,null),null):(X(i)?i.forEach(l=>o[l]=null):Ue(o,i),ye(t)&&r.set(t,o),o)}function bn(t,e){return!t||!cn(e)?!1:(e=e.slice(2).replace(/Once$/,""),he(t,e[0].toLowerCase()+e.slice(1))||he(t,Xt(e))||he(t,e))}function ko(t){const{type:e,vnode:s,proxy:r,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:d,props:h,data:p,setupState:f,ctx:g,inheritAttrs:y}=t,b=Gr(t);let S,x;try{if(s.shapeFlag&4){const j=n||r,D=j;S=Et(u.call(D,j,d,h,f,p,g)),x=a}else{const j=e;S=Et(j.length>1?j(h,{attrs:a,slots:o,emit:l}):j(h,null)),x=e.props?a:Dd(a)}}catch(j){nr.length=0,mn(j,t,1),S=pe(Qt)}let w=S;if(x&&y!==!1){const j=Object.keys(x),{shapeFlag:D}=w;j.length&&D&7&&(i&&j.some(Ai)&&(x=Md(x,i)),w=Ds(w,x,!1,!0))}return s.dirs&&(w=Ds(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(s.dirs):s.dirs),s.transition&&zi(w,s.transition),S=w,Gr(b),S}const Dd=t=>{let e;for(const s in t)(s==="class"||s==="style"||cn(s))&&((e||(e={}))[s]=t[s]);return e},Md=(t,e)=>{const s={};for(const r in t)(!Ai(r)||!(r.slice(9)in e))&&(s[r]=t[r]);return s};function Ud(t,e,s){const{props:r,children:n,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?Eo(r,o,u):!!o;if(l&8){const d=e.dynamicProps;for(let h=0;h<d.length;h++){const p=d[h];if(o[p]!==r[p]&&!bn(u,p))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Eo(r,o,u):!0:!!o;return!1}function Eo(t,e,s){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(e[i]!==t[i]&&!bn(s,i))return!0}return!1}function Bd({vnode:t,parent:e},s){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=s,e=e.parent;else break}}const Pl=t=>t.__isSuspense;function zd(t,e){e&&e.pendingBranch?X(t)?e.effects.push(...t):e.effects.push(t):Gu(t)}const Ee=Symbol.for("v-fgt"),wn=Symbol.for("v-txt"),Qt=Symbol.for("v-cmt"),Br=Symbol.for("v-stc"),nr=[];let nt=null;function C(t=!1){nr.push(nt=t?null:[])}function Vd(){nr.pop(),nt=nr[nr.length-1]||null}let fr=1;function Qr(t,e=!1){fr+=t,t<0&&nt&&e&&(nt.hasOnce=!0)}function Rl(t){return t.dynamicChildren=fr>0?nt||Rs:null,Vd(),fr>0&&nt&&nt.push(t),t}function P(t,e,s,r,n,i){return Rl(c(t,e,s,r,n,i,!0))}function $l(t,e,s,r,n){return Rl(pe(t,e,s,r,n,!0))}function Xr(t){return t?t.__v_isVNode===!0:!1}function Gs(t,e){return t.type===e.type&&t.key===e.key}const Il=({key:t})=>t??null,zr=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?Ce(t)||Te(t)||se(t)?{i:rt,r:t,k:e,f:!!s}:t:null);function c(t,e=null,s=null,r=0,n=null,i=t===Ee?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Il(e),ref:e&&zr(e),scopeId:dl,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:rt};return a?(Hi(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=Ce(s)?8:16),fr>0&&!o&&nt&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&nt.push(l),l}const pe=qd;function qd(t,e=null,s=null,r=0,n=null,i=!1){if((!t||t===ud)&&(t=Qt),Xr(t)){const a=Ds(t,e,!0);return s&&Hi(a,s),fr>0&&!i&&nt&&(a.shapeFlag&6?nt[nt.indexOf(t)]=a:nt.push(a)),a.patchFlag=-2,a}if(eh(t)&&(t=t.__vccOpts),e){e=Fd(e);let{class:a,style:l}=e;a&&!Ce(a)&&(e.class=$e(a)),ye(l)&&(Mi(l)&&!X(l)&&(l=Ue({},l)),e.style=Pi(l))}const o=Ce(t)?1:Pl(t)?128:Yu(t)?64:ye(t)?4:se(t)?2:0;return c(t,e,s,r,n,o,i,!0)}function Fd(t){return t?Mi(t)||wl(t)?Ue({},t):t:null}function Ds(t,e,s=!1,r=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?Hd(n||{},e):n,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Il(u),ref:e&&e.ref?s&&i?X(i)?i.concat(zr(e)):[i,zr(e)]:zr(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ee?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ds(t.ssContent),ssFallback:t.ssFallback&&Ds(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&zi(d,l.clone(d)),d}function re(t=" ",e=0){return pe(wn,null,t,e)}function gs(t,e){const s=pe(Br,null,t);return s.staticCount=e,s}function ne(t="",e=!1){return e?(C(),$l(Qt,null,t)):pe(Qt,null,t)}function Et(t){return t==null||typeof t=="boolean"?pe(Qt):X(t)?pe(Ee,null,t.slice()):Xr(t)?Ht(t):pe(wn,null,String(t))}function Ht(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ds(t)}function Hi(t,e){let s=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(X(e))s=16;else if(typeof e=="object")if(r&65){const n=e.default;n&&(n._c&&(n._d=!1),Hi(t,n()),n._c&&(n._d=!0));return}else{s=32;const n=e._;!n&&!wl(e)?e._ctx=rt:n===3&&rt&&(rt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else se(e)?(e={default:e,_ctx:rt},s=32):(e=String(e),r&64?(s=16,e=[re(e)]):s=8);t.children=e,t.shapeFlag|=s}function Hd(...t){const e={};for(let s=0;s<t.length;s++){const r=t[s];for(const n in r)if(n==="class")e.class!==r.class&&(e.class=$e([e.class,r.class]));else if(n==="style")e.style=Pi([e.style,r.style]);else if(cn(n)){const i=e[n],o=r[n];o&&i!==o&&!(X(i)&&i.includes(o))&&(e[n]=i?[].concat(i,o):o)}else n!==""&&(e[n]=r[n])}return e}function xt(t,e,s,r=null){Tt(t,e,7,[s,r])}const Wd=vl();let Kd=0;function Gd(t,e,s){const r=t.type,n=(e?e.appContext:t.appContext)||Wd,i={uid:Kd++,vnode:t,type:r,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new za(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:xl(r,n),emitsOptions:jl(r,n),emit:null,emitted:null,propsDefaults:ve,inheritAttrs:r.inheritAttrs,ctx:ve,data:ve,props:ve,attrs:ve,slots:ve,refs:ve,setupState:ve,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Nd.bind(null,i),t.ce&&t.ce(i),i}let Me=null;const Nl=()=>Me||rt;let Zr,oi;{const t=fn(),e=(s,r)=>{let n;return(n=t[s])||(n=t[s]=[]),n.push(r),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};Zr=e("__VUE_INSTANCE_SETTERS__",s=>Me=s),oi=e("__VUE_SSR_SETTERS__",s=>pr=s)}const _r=t=>{const e=Me;return Zr(t),t.scope.on(),()=>{t.scope.off(),Zr(e)}},So=()=>{Me&&Me.scope.off(),Zr(null)};function Ll(t){return t.vnode.shapeFlag&4}let pr=!1;function Jd(t,e=!1,s=!1){e&&oi(e);const{props:r,children:n}=t.vnode,i=Ll(t);_d(t,r,i,e),Sd(t,n,s||e);const o=i?Yd(t,e):void 0;return e&&oi(!1),o}function Yd(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,hd);const{setup:r}=s;if(r){Lt();const n=t.setupContext=r.length>1?Xd(t):null,i=_r(t),o=wr(r,t,0,[t.props,n]),a=Ia(o);if(Dt(),i(),(a||t.sp)&&!sr(t)&&hl(t),a){if(o.then(So,So),e)return o.then(l=>{Oo(t,l)}).catch(l=>{mn(l,t,0)});t.asyncDep=o}else Oo(t,o)}else Dl(t)}function Oo(t,e,s){se(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ye(e)&&(t.setupState=ol(e)),Dl(t)}function Dl(t,e,s){const r=t.type;t.render||(t.render=r.render||St);{const n=_r(t);Lt();try{fd(t)}finally{Dt(),n()}}}const Qd={get(t,e){return De(t,"get",""),t[e]}};function Xd(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,Qd),slots:t.slots,emit:t.emit,expose:e}}function _n(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(ol(Ui(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in rr)return rr[s](t)},has(e,s){return s in e||s in rr}})):t.proxy}function Zd(t,e=!0){return se(t)?t.displayName||t.name:t.name||e&&t.__name}function eh(t){return se(t)&&"__vccOpts"in t}const Ne=(t,e)=>qu(t,e,pr);function Ml(t,e,s){try{Qr(-1);const r=arguments.length;return r===2?ye(e)&&!X(e)?Xr(e)?pe(t,null,[e]):pe(t,e):pe(t,null,e):(r>3?s=Array.prototype.slice.call(arguments,2):r===3&&Xr(s)&&(s=[s]),pe(t,e,s))}finally{Qr(1)}}const th="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ai;const To=typeof window<"u"&&window.trustedTypes;if(To)try{ai=To.createPolicy("vue",{createHTML:t=>t})}catch{}const Ul=ai?t=>ai.createHTML(t):t=>t,sh="http://www.w3.org/2000/svg",rh="http://www.w3.org/1998/Math/MathML",Pt=typeof document<"u"?document:null,Ao=Pt&&Pt.createElement("template"),nh={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,r)=>{const n=e==="svg"?Pt.createElementNS(sh,t):e==="mathml"?Pt.createElementNS(rh,t):s?Pt.createElement(t,{is:s}):Pt.createElement(t);return t==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:t=>Pt.createTextNode(t),createComment:t=>Pt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Pt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,r,n,i){const o=s?s.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{Ao.innerHTML=Ul(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Ao.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},ih=Symbol("_vtc");function oh(t,e,s){const r=t[ih];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const Co=Symbol("_vod"),ah=Symbol("_vsh"),lh=Symbol(""),ch=/(?:^|;)\s*display\s*:/;function uh(t,e,s){const r=t.style,n=Ce(s);let i=!1;if(s&&!n){if(e)if(Ce(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&Vr(r,a,"")}else for(const o in e)s[o]==null&&Vr(r,o,"");for(const o in s)o==="display"&&(i=!0),Vr(r,o,s[o])}else if(n){if(e!==s){const o=r[lh];o&&(s+=";"+o),r.cssText=s,i=ch.test(s)}}else e&&t.removeAttribute("style");Co in t&&(t[Co]=i?r.display:"",t[ah]&&(r.display="none"))}const jo=/\s*!important$/;function Vr(t,e,s){if(X(s))s.forEach(r=>Vr(t,e,r));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const r=dh(t,e);jo.test(s)?t.setProperty(Xt(r),s.replace(jo,""),"important"):t[r]=s}}const Po=["Webkit","Moz","ms"],Nn={};function dh(t,e){const s=Nn[e];if(s)return s;let r=ct(e);if(r!=="filter"&&r in t)return Nn[e]=r;r=hn(r);for(let n=0;n<Po.length;n++){const i=Po[n]+r;if(i in t)return Nn[e]=i}return e}const Ro="http://www.w3.org/1999/xlink";function $o(t,e,s,r,n,i=fu(e)){r&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(Ro,e.slice(6,e.length)):t.setAttributeNS(Ro,e,s):s==null||i&&!Ma(s)?t.removeAttribute(e):t.setAttribute(e,i?"":Ot(s)?String(s):s)}function Io(t,e,s,r,n){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?Ul(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=Ma(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(n||e)}function ls(t,e,s,r){t.addEventListener(e,s,r)}function hh(t,e,s,r){t.removeEventListener(e,s,r)}const No=Symbol("_vei");function fh(t,e,s,r,n=null){const i=t[No]||(t[No]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=ph(e);if(r){const u=i[e]=vh(r,n);ls(t,a,u,l)}else o&&(hh(t,a,o,l),i[e]=void 0)}}const Lo=/(?:Once|Passive|Capture)$/;function ph(t){let e;if(Lo.test(t)){e={};let r;for(;r=t.match(Lo);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Xt(t.slice(2)),e]}let Ln=0;const gh=Promise.resolve(),mh=()=>Ln||(gh.then(()=>Ln=0),Ln=Date.now());function vh(t,e){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;Tt(yh(r,s.value),e,5,[r])};return s.value=t,s.attached=mh(),s}function yh(t,e){if(X(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(r=>n=>!n._stopped&&r&&r(n))}else return e}const Do=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,bh=(t,e,s,r,n,i)=>{const o=n==="svg";e==="class"?oh(t,r,o):e==="style"?uh(t,s,r):cn(e)?Ai(e)||fh(t,e,s,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):wh(t,e,r,o))?(Io(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&$o(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Ce(r))?Io(t,ct(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),$o(t,e,r,o))};function wh(t,e,s,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Do(e)&&se(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Do(e)&&Ce(s)?!1:e in t}const en=t=>{const e=t.props["onUpdate:modelValue"]||!1;return X(e)?s=>Mr(e,s):e};function _h(t){t.target.composing=!0}function Mo(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Ns=Symbol("_assign"),Re={created(t,{modifiers:{lazy:e,trim:s,number:r}},n){t[Ns]=en(n);const i=r||n.props&&n.props.type==="number";ls(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;s&&(a=a.trim()),i&&(a=qr(a)),t[Ns](a)}),s&&ls(t,"change",()=>{t.value=t.value.trim()}),e||(ls(t,"compositionstart",_h),ls(t,"compositionend",Mo),ls(t,"change",Mo))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:r,trim:n,number:i}},o){if(t[Ns]=en(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?qr(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===s||n&&t.value.trim()===l)||(t.value=l))}},Wi={deep:!0,created(t,{value:e,modifiers:{number:s}},r){const n=un(e);ls(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>s?qr(tn(o)):tn(o));t[Ns](t.multiple?n?new Set(i):i:i[0]),t._assigning=!0,vn(()=>{t._assigning=!1})}),t[Ns]=en(r)},mounted(t,{value:e}){Uo(t,e)},beforeUpdate(t,e,s){t[Ns]=en(s)},updated(t,{value:e}){t._assigning||Uo(t,e)}};function Uo(t,e){const s=t.multiple,r=X(e);if(!(s&&!r&&!un(e))){for(let n=0,i=t.options.length;n<i;n++){const o=t.options[n],a=tn(o);if(s)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(u=>String(u)===String(a)):o.selected=gu(e,a)>-1}else o.selected=e.has(a);else if(pn(tn(o),e)){t.selectedIndex!==n&&(t.selectedIndex=n);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function tn(t){return"_value"in t?t._value:t.value}const xh=["ctrl","shift","alt","meta"],kh={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>xh.some(s=>t[`${s}Key`]&&!e.includes(s))},Zt=(t,e)=>{const s=t._withMods||(t._withMods={}),r=e.join(".");return s[r]||(s[r]=(n,...i)=>{for(let o=0;o<e.length;o++){const a=kh[e[o]];if(a&&a(n,e))return}return t(n,...i)})},Eh={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Bl=(t,e)=>{const s=t._withKeys||(t._withKeys={}),r=e.join(".");return s[r]||(s[r]=n=>{if(!("key"in n))return;const i=Xt(n.key);if(e.some(o=>o===i||Eh[o]===i))return t(n)})},Sh=Ue({patchProp:bh},nh);let Bo;function Oh(){return Bo||(Bo=Td(Sh))}const Th=(...t)=>{const e=Oh().createApp(...t),{mount:s}=e;return e.mount=r=>{const n=Ch(r);if(!n)return;const i=e._component;!se(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,Ah(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function Ah(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Ch(t){return Ce(t)?document.querySelector(t):t}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let zl;const xn=t=>zl=t,Vl=Symbol();function li(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var ir;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(ir||(ir={}));function jh(){const t=Va(!0),e=t.run(()=>U({}));let s=[],r=[];const n=Ui({install(i){xn(n),n._a=i,i.provide(Vl,n),i.config.globalProperties.$pinia=n,r.forEach(o=>s.push(o)),r=[]},use(i){return this._a?s.push(i):r.push(i),this},_p:s,_a:null,_e:t,_s:new Map,state:e});return n}const ql=()=>{};function zo(t,e,s,r=ql){t.push(e);const n=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),r())};return!s&&qa()&&mu(n),n}function xs(t,...e){t.slice().forEach(s=>{s(...e)})}const Ph=t=>t(),Vo=Symbol(),Dn=Symbol();function ci(t,e){t instanceof Map&&e instanceof Map?e.forEach((s,r)=>t.set(r,s)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const s in e){if(!e.hasOwnProperty(s))continue;const r=e[s],n=t[s];li(n)&&li(r)&&t.hasOwnProperty(s)&&!Te(r)&&!Jt(r)?t[s]=ci(n,r):t[s]=r}return t}const Rh=Symbol();function $h(t){return!li(t)||!t.hasOwnProperty(Rh)}const{assign:Vt}=Object;function Ih(t){return!!(Te(t)&&t.effect)}function Nh(t,e,s,r){const{state:n,actions:i,getters:o}=e,a=s.state.value[t];let l;function u(){a||(s.state.value[t]=n?n():{});const d=Uu(s.state.value[t]);return Vt(d,i,Object.keys(o||{}).reduce((h,p)=>(h[p]=Ui(Ne(()=>{xn(s);const f=s._s.get(t);return o[p].call(f,f)})),h),{}))}return l=Fl(t,u,e,s,r,!0),l}function Fl(t,e,s={},r,n,i){let o;const a=Vt({actions:{}},s),l={deep:!0};let u,d,h=[],p=[],f;const g=r.state.value[t];!i&&!g&&(r.state.value[t]={}),U({});let y;function b(Q){let R;u=d=!1,typeof Q=="function"?(Q(r.state.value[t]),R={type:ir.patchFunction,storeId:t,events:f}):(ci(r.state.value[t],Q),R={type:ir.patchObject,payload:Q,storeId:t,events:f});const ue=y=Symbol();vn().then(()=>{y===ue&&(u=!0)}),d=!0,xs(h,R,r.state.value[t])}const S=i?function(){const{state:R}=s,ue=R?R():{};this.$patch(B=>{Vt(B,ue)})}:ql;function x(){o.stop(),h=[],p=[],r._s.delete(t)}const w=(Q,R="")=>{if(Vo in Q)return Q[Dn]=R,Q;const ue=function(){xn(r);const B=Array.from(arguments),V=[],me=[];function be(ee){V.push(ee)}function Ye(ee){me.push(ee)}xs(p,{args:B,name:ue[Dn],store:D,after:be,onError:Ye});let ge;try{ge=Q.apply(this&&this.$id===t?this:D,B)}catch(ee){throw xs(me,ee),ee}return ge instanceof Promise?ge.then(ee=>(xs(V,ee),ee)).catch(ee=>(xs(me,ee),Promise.reject(ee))):(xs(V,ge),ge)};return ue[Vo]=!0,ue[Dn]=R,ue},j={_p:r,$id:t,$onAction:zo.bind(null,p),$patch:b,$reset:S,$subscribe(Q,R={}){const ue=zo(h,Q,R.detached,()=>B()),B=o.run(()=>Nt(()=>r.state.value[t],V=>{(R.flush==="sync"?d:u)&&Q({storeId:t,type:ir.direct,events:f},V)},Vt({},l,R)));return ue},$dispose:x},D=Je(j);r._s.set(t,D);const k=(r._a&&r._a.runWithContext||Ph)(()=>r._e.run(()=>(o=Va()).run(()=>e({action:w}))));for(const Q in k){const R=k[Q];if(Te(R)&&!Ih(R)||Jt(R))i||(g&&$h(R)&&(Te(R)?R.value=g[Q]:ci(R,g[Q])),r.state.value[t][Q]=R);else if(typeof R=="function"){const ue=w(R,Q);k[Q]=ue,a.actions[Q]=R}}return Vt(D,k),Vt(ce(D),k),Object.defineProperty(D,"$state",{get:()=>r.state.value[t],set:Q=>{b(R=>{Vt(R,Q)})}}),r._p.forEach(Q=>{Vt(D,o.run(()=>Q({store:D,app:r._a,pinia:r,options:a})))}),g&&i&&s.hydrate&&s.hydrate(D.$state,g),u=!0,d=!0,D}/*! #__NO_SIDE_EFFECTS__ */function Ki(t,e,s){let r,n;const i=typeof e=="function";typeof t=="string"?(r=t,n=i?s:e):(n=t,r=t.id);function o(a,l){const u=wd();return a=a||(u?lt(Vl,null):null),a&&xn(a),a=zl,a._s.has(r)||(i?Fl(r,e,n,a):Nh(r,n,a)),a._s.get(r)}return o.$id=r,o}var ui=function(t,e){return ui=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,r){s.__proto__=r}||function(s,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n])},ui(t,e)};function Hl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ui(t,e);function s(){this.constructor=t}t.prototype=e===null?Object.create(e):(s.prototype=e.prototype,new s)}var sn=function(){return sn=Object.assign||function(e){for(var s,r=1,n=arguments.length;r<n;r++){s=arguments[r];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},sn.apply(this,arguments)};function Vs(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s}function Wl(t,e,s,r){var n=arguments.length,i=n<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,s):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,s,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(n<3?o(i):n>3?o(e,s,i):o(e,s))||i);return n>3&&i&&Object.defineProperty(e,s,i),i}function Kl(t,e){return function(s,r){e(s,r,t)}}function Gl(t,e,s,r,n,i){function o(S){if(S!==void 0&&typeof S!="function")throw new TypeError("Function expected");return S}for(var a=r.kind,l=a==="getter"?"get":a==="setter"?"set":"value",u=!e&&t?r.static?t:t.prototype:null,d=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h,p=!1,f=s.length-1;f>=0;f--){var g={};for(var y in r)g[y]=y==="access"?{}:r[y];for(var y in r.access)g.access[y]=r.access[y];g.addInitializer=function(S){if(p)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(S||null))};var b=(0,s[f])(a==="accessor"?{get:d.get,set:d.set}:d[l],g);if(a==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(h=o(b.get))&&(d.get=h),(h=o(b.set))&&(d.set=h),(h=o(b.init))&&n.unshift(h)}else(h=o(b))&&(a==="field"?n.unshift(h):d[l]=h)}u&&Object.defineProperty(u,r.name,d),p=!0}function Jl(t,e,s){for(var r=arguments.length>2,n=0;n<e.length;n++)s=r?e[n].call(t,s):e[n].call(t);return r?s:void 0}function Yl(t){return typeof t=="symbol"?t:"".concat(t)}function Ql(t,e,s){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:s?"".concat(s," ",e):e})}function Xl(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function W(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):n(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function Zl(t,e){var s={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,n,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(d){return l([u,d])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(s=0)),s;)try{if(r=1,n&&(i=u[0]&2?n.return:u[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,u[1])).done)return i;switch(n=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,n=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){s=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){s.label=u[1];break}if(u[0]===6&&s.label<i[1]){s.label=i[1],i=u;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(u);break}i[2]&&s.ops.pop(),s.trys.pop();continue}u=e.call(t,s)}catch(d){u=[6,d],n=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var kn=Object.create?function(t,e,s,r){r===void 0&&(r=s);var n=Object.getOwnPropertyDescriptor(e,s);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[s]}}),Object.defineProperty(t,r,n)}:function(t,e,s,r){r===void 0&&(r=s),t[r]=e[s]};function ec(t,e){for(var s in t)s!=="default"&&!Object.prototype.hasOwnProperty.call(e,s)&&kn(e,t,s)}function rn(t){var e=typeof Symbol=="function"&&Symbol.iterator,s=e&&t[e],r=0;if(s)return s.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Gi(t,e){var s=typeof Symbol=="function"&&t[Symbol.iterator];if(!s)return t;var r=s.call(t),n,i=[],o;try{for(;(e===void 0||e-- >0)&&!(n=r.next()).done;)i.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(s=r.return)&&s.call(r)}finally{if(o)throw o.error}}return i}function tc(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Gi(arguments[e]));return t}function sc(){for(var t=0,e=0,s=arguments.length;e<s;e++)t+=arguments[e].length;for(var r=Array(t),n=0,e=0;e<s;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,n++)r[n]=i[o];return r}function rc(t,e,s){if(s||arguments.length===2)for(var r=0,n=e.length,i;r<n;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function Ms(t){return this instanceof Ms?(this.v=t,this):new Ms(t)}function nc(t,e,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=s.apply(t,e||[]),n,i=[];return n=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),n[Symbol.asyncIterator]=function(){return this},n;function o(f){return function(g){return Promise.resolve(g).then(f,h)}}function a(f,g){r[f]&&(n[f]=function(y){return new Promise(function(b,S){i.push([f,y,b,S])>1||l(f,y)})},g&&(n[f]=g(n[f])))}function l(f,g){try{u(r[f](g))}catch(y){p(i[0][3],y)}}function u(f){f.value instanceof Ms?Promise.resolve(f.value.v).then(d,h):p(i[0][2],f)}function d(f){l("next",f)}function h(f){l("throw",f)}function p(f,g){f(g),i.shift(),i.length&&l(i[0][0],i[0][1])}}function ic(t){var e,s;return e={},r("next"),r("throw",function(n){throw n}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(n,i){e[n]=t[n]?function(o){return(s=!s)?{value:Ms(t[n](o)),done:!1}:i?i(o):o}:i}}function oc(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],s;return e?e.call(t):(t=typeof rn=="function"?rn(t):t[Symbol.iterator](),s={},r("next"),r("throw"),r("return"),s[Symbol.asyncIterator]=function(){return this},s);function r(i){s[i]=t[i]&&function(o){return new Promise(function(a,l){o=t[i](o),n(a,l,o.done,o.value)})}}function n(i,o,a,l){Promise.resolve(l).then(function(u){i({value:u,done:a})},o)}}function ac(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var Lh=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},di=function(t){return di=Object.getOwnPropertyNames||function(e){var s=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(s[s.length]=r);return s},di(t)};function lc(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var s=di(t),r=0;r<s.length;r++)s[r]!=="default"&&kn(e,t,s[r]);return Lh(e,t),e}function cc(t){return t&&t.__esModule?t:{default:t}}function uc(t,e,s,r){if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?r:s==="a"?r.call(t):r?r.value:e.get(t)}function dc(t,e,s,r,n){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?n.call(t,s):n?n.value=s:e.set(t,s),s}function hc(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function fc(t,e,s){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,n;if(s){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],s&&(n=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");n&&(r=function(){try{n.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:r,async:s})}else s&&t.stack.push({async:!0});return e}var Dh=typeof SuppressedError=="function"?SuppressedError:function(t,e,s){var r=new Error(s);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function pc(t){function e(i){t.error=t.hasError?new Dh(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var s,r=0;function n(){for(;s=t.stack.pop();)try{if(!s.async&&r===1)return r=0,t.stack.push(s),Promise.resolve().then(n);if(s.dispose){var i=s.dispose.call(s.value);if(s.async)return r|=2,Promise.resolve(i).then(n,function(o){return e(o),n()})}else r|=1}catch(o){e(o)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return n()}function gc(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(s,r,n,i,o){return r?e?".jsx":".js":n&&(!i||!o)?s:n+i+"."+o.toLowerCase()+"js"}):t}const Mh={__extends:Hl,__assign:sn,__rest:Vs,__decorate:Wl,__param:Kl,__esDecorate:Gl,__runInitializers:Jl,__propKey:Yl,__setFunctionName:Ql,__metadata:Xl,__awaiter:W,__generator:Zl,__createBinding:kn,__exportStar:ec,__values:rn,__read:Gi,__spread:tc,__spreadArrays:sc,__spreadArray:rc,__await:Ms,__asyncGenerator:nc,__asyncDelegator:ic,__asyncValues:oc,__makeTemplateObject:ac,__importStar:lc,__importDefault:cc,__classPrivateFieldGet:uc,__classPrivateFieldSet:dc,__classPrivateFieldIn:hc,__addDisposableResource:fc,__disposeResources:pc,__rewriteRelativeImportExtension:gc},Uh=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:fc,get __assign(){return sn},__asyncDelegator:ic,__asyncGenerator:nc,__asyncValues:oc,__await:Ms,__awaiter:W,__classPrivateFieldGet:uc,__classPrivateFieldIn:hc,__classPrivateFieldSet:dc,__createBinding:kn,__decorate:Wl,__disposeResources:pc,__esDecorate:Gl,__exportStar:ec,__extends:Hl,__generator:Zl,__importDefault:cc,__importStar:lc,__makeTemplateObject:ac,__metadata:Xl,__param:Kl,__propKey:Yl,__read:Gi,__rest:Vs,__rewriteRelativeImportExtension:gc,__runInitializers:Jl,__setFunctionName:Ql,__spread:tc,__spreadArray:rc,__spreadArrays:sc,__values:rn,default:Mh},Symbol.toStringTag,{value:"Module"})),Bh="modulepreload",zh=function(t){return"/"+t},qo={},ms=function(e,s,r){let n=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");n=Promise.allSettled(s.map(l=>{if(l=zh(l),l in qo)return;qo[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Bh,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((p,f)=>{h.addEventListener("load",p),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Vh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>ms(async()=>{const{default:r}=await Promise.resolve().then(()=>vs);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)};class Ji extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class Fo extends Ji{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ho extends Ji{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Wo extends Ji{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var hi;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(hi||(hi={}));class qh{constructor(e,{headers:s={},customFetch:r,region:n=hi.Any}={}){this.url=e,this.headers=s,this.region=n,this.fetch=Vh(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return W(this,arguments,void 0,function*(s,r={}){var n;try{const{headers:i,method:o,body:a,signal:l}=r;let u={},{region:d}=r;d||(d=this.region);const h=new URL(`${this.url}/${s}`);d&&d!=="any"&&(u["x-region"]=d,h.searchParams.set("forceFunctionRegion",d));let p;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",p=a):typeof a=="string"?(u["Content-Type"]="text/plain",p=a):typeof FormData<"u"&&a instanceof FormData?p=a:(u["Content-Type"]="application/json",p=JSON.stringify(a)):p=a;const f=yield this.fetch(h.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:p,signal:l}).catch(S=>{throw S.name==="AbortError"?S:new Fo(S)}),g=f.headers.get("x-relay-error");if(g&&g==="true")throw new Ho(f);if(!f.ok)throw new Wo(f);let y=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),b;return y==="application/json"?b=yield f.json():y==="application/octet-stream"||y==="application/pdf"?b=yield f.blob():y==="text/event-stream"?b=f:y==="multipart/form-data"?b=yield f.formData():b=yield f.text(),{data:b,error:null,response:f}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new Fo(i)}:{data:null,error:i,response:i instanceof Wo||i instanceof Ho?i.context:void 0}}})}}function mc(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var s=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),s}var Ge={};const qs=mc(Uh);var Ar={},Cr={},jr={},Pr={},Rr={},Fh=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Us=Fh();const Hh=Us.fetch,vc=Us.fetch.bind(Us),yc=Us.Headers,Wh=Us.Request,Kh=Us.Response,vs=Object.freeze(Object.defineProperty({__proto__:null,Headers:yc,Request:Wh,Response:Kh,default:vc,fetch:Hh},Symbol.toStringTag,{value:"Module"})),Gh=mc(vs);var $r={},Ko;function bc(){if(Ko)return $r;Ko=1,Object.defineProperty($r,"__esModule",{value:!0});class t extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return $r.default=t,$r}var Go;function wc(){if(Go)return Rr;Go=1,Object.defineProperty(Rr,"__esModule",{value:!0});const t=qs,e=t.__importDefault(Gh),s=t.__importDefault(bc());class r{constructor(i){var o,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,h,p,f;let g=null,y=null,b=null,S=u.status,x=u.statusText;if(u.ok){if(this.method!=="HEAD"){const F=await u.text();F===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?y=F:y=JSON.parse(F))}const j=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),D=(p=u.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");j&&D&&D.length>1&&(b=parseInt(D[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(g={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,b=null,S=406,x="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const j=await u.text();try{g=JSON.parse(j),Array.isArray(g)&&u.status===404&&(y=[],g=null,S=200,x="OK")}catch{u.status===404&&j===""?(S=204,x="No Content"):g={message:j}}if(g&&this.isMaybeSingle&&(!((f=g?.details)===null||f===void 0)&&f.includes("0 rows"))&&(g=null,S=200,x="OK"),g&&this.shouldThrowOnError)throw new s.default(g)}return{error:g,data:y,count:b,status:S,statusText:x}});return this.shouldThrowOnError||(l=l.catch(u=>{var d,h,p;return{error:{message:`${(d=u?.name)!==null&&d!==void 0?d:"FetchError"}: ${u?.message}`,details:`${(h=u?.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(p=u?.code)!==null&&p!==void 0?p:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}returns(){return this}overrideTypes(){return this}}return Rr.default=r,Rr}var Jo;function _c(){if(Jo)return Pr;Jo=1,Object.defineProperty(Pr,"__esModule",{value:!0});const e=qs.__importDefault(wc());class s extends e.default{select(n){let i=!1;const o=(n??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${n}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${n}`),this}range(n,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(u,`${i-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var d;const h=[n?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),p=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${p}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}}return Pr.default=s,Pr}var Yo;function Yi(){if(Yo)return jr;Yo=1,Object.defineProperty(jr,"__esModule",{value:!0});const e=qs.__importDefault(_c());class s extends e.default{eq(n,i){return this.url.searchParams.append(n,`eq.${i}`),this}neq(n,i){return this.url.searchParams.append(n,`neq.${i}`),this}gt(n,i){return this.url.searchParams.append(n,`gt.${i}`),this}gte(n,i){return this.url.searchParams.append(n,`gte.${i}`),this}lt(n,i){return this.url.searchParams.append(n,`lt.${i}`),this}lte(n,i){return this.url.searchParams.append(n,`lte.${i}`),this}like(n,i){return this.url.searchParams.append(n,`like.${i}`),this}likeAllOf(n,i){return this.url.searchParams.append(n,`like(all).{${i.join(",")}}`),this}likeAnyOf(n,i){return this.url.searchParams.append(n,`like(any).{${i.join(",")}}`),this}ilike(n,i){return this.url.searchParams.append(n,`ilike.${i}`),this}ilikeAllOf(n,i){return this.url.searchParams.append(n,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(n,i){return this.url.searchParams.append(n,`ilike(any).{${i.join(",")}}`),this}is(n,i){return this.url.searchParams.append(n,`is.${i}`),this}in(n,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(n,`in.(${o})`),this}contains(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cs.{${i.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(i)}`),this}containedBy(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cd.{${i.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(i)}`),this}rangeGt(n,i){return this.url.searchParams.append(n,`sr.${i}`),this}rangeGte(n,i){return this.url.searchParams.append(n,`nxl.${i}`),this}rangeLt(n,i){return this.url.searchParams.append(n,`sl.${i}`),this}rangeLte(n,i){return this.url.searchParams.append(n,`nxr.${i}`),this}rangeAdjacent(n,i){return this.url.searchParams.append(n,`adj.${i}`),this}overlaps(n,i){return typeof i=="string"?this.url.searchParams.append(n,`ov.${i}`):this.url.searchParams.append(n,`ov.{${i.join(",")}}`),this}textSearch(n,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(n,`${l}fts${u}.${i}`),this}match(n){return Object.entries(n).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(n,i,o){return this.url.searchParams.append(n,`not.${i}.${o}`),this}or(n,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${n})`),this}filter(n,i,o){return this.url.searchParams.append(n,`${i}.${o}`),this}}return jr.default=s,jr}var Qo;function xc(){if(Qo)return Cr;Qo=1,Object.defineProperty(Cr,"__esModule",{value:!0});const e=qs.__importDefault(Yi());class s{constructor(n,{headers:i={},schema:o,fetch:a}){this.url=n,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(n,i){const{head:o=!1,count:a}=i??{},l=o?"HEAD":"GET";let u=!1;const d=(n??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(n,{count:i,defaultToNull:o=!0}={}){var a;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const u=n.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(n,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const h=n.reduce((p,f)=>p.concat(Object.keys(f)),[]);if(h.length>0){const p=[...new Set(h)].map(f=>`"${f}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(n,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:n}={}){var i;const o="DELETE";return n&&this.headers.append("Prefer",`count=${n}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Cr.default=s,Cr}var Xo;function Jh(){if(Xo)return Ar;Xo=1,Object.defineProperty(Ar,"__esModule",{value:!0});const t=qs,e=t.__importDefault(xc()),s=t.__importDefault(Yi());class r{constructor(i,{headers:o={},schema:a,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(i){const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new r(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:l=!1,count:u}={}){var d;let h;const p=new URL(`${this.url}/rpc/${i}`);let f;a||l?(h=a?"HEAD":"GET",Object.entries(o).filter(([y,b])=>b!==void 0).map(([y,b])=>[y,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([y,b])=>{p.searchParams.append(y,b)})):(h="POST",f=o);const g=new Headers(this.headers);return u&&g.set("Prefer",`count=${u}`),new s.default({method:h,url:p,headers:g,schema:this.schemaName,body:f,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Ar.default=r,Ar}Object.defineProperty(Ge,"__esModule",{value:!0});Ge.PostgrestError=Ge.PostgrestBuilder=Ge.PostgrestTransformBuilder=Ge.PostgrestFilterBuilder=Ge.PostgrestQueryBuilder=Ge.PostgrestClient=void 0;const Fs=qs,kc=Fs.__importDefault(Jh());Ge.PostgrestClient=kc.default;const Ec=Fs.__importDefault(xc());Ge.PostgrestQueryBuilder=Ec.default;const Sc=Fs.__importDefault(Yi());Ge.PostgrestFilterBuilder=Sc.default;const Oc=Fs.__importDefault(_c());Ge.PostgrestTransformBuilder=Oc.default;const Tc=Fs.__importDefault(wc());Ge.PostgrestBuilder=Tc.default;const Ac=Fs.__importDefault(bc());Ge.PostgrestError=Ac.default;var Yh=Ge.default={PostgrestClient:kc.default,PostgrestQueryBuilder:Ec.default,PostgrestFilterBuilder:Sc.default,PostgrestTransformBuilder:Oc.default,PostgrestBuilder:Tc.default,PostgrestError:Ac.default};const{PostgrestClient:Qh,PostgrestQueryBuilder:k_,PostgrestFilterBuilder:E_,PostgrestTransformBuilder:S_,PostgrestBuilder:O_,PostgrestError:T_}=Yh;class Xh{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const r=s.node,n=parseInt(r.replace(/^v/,"").split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let s=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(s+=`

Suggested solution: ${e.workaround}`),new Error(s)}static createWebSocket(e,s){const r=this.getWebSocketConstructor();return new r(e,s)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Zh="2.76.1",ef=`realtime-js/${Zh}`,tf="1.0.0",fi=1e4,sf=1e3,rf=100;var or;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(or||(or={}));var Pe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Pe||(Pe={}));var ht;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ht||(ht={}));var pi;(function(t){t.websocket="websocket"})(pi||(pi={}));var cs;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(cs||(cs={}));class nf{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,s,r)}_decodeBroadcast(e,s,r){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+n));o=o+n;const l=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Cc{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var _e;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(_e||(_e={}));const Zo=(t,e,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=of(o,t,e,n),i),{}):{}},of=(t,e,s,r)=>{const n=e.find(a=>a.name===t),i=n?.type,o=s[t];return i&&!r.includes(i)?jc(i,o):gi(o)},jc=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return uf(e,s)}switch(t){case _e.bool:return af(e);case _e.float4:case _e.float8:case _e.int2:case _e.int4:case _e.int8:case _e.numeric:case _e.oid:return lf(e);case _e.json:case _e.jsonb:return cf(e);case _e.timestamp:return df(e);case _e.abstime:case _e.date:case _e.daterange:case _e.int4range:case _e.int8range:case _e.money:case _e.reltime:case _e.text:case _e.time:case _e.timestamptz:case _e.timetz:case _e.tsrange:case _e.tstzrange:return gi(e);default:return gi(e)}},gi=t=>t,af=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},lf=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},cf=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},uf=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>jc(e,a))}return t},df=t=>typeof t=="string"?t.replace(" ","T"):t,Pc=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Mn{constructor(e,s,r={},n=fi){this.channel=e,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ea;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ea||(ea={}));class ar{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ar.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=ar.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=ar.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,n){const i=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const p=d.map(b=>b.presence_ref),f=h.map(b=>b.presence_ref),g=d.filter(b=>f.indexOf(b.presence_ref)<0),y=h.filter(b=>p.indexOf(b.presence_ref)<0);g.length>0&&(a[u]=g),y.length>0&&(l[u]=y)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:l},r,n)}static syncDiff(e,s,r,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var u;const d=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),d.length>0){const h=e[a].map(f=>f.presence_ref),p=d.filter(f=>h.indexOf(f.presence_ref)<0);e[a].unshift(...p)}r(a,d,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const d=l.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[a]=u,n(a,u,l),u.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const n=e[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ta;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(ta||(ta={}));var lr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(lr||(lr={}));var Rt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Rt||(Rt={}));class Qi{constructor(e,s={config:{}},r){var n,i;if(this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=Pe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Mn(this,ht.join,this.params,this.timeout),this.rejoinTimer=new Cc(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pe.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ht.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new ar(this),this.broadcastEndpointURL=Pc(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(n=this.params.config)===null||n===void 0?void 0:n.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,s=this.timeout){var r,n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Pe.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&n!==void 0?n:[],d=!!this.bindings[lr.PRESENCE]&&this.bindings[lr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},p={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>e?.(Rt.CHANNEL_ERROR,f)),this._onClose(()=>e?.(Rt.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:f})=>{var g;if(this.socket.setAuth(),f===void 0){e?.(Rt.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,b=(g=y?.length)!==null&&g!==void 0?g:0,S=[];for(let x=0;x<b;x++){const w=y[x],{filter:{event:j,schema:D,table:F,filter:k}}=w,Q=f&&f[x];if(Q&&Q.event===j&&Q.schema===D&&Q.table===F&&Q.filter===k)S.push(Object.assign(Object.assign({},w),{id:Q.id}));else{this.unsubscribe(),this.state=Pe.errored,e?.(Rt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,e&&e(Rt.SUBSCRIBED);return}}).receive("error",f=>{this.state=Pe.errored,e?.(Rt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e?.(Rt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this.state===Pe.joined&&e===lr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,s,r)}async httpSend(e,s,r={}){var n;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(s==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:s,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,s={}){var r,n;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Pe.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ht.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(n=>{r=new Mn(this,ht.leave,{},e),r.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Pe.closed,this.bindings={}}async _fetchWithTimeout(e,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Mn(this,e,s,r);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>rf){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=ht;if(r&&[a,l,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,s,r);if(s&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(f=>{var g,y,b;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((b=(y=f.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(f=>f.callback(p,r)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var g,y,b,S,x,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const j=f.id,D=(g=f.filter)===null||g===void 0?void 0:g.event;return j&&((y=s.ids)===null||y===void 0?void 0:y.includes(j))&&(D==="*"||D?.toLocaleLowerCase()===((b=s.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const j=(x=(S=f?.filter)===null||S===void 0?void 0:S.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return j==="*"||j===((w=s?.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof p=="object"&&"ids"in p){const g=p.data,{schema:y,table:b,commit_timestamp:S,type:x,errors:w}=g;p=Object.assign(Object.assign({},{schema:y,table:b,commit_timestamp:S,eventType:x,new:{},old:{},errors:w}),this._getPayloadRecords(g))}f.callback(p,r)})}_isClosed(){return this.state===Pe.closed}_isJoined(){return this.state===Pe.joined}_isJoining(){return this.state===Pe.joining}_isLeaving(){return this.state===Pe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const n=e.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Qi.isEqual(n.filter,s))})),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ht.close,{},e)}_onError(e){this._on(ht.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=Zo(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=Zo(e.columns,e.old_record)),s}}const Un=()=>{},Ir={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},hf=[1e3,2e3,5e3,1e4],ff=1e4,pf=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class gf{constructor(e,s){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=fi,this.transport=null,this.heartbeatIntervalMs=Ir.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Un,this.ref=0,this.reconnectTimer=null,this.logger=Un,this.conn=null,this.sendBuffer=[],this.serializer=new nf,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=n=>{let i;return n?i=n:typeof fetch>"u"?i=(...o)=>ms(async()=>{const{default:a}=await Promise.resolve().then(()=>vs);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=s?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${e}/${pi.websocket}`,this.httpEndpoint=Pc(e),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Xh.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const s=e.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:tf}))}disconnect(e,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case or.connecting:return cs.Connecting;case or.open:return cs.Open;case or.closing:return cs.Closing;default:return cs.Closed}}isConnected(){return this.connectionState()===cs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,s={config:{}}){const r=`realtime:${e}`,n=this.getChannels().find(i=>i.topic===r);if(n)return n;{const i=new Qi(`realtime:${e}`,s,this);return this.channels.push(i),i}}push(e){const{topic:s,event:r,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(sf,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Ir.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:n,payload:i,ref:o}=s,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${n} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(n,i,o)),this._triggerStateCallbacks("message",s)})}_clearTimer(e){var s;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var s;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ht.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${e}${r}${n}`}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([pf],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}_setConnectionState(e,s=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(e=null){let s;e?s=e:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(r=>{const n={access_token:s,version:ef};s&&r.updateJoinPayload(n),r.joinedOnce&&r._isJoined()&&r._push(ht.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${e}`,s)})}_triggerStateCallbacks(e,s){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(s)}catch(n){this.log("error",`error in ${e} callback`,n)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Cc(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ir.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var s,r,n,i,o,a,l,u,d;if(this.transport=(s=e?.transport)!==null&&s!==void 0?s:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:fi,this.heartbeatIntervalMs=(n=e?.heartbeatIntervalMs)!==null&&n!==void 0?n:Ir.HEARTBEAT_INTERVAL,this.worker=(i=e?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e?.heartbeatCallback)!==null&&a!==void 0?a:Un,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e?.reconnectAfterMs)!==null&&l!==void 0?l:h=>hf[h-1]||ff,this.encode=(u=e?.encode)!==null&&u!==void 0?u:(h,p)=>p(JSON.stringify(h)),this.decode=(d=e?.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class Xi extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ke(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class mf extends Xi{constructor(e,s,r){super(e),this.name="StorageApiError",this.status=s,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class mi extends Xi{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}const Zi=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>ms(async()=>{const{default:r}=await Promise.resolve().then(()=>vs);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},vf=()=>W(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ms(()=>Promise.resolve().then(()=>vs),void 0)).Response:Response}),vi=t=>{if(Array.isArray(t))return t.map(s=>vi(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=vi(r)}),e},yf=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Bn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),bf=(t,e,s)=>W(void 0,void 0,void 0,function*(){const r=yield vf();t instanceof r&&!s?.noResolveJson?t.json().then(n=>{const i=t.status||500,o=n?.statusCode||i+"";e(new mf(Bn(n),i,o))}).catch(n=>{e(new mi(Bn(n),n))}):e(new mi(Bn(t),t))}),wf=(t,e,s,r)=>{const n={method:t,headers:e?.headers||{}};return t==="GET"||!r?n:(yf(r)?(n.headers=Object.assign({"Content-Type":"application/json"},e?.headers),n.body=JSON.stringify(r)):n.body=r,e?.duplex&&(n.duplex=e.duplex),Object.assign(Object.assign({},n),s))};function xr(t,e,s,r,n,i){return W(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,wf(e,r,n,i)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>bf(l,a,r))})})}function gr(t,e,s,r){return W(this,void 0,void 0,function*(){return xr(t,"GET",e,s,r)})}function dt(t,e,s,r,n){return W(this,void 0,void 0,function*(){return xr(t,"POST",e,r,n,s)})}function yi(t,e,s,r,n){return W(this,void 0,void 0,function*(){return xr(t,"PUT",e,r,n,s)})}function _f(t,e,s,r){return W(this,void 0,void 0,function*(){return xr(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function eo(t,e,s,r,n){return W(this,void 0,void 0,function*(){return xr(t,"DELETE",e,r,n,s)})}class xf{constructor(e,s){this.downloadFn=e,this.shouldThrowOnError=s}then(e,s){return this.execute().then(e,s)}execute(){return W(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ke(e))return{data:null,error:e};throw e}})}}var Rc;class kf{constructor(e,s){this.downloadFn=e,this.shouldThrowOnError=s,this[Rc]="BlobDownloadBuilder",this.promise=null}asStream(){return new xf(this.downloadFn,this.shouldThrowOnError)}then(e,s){return this.getPromise().then(e,s)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return W(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ke(e))return{data:null,error:e};throw e}})}}Rc=Symbol.toStringTag;const Ef={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},sa={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Sf{constructor(e,s={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=s,this.bucketId=r,this.fetch=Zi(n)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,s,r,n){return W(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},sa),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n?.headers&&(a=Object.assign(Object.assign({},a),n.headers));const u=this._removeEmptyFolders(s),d=this._getFinalPath(u),h=yield(e=="PUT"?yi:dt)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:a},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ke(i))return{data:null,error:i};throw i}})}upload(e,s,r){return W(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,n){return W(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:sa.upsert},n),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield yi(this.fetch,a.toString(),l,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ke(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return W(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);s?.upsert&&(n["x-upsert"]="true");const i=yield dt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Xi("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ke(r))return{data:null,error:r};throw r}})}update(e,s,r){return W(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s,r){return W(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ke(n))return{data:null,error:n};throw n}})}copy(e,s,r){return W(this,void 0,void 0,function*(){try{return{data:{path:(yield dt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ke(n))return{data:null,error:n};throw n}})}createSignedUrl(e,s,r){return W(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield dt(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ke(n))return{data:null,error:n};throw n}})}createSignedUrls(e,s,r){return W(this,void 0,void 0,function*(){try{const n=yield dt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ke(n))return{data:null,error:n};throw n}})}download(e,s){const n=typeof s?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(s?.transform||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),l=()=>gr(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new kf(l,this.shouldThrowOnError)}info(e){return W(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const r=yield gr(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:vi(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ke(r))return{data:null,error:r};throw r}})}exists(e){return W(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield _f(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ke(r)&&r instanceof mi){const n=r.originalError;if([400,404].includes(n?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,s){const r=this._getFinalPath(e),n=[],i=s?.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const a=typeof s?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(s?.transform||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return W(this,void 0,void 0,function*(){try{return{data:yield eo(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ke(s))return{data:null,error:s};throw s}})}list(e,s,r){return W(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Ef),s),{prefix:e||""});return{data:yield dt(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ke(n))return{data:null,error:n};throw n}})}listV2(e,s){return W(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield dt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ke(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const $c="2.76.1",Ic={"X-Client-Info":`storage-js/${$c}`};class Of{constructor(e,s={},r,n){this.shouldThrowOnError=!1;const i=new URL(e);n?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ic),s),this.fetch=Zi(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return W(this,void 0,void 0,function*(){try{return{data:yield gr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ke(e))return{data:null,error:e};throw e}})}getBucket(e){return W(this,void 0,void 0,function*(){try{return{data:yield gr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ke(s))return{data:null,error:s};throw s}})}createBucket(e){return W(this,arguments,void 0,function*(s,r={public:!1}){try{return{data:yield dt(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ke(n))return{data:null,error:n};throw n}})}updateBucket(e,s){return W(this,void 0,void 0,function*(){try{return{data:yield yi(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ke(r))return{data:null,error:r};throw r}})}emptyBucket(e){return W(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ke(s))return{data:null,error:s};throw s}})}deleteBucket(e){return W(this,void 0,void 0,function*(){try{return{data:yield eo(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ke(s))return{data:null,error:s};throw s}})}}class Tf{constructor(e,s={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ic),s),this.fetch=Zi(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return W(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ke(s))return{data:null,error:s};throw s}})}listBuckets(e){return W(this,void 0,void 0,function*(){try{const s=new URLSearchParams;e?.limit!==void 0&&s.set("limit",e.limit.toString()),e?.offset!==void 0&&s.set("offset",e.offset.toString()),e?.sortColumn&&s.set("sortColumn",e.sortColumn),e?.sortOrder&&s.set("sortOrder",e.sortOrder),e?.search&&s.set("search",e.search);const r=s.toString(),n=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`,i=yield gr(this.fetch,n,{headers:this.headers});return{data:Array.isArray(i)?i.filter(a=>a.type==="ANALYTICS"):[],error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ke(s))return{data:null,error:s};throw s}})}deleteBucket(e){return W(this,void 0,void 0,function*(){try{return{data:yield eo(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ke(s))return{data:null,error:s};throw s}})}}const to={"X-Client-Info":`storage-js/${$c}`,"Content-Type":"application/json"};class Nc extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function tt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class zn extends Nc{constructor(e,s,r){super(e),this.name="StorageVectorsApiError",this.status=s,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Af extends Nc{constructor(e,s){super(e),this.name="StorageVectorsUnknownError",this.originalError=s}}var ra;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(ra||(ra={}));const so=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>ms(async()=>{const{default:r}=await Promise.resolve().then(()=>vs);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},Cf=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},na=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),jf=(t,e,s)=>W(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!s?.noResolveJson){const n=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=o?.statusCode||o?.code||n+"";e(new zn(na(o),n,a))}).catch(()=>{const o=n+"",a=i.statusText||`HTTP ${n} error`;e(new zn(a,n,o))});else{const o=n+"",a=i.statusText||`HTTP ${n} error`;e(new zn(a,n,o))}}else e(new Af(na(t),t))}),Pf=(t,e,s,r)=>{const n={method:t,headers:e?.headers||{}};return r?(Cf(r)?(n.headers=Object.assign({"Content-Type":"application/json"},e?.headers),n.body=JSON.stringify(r)):n.body=r,Object.assign(Object.assign({},n),s)):n};function Rf(t,e,s,r,n,i){return W(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,Pf(e,r,n,i)).then(l=>{if(!l.ok)throw l;if(r?.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>jf(l,a,r))})})}function st(t,e,s,r,n){return W(this,void 0,void 0,function*(){return Rf(t,"POST",e,r,n,s)})}class $f{constructor(e,s={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},to),s),this.fetch=so(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return W(this,void 0,void 0,function*(){try{return{data:(yield st(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}getIndex(e,s){return W(this,void 0,void 0,function*(){try{return{data:yield st(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:s},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}listIndexes(e){return W(this,void 0,void 0,function*(){try{return{data:yield st(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}deleteIndex(e,s){return W(this,void 0,void 0,function*(){try{return{data:(yield st(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:s},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}}class If{constructor(e,s={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},to),s),this.fetch=so(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return W(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield st(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}getVectors(e){return W(this,void 0,void 0,function*(){try{return{data:yield st(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}listVectors(e){return W(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield st(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}queryVectors(e){return W(this,void 0,void 0,function*(){try{return{data:yield st(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}deleteVectors(e){return W(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield st(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}}class Nf{constructor(e,s={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},to),s),this.fetch=so(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return W(this,void 0,void 0,function*(){try{return{data:(yield st(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}getBucket(e){return W(this,void 0,void 0,function*(){try{return{data:yield st(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}listBuckets(){return W(this,arguments,void 0,function*(e={}){try{return{data:yield st(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}deleteBucket(e){return W(this,void 0,void 0,function*(){try{return{data:(yield st(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}}class Lf extends Nf{constructor(e,s={}){super(e,s.headers||{},s.fetch)}from(e){return new Df(this.url,this.headers,e,this.fetch)}}class Df extends $f{constructor(e,s,r,n){super(e,s,n),this.vectorBucketName=r}createIndex(e){const s=Object.create(null,{createIndex:{get:()=>super.createIndex}});return W(this,void 0,void 0,function*(){return s.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return W(this,arguments,void 0,function*(s={}){return e.listIndexes.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const s=Object.create(null,{getIndex:{get:()=>super.getIndex}});return W(this,void 0,void 0,function*(){return s.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const s=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return W(this,void 0,void 0,function*(){return s.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Mf(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Mf extends If{constructor(e,s,r,n,i){super(e,s,i),this.vectorBucketName=r,this.indexName=n}putVectors(e){const s=Object.create(null,{putVectors:{get:()=>super.putVectors}});return W(this,void 0,void 0,function*(){return s.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const s=Object.create(null,{getVectors:{get:()=>super.getVectors}});return W(this,void 0,void 0,function*(){return s.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return W(this,arguments,void 0,function*(s={}){return e.listVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const s=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return W(this,void 0,void 0,function*(){return s.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const s=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return W(this,void 0,void 0,function*(){return s.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Uf extends Of{constructor(e,s={},r,n){super(e,s,r,n)}from(e){return new Sf(this.url,this.headers,e,this.fetch)}get vectors(){return new Lf(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Tf(this.url+"/iceberg",this.headers,this.fetch)}}const Bf="2.76.1";let Qs="";typeof Deno<"u"?Qs="deno":typeof document<"u"?Qs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Qs="react-native":Qs="node";const zf={"X-Client-Info":`supabase-js-${Qs}/${Bf}`},Vf={headers:zf},qf={schema:"public"},Ff={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Hf={},Wf=t=>{let e;return t?e=t:typeof fetch>"u"?e=vc:e=fetch,(...s)=>e(...s)},Kf=()=>typeof Headers>"u"?yc:Headers,Gf=(t,e,s)=>{const r=Wf(s),n=Kf();return async(i,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let u=new n(o?.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))}};function Jf(t){return t.endsWith("/")?t:t+"/"}function Yf(t,e){var s,r;const{db:n,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:d,global:h}=e,p={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(s=h?.headers)!==null&&s!==void 0?s:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function Qf(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Jf(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Lc="2.76.1",Cs=30*1e3,bi=3,Vn=bi*Cs,Xf="http://localhost:9999",Zf="supabase.auth.token",ep={"X-Client-Info":`gotrue-js/${Lc}`},wi="X-Supabase-Api-Version",Dc={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},tp=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,sp=10*60*1e3;class mr extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function J(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class rp extends mr{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function np(t){return J(t)&&t.name==="AuthApiError"}class us extends mr{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class es extends mr{constructor(e,s,r,n){super(e,r,n),this.name=s,this.status=r}}class qt extends es{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ip(t){return J(t)&&t.name==="AuthSessionMissingError"}class ks extends es{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Nr extends es{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Lr extends es{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function op(t){return J(t)&&t.name==="AuthImplicitGrantRedirectError"}class ia extends es{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class _i extends es{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function qn(t){return J(t)&&t.name==="AuthRetryableFetchError"}class oa extends es{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class xi extends es{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const nn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),aa=` 	
\r=`.split(""),ap=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<aa.length;e+=1)t[aa[e].charCodeAt(0)]=-2;for(let e=0;e<nn.length;e+=1)t[nn[e].charCodeAt(0)]=e;return t})();function la(t,e,s){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(nn[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(nn[r]),e.queuedBits-=6}}function Mc(t,e,s){const r=ap[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function ca(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{up(o,r,s)};for(let o=0;o<t.length;o+=1)Mc(t.charCodeAt(o),n,i);return e.join("")}function lp(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function cp(t,e){for(let s=0;s<t.length;s+=1){let r=t.charCodeAt(s);if(r>55295&&r<=56319){const n=(r-55296)*1024&65535;r=(t.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}lp(r,e)}}function up(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function Ls(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)Mc(t.charCodeAt(n),s,r);return new Uint8Array(e)}function dp(t){const e=[];return cp(t,s=>e.push(s)),new Uint8Array(e)}function ds(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};return t.forEach(n=>la(n,s,r)),la(null,s,r),e.join("")}function hp(t){return Math.round(Date.now()/1e3)+t}function fp(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ze=()=>typeof window<"u"&&typeof document<"u",ns={tested:!1,writable:!1},Uc=()=>{if(!Ze())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ns.tested)return ns.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ns.tested=!0,ns.writable=!0}catch{ns.tested=!0,ns.writable=!1}return ns.writable};function pp(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{e[n]=r}),e}const Bc=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>ms(async()=>{const{default:r}=await Promise.resolve().then(()=>vs);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},gp=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",js=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},is=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Bt=async(t,e)=>{await t.removeItem(e)};class En{constructor(){this.promise=new En.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}En.promiseConstructor=Promise;function Fn(t){const e=t.split(".");if(e.length!==3)throw new xi("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!tp.test(e[r]))throw new xi("JWT not in base64url format");return{header:JSON.parse(ca(e[0])),payload:JSON.parse(ca(e[1])),signature:Ls(e[2]),raw:{header:e[0],payload:e[1]}}}async function mp(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function vp(t,e){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function yp(t){return("0"+t.toString(16)).substr(-2)}function bp(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,yp).join("")}async function wp(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function _p(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await wp(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Es(t,e,s=!1){const r=bp();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await js(t,`${e}-code-verifier`,n);const i=await _p(r);return[i,r===i?"plain":"s256"]}const xp=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function kp(t){const e=t.headers.get(wi);if(!e||!e.match(xp))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Ep(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Sp(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Op=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ss(t){if(!Op.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Hn(){const t={};return new Proxy(t,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const r=s.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ua(t){return JSON.parse(JSON.stringify(t))}const as=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Tp=[502,503,504];async function da(t){var e;if(!gp(t))throw new _i(as(t),0);if(Tp.includes(t.status))throw new _i(as(t),t.status);let s;try{s=await t.json()}catch(i){throw new us(as(i),i)}let r;const n=kp(t);if(n&&n.getTime()>=Dc["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new oa(as(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new qt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new oa(as(s),t.status,s.weak_password.reasons);throw new rp(as(s),t.status||500,r)}const Ap=(t,e,s,r)=>{const n={method:t,headers:e?.headers||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function te(t,e,s,r){var n;const i=Object.assign({},r?.headers);i[wi]||(i[wi]=Dc["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r?.query)!==null&&n!==void 0?n:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Cp(t,e,s+a,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}}async function Cp(t,e,s,r,n,i){const o=Ap(e,r,n,i);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new _i(as(l),0)}if(a.ok||await da(a),r?.noResolveJson)return a;try{return await a.json()}catch(l){await da(l)}}function ut(t){var e;let s=null;Rp(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=hp(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function ha(t){const e=ut(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Kt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function jp(t){return{data:t,error:null}}function Pp(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=t,o=Vs(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function fa(t){return t}function Rp(t){return t.access_token&&t.refresh_token&&t.expires_in}const Wn=["global","local","others"];class $p{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=Bc(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,s=Wn[0]){if(Wn.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Wn.join(", ")}`);try{return await te(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await te(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Kt})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=Vs(e,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r?.newEmail,delete n.newEmail),await te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Pp,redirectTo:s?.redirectTo})}catch(s){if(J(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await te(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Kt})}catch(s){if(J(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,n,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e?.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=e?.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:fa});if(d.error)throw d.error;const h=await d.json(),p=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(g.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(J(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Ss(e);try{return await te(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Kt})}catch(s){if(J(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){Ss(e);try{return await te(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:Kt})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){Ss(e);try{return await te(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:Kt})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Ss(e.userId);try{const{data:s,error:r}=await te(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(J(s))return{data:null,error:s};throw s}}async _deleteFactor(e){Ss(e.userId),Ss(e.id);try{return{data:await te(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(J(s))return{data:null,error:s};throw s}}async _listOAuthClients(e){var s,r,n,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await te(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e?.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=e?.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:fa});if(d.error)throw d.error;const h=await d.json(),p=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(g.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(J(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(J(s))return{data:null,error:s};throw s}}async _getOAuthClient(e){try{return await te(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(J(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await te(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(J(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(e){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(J(s))return{data:null,error:s};throw s}}}function pa(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}const Os={debug:!!(globalThis&&Uc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class zc extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Ip extends zc{}async function Np(t,e,s){Os.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Os.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){Os.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await s()}finally{Os.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw Os.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Ip(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Os.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function Lp(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Vc(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Dp(t){return parseInt(t,16)}function Mp(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function Up(t){var e;const{chainId:s,domain:r,expirationTime:n,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:d,uri:h,version:p}=t;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const f=Vc(t.address),g=d?`${d}://${r}`:r,y=t.statement?`${t.statement}
`:"",b=`${g} wants you to sign in with your Ethereum account:
${f}

${y}`;let S=`URI: ${h}
Version: ${p}
Chain ID: ${s}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(n&&(S+=`
Expiration Time: ${n.toISOString()}`),a&&(S+=`
Not Before: ${a.toISOString()}`),l&&(S+=`
Request ID: ${l}`),u){let x=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);x+=`
- ${w}`}S+=x}return`${b}
${S}`}class Ae extends Error{constructor({message:e,code:s,cause:r,name:n}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=n??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=s}}class on extends Ae{constructor(e,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:e}),this.name="WebAuthnUnknownError",this.originalError=s}}function Bp({error:t,options:e}){var s,r,n;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ae({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new Ae({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Ae({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ae({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Ae({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Ae({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Ae({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Ae({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(qc(o)){if(i.rp.id!==o)return new Ae({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ae({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Ae({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Ae({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ae({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function zp({error:t,options:e}){const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ae({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Ae({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(qc(r)){if(s.rpId!==r)return new Ae({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ae({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Ae({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ae({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Vp{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const qp=new Vp;function Fp(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:s,excludeCredentials:r}=t,n=Vs(t,["challenge","user","excludeCredentials"]),i=Ls(e).buffer,o=Object.assign(Object.assign({},s),{id:Ls(s.id).buffer}),a=Object.assign(Object.assign({},n),{challenge:i,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Ls(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function Hp(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:s}=t,r=Vs(t,["challenge","allowCredentials"]),n=Ls(e).buffer,i=Object.assign(Object.assign({},r),{challenge:n});if(s&&s.length>0){i.allowCredentials=new Array(s.length);for(let o=0;o<s.length;o++){const a=s[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Ls(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function Wp(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const s=t;return{id:t.id,rawId:t.id,response:{attestationObject:ds(new Uint8Array(t.response.attestationObject)),clientDataJSON:ds(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Kp(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const s=t,r=t.getClientExtensionResults(),n=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:ds(new Uint8Array(n.authenticatorData)),clientDataJSON:ds(new Uint8Array(n.clientDataJSON)),signature:ds(new Uint8Array(n.signature)),userHandle:n.userHandle?ds(new Uint8Array(n.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function qc(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function ga(){var t,e;return!!(Ze()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Gp(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new on("Browser returned unexpected credential type",e)}:{data:null,error:new on("Empty credential response",e)}}catch(e){return{data:null,error:Bp({error:e,options:t})}}}async function Jp(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new on("Browser returned unexpected credential type",e)}:{data:null,error:new on("Empty credential response",e)}}catch(e){return{data:null,error:zp({error:e,options:t})}}}const Yp={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Qp={userVerification:"preferred",hints:["security-key"]};function an(...t){const e=n=>n!==null&&typeof n=="object"&&!Array.isArray(n),s=n=>n instanceof ArrayBuffer||ArrayBuffer.isView(n),r={};for(const n of t)if(n)for(const i in n){const o=n[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(s(o))r[i]=o;else if(e(o)){const a=r[i];e(a)?r[i]=an(a,o):r[i]=an(o)}else r[i]=o}return r}function Xp(t,e){return an(Yp,t,e||{})}function Zp(t,e){return an(Qp,t,e||{})}class e0{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:s,friendlyName:r,signal:n},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:s});if(!o)return{data:null,error:a};const l=n??qp.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=Xp(o.webauthn.credential_options.publicKey,i?.create),{data:d,error:h}=await Gp({publicKey:u,signal:l});return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=Zp(o.webauthn.credential_options.publicKey,i?.request),{data:d,error:h}=await Jp(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return J(o)?{data:null,error:o}:{data:null,error:new us("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:s,webauthn:r}){return this.client.mfa.verify({factorId:s,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:n}},i){if(!s)return{data:null,error:new mr("rpId is required for WebAuthn authentication")};try{if(!ga())return{data:null,error:new us("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:s,rpOrigins:r},signal:n},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:s,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return J(o)?{data:null,error:o}:{data:null,error:new us("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:n},i){if(!s)return{data:null,error:new mr("rpId is required for WebAuthn registration")};try{if(!ga())return{data:null,error:new us("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===e&&p.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d?.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:s,rpOrigins:r},signal:n},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:s,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return J(o)?{data:null,error:o}:{data:null,error:new us("Unexpected error in register",o)}}}}Lp();const t0={url:Xf,storageKey:Zf,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ep,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ma(t,e,s){return await s()}const Ts={};class vr{get jwks(){var e,s;return(s=(e=Ts[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){Ts[this.storageKey]=Object.assign(Object.assign({},Ts[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=Ts[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ts[this.storageKey]=Object.assign(Object.assign({},Ts[this.storageKey]),{cachedAt:e})}constructor(e){var s,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=vr.nextInstanceID,vr.nextInstanceID+=1,this.instanceID>0&&Ze()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},t0),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new $p({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Bc(n.fetch),this.lock=n.lock||ma,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:Ze()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=Np:this.lock=ma,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new e0(this)},this.persistSession?(n.storage?this.storage=n.storage:Uc()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=pa(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=pa(this.memoryStorage)),Ze()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Lc}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=pp(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),Ze()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),op(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return J(s)?{error:s}:{error:new us("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,n;try{const i=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e?.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=e?.options)===null||n===void 0?void 0:n.captchaToken}},xform:ut}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(J(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var s,r,n;try{let i;if("email"in e){const{email:d,password:h,options:p}=e;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await Es(this.storage,this.storageKey)),i=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p?.emailRedirectTo,body:{email:d,password:h,data:(s=p?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:f,code_challenge_method:g},xform:ut})}else if("phone"in e){const{phone:d,password:h,options:p}=e;i=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=p?.data)!==null&&r!==void 0?r:{},channel:(n=p?.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:ut})}else throw new Nr("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(J(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:ha})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:ha})}else throw new Nr("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ks}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(J(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,r,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;switch(s){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(e){var s,r,n,i,o,a,l,u,d,h,p;let f,g;if("message"in e)f=e.message,g=e.signature;else{const{chain:y,wallet:b,statement:S,options:x}=e;let w;if(Ze())if(typeof b=="object")w=b;else{const R=window;if("ethereum"in R&&typeof R.ethereum=="object"&&"request"in R.ethereum&&typeof R.ethereum.request=="function")w=R.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!x?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=b}const j=new URL((s=x?.url)!==null&&s!==void 0?s:window.location.href),D=await w.request({method:"eth_requestAccounts"}).then(R=>R).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!D||D.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const F=Vc(D[0]);let k=(r=x?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!k){const R=await w.request({method:"eth_chainId"});k=Dp(R)}const Q={domain:j.host,address:F,statement:S,uri:j.href,version:"1",chainId:k,nonce:(n=x?.signInWithEthereum)===null||n===void 0?void 0:n.nonce,issuedAt:(o=(i=x?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=x?.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=x?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=x?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=x?.signInWithEthereum)===null||d===void 0?void 0:d.resources};f=Up(Q),g=await w.request({method:"personal_sign",params:[Mp(f),F]})}try{const{data:y,error:b}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:g},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:ut});if(b)throw b;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new ks}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:b})}catch(y){if(J(y))return{data:{user:null,session:null},error:y};throw y}}async signInWithSolana(e){var s,r,n,i,o,a,l,u,d,h,p,f;let g,y;if("message"in e)g=e.message,y=e.signature;else{const{chain:b,wallet:S,statement:x,options:w}=e;let j;if(Ze())if(typeof S=="object")j=S;else{const F=window;if("solana"in F&&typeof F.solana=="object"&&("signIn"in F.solana&&typeof F.solana.signIn=="function"||"signMessage"in F.solana&&typeof F.solana.signMessage=="function"))j=F.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!w?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=S}const D=new URL((s=w?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in j&&j.signIn){const F=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w?.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),x?{statement:x}:null));let k;if(Array.isArray(F)&&F[0]&&typeof F[0]=="object")k=F[0];else if(F&&typeof F=="object"&&"signedMessage"in F&&"signature"in F)k=F;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)g=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),y=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${D.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(n=(r=w?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=w?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((a=w?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(d=w?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const F=await j.signMessage(new TextEncoder().encode(g),"utf8");if(!F||!(F instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=F}}try{const{data:b,error:S}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:ds(y)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:ut});if(S)throw S;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new ks}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:S})}catch(b){if(J(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(e){const s=await is(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/");try{const{data:i,error:o}=await te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ut});if(await Bt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ks}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(J(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:s,provider:r,token:n,access_token:i,nonce:o}=e,a=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:ut}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ks}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(J(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,r,n,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Es(this.storage,this.storageKey));const{error:h}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l?.data)!==null&&s!==void 0?s:{},create_user:(r=l?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:d}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l?.data)!==null&&n!==void 0?n:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new Nr("You must provide either an email or phone number.")}catch(a){if(J(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,r;try{let n,i;"options"in e&&(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:ut});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(n){if(J(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var s,r,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Es(this.storage,this.storageKey)),await te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=e?.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:jp})}catch(i){if(J(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new qt;const{error:n}=await te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(J(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:i}=e,{error:o}=await te(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:n,options:i}=e,{data:o,error:a}=await te(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:a}}throw new Nr("You must provide either an email or phone number and a type")}catch(s){if(J(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await is(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Vn:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await is(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=Hn()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:e},error:null}}const{data:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Kt}):await this._useSession(async s=>{var r,n,i;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new qt}:await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:Kt})})}catch(s){if(J(s))return ip(s)&&(await this._removeSession(),await Bt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new qt;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Es(this.storage,this.storageKey));const{data:u,error:d}=await te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Kt});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new qt;const s=Date.now()/1e3;let r=s,n=!0,i=null;const{payload:o}=Fn(e.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(J(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new qt;const{data:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(J(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!Ze())throw new Lr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Lr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new ia("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Lr("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ia("No code detected.");const{data:x,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new Lr("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let p=d+h;l&&(p=parseInt(l));const f=p-d;f*1e3<=Cs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const g=p-h;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,p,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,p,d);const{data:y,error:b}=await this._getUser(i);if(b)throw b;const S={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:p,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:S,redirectType:e.type},error:null}}catch(r){if(J(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await is(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{error:i};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(np(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Bt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=fp(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await Es(this.storage,this.storageKey,!0));try{return await te(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(J(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(J(s))return{data:null,error:s};throw s}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var o,a,l,u,d;const{data:h,error:p}=i;if(p)throw p;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await te(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(n)throw n;return Ze()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:e.provider,url:r?.url},error:null}}catch(r){if(J(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async linkIdentityIdToken(e){return await this._useSession(async s=>{var r;try{const{error:n,data:{session:i}}=s;if(n)throw n;const{options:o,provider:a,token:l,access_token:u,nonce:d}=e,h=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:ut}),{data:p,error:f}=h;return f?{data:{user:null,session:null},error:f}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new ks}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),{data:p,error:f})}catch(n){if(J(n))return{data:{user:null,session:null},error:n};throw n}})}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await te(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(J(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await vp(async n=>(n>0&&await mp(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ut})),(n,i)=>{const o=200*Math.pow(2,n);return i&&qn(i)&&Date.now()+o-r<Cs})}catch(r){if(this._debug(s,"error",r),J(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),Ze()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,s;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await is(this.storage,this.storageKey);if(n&&this.userStorage){let o=await is(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:n.user},await js(this.userStorage,this.storageKey+"-user",o)),n.user=(e=o?.user)!==null&&e!==void 0?e:Hn()}else if(n&&!n.user&&!n.user){const o=await is(this.storage,this.storageKey+"-user");o&&o?.user?(n.user=o.user,await Bt(this.storage,this.storageKey+"-user"),await js(this.storage,this.storageKey,n)):n.user=Hn()}if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const i=((s=n.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Vn;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Vn}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),qn(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(n.access_token);!a&&o?.user?(n.user=o.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new qt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new En;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new qt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),J(i)){const o={data:null,error:i};return qn(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,s,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const s=Object.assign({},e),r=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&s.user&&await js(this.userStorage,this.storageKey+"-user",{user:s.user});const n=Object.assign({},s);delete n.user;const i=ua(n);await js(this.storage,this.storageKey,i)}else{const n=ua(s);await js(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),await Bt(this.storage,this.storageKey),await Bt(this.storage,this.storageKey+"-code-verifier"),await Bt(this.storage,this.storageKey+"-user"),this.userStorage&&await Bt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ze()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Cs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-e)/Cs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${Cs}ms, refresh threshold is ${bi} ticks`),n<=bi&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof zc)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ze()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r?.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Es(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(r?.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r?.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await te(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=n?.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(J(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await te(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&l.type==="totp"&&(!((n=l?.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(J(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Wp(e.webauthn.credential_response):Kp(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=n?.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(s){if(J(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const o=await te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=n?.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Fp(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Hp(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(J(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){var e;const{data:{user:s},error:r}=await this.getUser();if(r)return{data:null,error:r};const n={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=s?.factors)!==null&&e!==void 0?e:[])n.all.push(i),i.status==="verified"&&n[i.factor_type].push(i);return{data:n,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,r;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Fn(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,s={keys:[]}){let r=s.keys.find(a=>a.kid===e);if(r)return r;const n=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+sp>n)return r;const{data:i,error:o}=await te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=n,r=i.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,s={}){try{let r=e;if(!r){const{data:f,error:g}=await this.getSession();if(g||!f.session)return{data:null,error:g};r=f.session.access_token}const{header:n,payload:i,signature:o,raw:{header:a,payload:l}}=Fn(r);s?.allowExpired||Ep(i.exp);const u=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!u){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:i,header:n,signature:o},error:null}}const d=Sp(n.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,dp(`${a}.${l}`)))throw new xi("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}}vr.nextInstanceID=0;const s0=vr;class r0 extends s0{constructor(e){super(e)}}class n0{constructor(e,s,r){var n,i,o;this.supabaseUrl=e,this.supabaseKey=s;const a=Qf(e);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:qf,realtime:Hf,auth:Object.assign(Object.assign({},Ff),{storageKey:l}),global:Vf},d=Yf(r??{},u);this.storageKey=(n=d.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Gf(s,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Qh(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Uf(this.storageUrl.href,this.headers,this.fetch,r?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new qh(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,s,r)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,s;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:o,flowType:a,lock:l,debug:u},d,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new r0({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),d),storageKey:o,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,userStorage:i,flowType:a,lock:l,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new gf(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r?.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const i0=(t,e,s)=>new n0(t,e,s);function o0(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}o0()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const a0="https://pgnjxsvtxrqsuukadlzu.supabase.co",l0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBnbmp4c3Z0eHJxc3V1a2FkbHp1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE2MTQ5NjYsImV4cCI6MjA3NzE5MDk2Nn0.kw0yn1Wnn4GzkXbPYRUcTjyQr6esb-BED5h-OdFiEMI",ie=i0(a0,l0,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}});class ln{static async createUser(e){const{data:s,error:r}=await ie.from("users").insert(e).select();if(r)throw r;return s?.[0]}static async getUserById(e){const{data:s,error:r}=await ie.from("users").select("*").eq("id",e).single();if(r)throw r;return s}static async getUserByEmail(e){const{data:s,error:r}=await ie.from("users").select("*").eq("email",e).single();if(r)throw r;return s}static async updateUser(e,s){const{data:r,error:n}=await ie.from("users").update(s).eq("id",e).select();if(n)throw n;return r?.[0]}}class Kn{static async createOrganization(e){const{data:s,error:r}=await ie.from("organizations").insert(e).select();if(r)throw r;return s?.[0]}static async getOrganizationById(e){const{data:s,error:r}=await ie.from("organizations").select(`
        *,
        owner:users!organizations_owner_id_fkey(id, display_name, email)
      `).eq("id",e).single();if(r)throw r;return s}static async getUserOrganizations(e){const{data:s,error:r}=await ie.from("organizations").select("*").eq("owner_id",e);if(r)throw r;return s}static async updateOrganization(e,s){const{data:r,error:n}=await ie.from("organizations").update(s).eq("id",e).select();if(n)throw n;return r?.[0]}}class Dr{static async createProject(e){const{data:s,error:r}=await ie.from("projects").insert(e).select();if(r)throw r;return s?.[0]}static async getProjectById(e){const{data:s,error:r}=await ie.from("projects").select(`
        *,
        organization:organizations!projects_organization_id_fkey(id, name),
        owner:users!projects_owner_id_fkey(id, display_name)
      `).eq("id",e).single();if(r)throw r;return s}static async getOrganizationProjects(e){const{data:s,error:r}=await ie.from("projects").select(`
        *,
        owner:users!projects_owner_id_fkey(id, display_name)
      `).eq("organization_id",e);if(r)throw r;return s}static async updateProject(e,s){const{data:r,error:n}=await ie.from("projects").update(s).eq("id",e).select();if(n)throw n;return r?.[0]}static async getProjectStats(e){const{data:s,error:r}=await ie.from("tasks").select("status, count").eq("project_id",e).group("status");if(r)throw r;return s}}class Fc{static async createTask(e){const{data:s,error:r}=await ie.from("tasks").insert(e).select();if(r)throw r;return s?.[0]}static async getTaskById(e){const{data:s,error:r}=await ie.from("tasks").select(`
        *,
        project:projects!tasks_project_id_fkey(id, name),
        assignee:users!tasks_assigned_to_fkey(id, display_name)
      `).eq("id",e).single();if(r)throw r;return s}static async getProjectTasks(e){const{data:s,error:r}=await ie.from("tasks").select(`
        *,
        assignee:users!tasks_assigned_to_fkey(id, display_name)
      `).eq("project_id",e);if(r)throw r;return s}static async getUserTasks(e){const{data:s,error:r}=await ie.from("tasks").select(`
        *,
        project:projects!tasks_project_id_fkey(id, name)
      `).eq("assigned_to",e);if(r)throw r;return s}static async updateTask(e,s){const{data:r,error:n}=await ie.from("tasks").update(s).eq("id",e).select();if(n)throw n;return r?.[0]}}class c0{static async saveChatMessage(e){const{data:s,error:r}=await ie.from("chat_history").insert(e).select();if(r)throw r;return s?.[0]}static async getUserChatHistory(e,s=50){const{data:r,error:n}=await ie.from("chat_history").select("*").eq("user_id",e).order("created_at",{ascending:!1}).limit(s);if(n)throw n;return r}static async getProjectChatHistory(e,s=50){const{data:r,error:n}=await ie.from("chat_history").select(`
        *,
        user:users!chat_history_user_id_fkey(id, display_name)
      `).eq("project_id",e).order("created_at",{ascending:!1}).limit(s);if(n)throw n;return r}}const At=Ki("auth",()=>{const t=U(null),e=U(!0),s=Ne(()=>!!t.value);async function r(){try{const{data:{session:h}}=await ie.auth.getSession();t.value=h?.user??null;const{data:p}=ie.auth.onAuthStateChange((f,g)=>{t.value=g?.user??null})}catch(h){console.error("Auth initialization error:",h)}finally{e.value=!1}}async function n(h,p){try{const{data:f,error:g}=await ie.auth.signInWithPassword({email:h,password:p});if(g)throw console.error("Login error:",g),g.message==="Invalid login credentials"?new Error(""):g.message.includes("Email not confirmed")?new Error(""):g.message.includes("Bad Request")?new Error(""):g;if(f.user)try{await ln.getUserById(f.user.id)}catch{console.warn("User profile not found, but login successful")}return f}catch(f){throw console.error("Login failed:",f),f}}async function i(h,p,f){const{data:g,error:y}=await ie.auth.signUp({email:h,password:p,options:{data:f,emailRedirectTo:`${window.location.origin}/email-confirmation`}});if(y)throw y.message.includes("User already registered")?new Error(""):y.message.includes("Password should be at least")?new Error(""):y.message.includes("Email rate limit exceeded")?new Error(""):y;return g.user&&!g.session&&localStorage.setItem("pending_email",h),g}async function o(h){const{error:p}=await ie.auth.resend({type:"signup",email:h});if(p)throw p.message.includes("Email rate limit exceeded")?new Error(""):p}async function a(h){const{data:p,error:f}=await ie.auth.verifyOtp({token_hash:h,type:"signup"});if(f)throw f;return localStorage.removeItem("pending_email"),p}async function l(h){const{error:p}=await ie.auth.resetPasswordForEmail(h,{redirectTo:`${window.location.origin}/reset-password`});if(p)throw p}async function u(h){const{error:p}=await ie.auth.updateUser({password:h});if(p)throw p}async function d(){const{error:h}=await ie.auth.signOut();if(h)throw h;t.value=null}return{user:t,isLoading:e,isAuthenticated:s,init:r,login:n,register:i,logout:d,resendConfirmationEmail:o,verifyEmail:a,resetPassword:l,updatePassword:u}}),u0=Object.freeze(Object.defineProperty({__proto__:null,useAuthStore:At},Symbol.toStringTag,{value:"Module"})),kr=Ki("organization",()=>{const t=U([]),e=U(null),s=U(!1);async function r(o){s.value=!0;try{const a=await Kn.getUserOrganizations(o);t.value=a||[]}catch(a){throw console.error("Error fetching organizations:",a),a}finally{s.value=!1}}async function n(o){try{const a=await Kn.createOrganization(o);return t.value.unshift(a),a}catch(a){throw console.error("Error creating organization:",a),a}}async function i(o){s.value=!0;try{const a=await Kn.getOrganizationById(o);return e.value=a,a}catch(a){throw console.error("Error fetching organization:",a),a}finally{s.value=!1}}return{organizations:t,currentOrganization:e,isLoading:s,fetchOrganizations:r,createOrganization:n,fetchOrganizationById:i}}),Er=Ki("project",()=>{const t=U([]),e=U(null),s=U(!1);async function r(a){s.value=!0;try{const l=await Dr.getOrganizationProjects(a);t.value=l||[]}catch(l){throw console.error("Error fetching projects:",l),l}finally{s.value=!1}}async function n(a){try{return await Dr.createProject({...a,status:a.status||"active",progress_percentage:0})}catch(l){throw console.error("Error creating project:",l),l}}async function i(a){s.value=!0;try{const l=await Dr.getProjectById(a);return e.value=l,l}catch(l){throw console.error("Error fetching project:",l),l}finally{s.value=!1}}async function o(a,l){try{const u=await Dr.updateProject(a,l),d=t.value.findIndex(h=>h.id===a);return d!==-1&&(t.value[d]=u),e.value?.id===a&&(e.value=u),u}catch(u){throw console.error("Error updating project:",u),u}}return{projects:t,currentProject:e,isLoading:s,fetchProjects:r,createProject:n,fetchProjectById:i,updateProject:o}}),d0={key:0,class:"fixed bottom-6 right-6 z-50"},h0={key:1,class:"fixed bottom-6 right-6 z-50 w-96 h-96 bg-white rounded-lg shadow-xl border border-gray-200 flex flex-col"},f0={class:"flex-1 p-4 overflow-y-auto bg-gray-50"},p0={key:0,class:"flex items-start space-x-2"},g0={class:"bg-white p-3 rounded-lg shadow-sm border border-gray-200 max-w-xs"},m0={class:"text-sm text-gray-800"},v0={class:"text-xs text-gray-500 mt-1"},y0={key:1,class:"flex items-start space-x-2 justify-end"},b0={class:"bg-blue-100 p-3 rounded-lg shadow-sm border border-blue-200 max-w-xs"},w0={class:"text-sm text-blue-800"},_0={class:"text-xs text-blue-500 mt-1"},x0={key:0,class:"flex items-start space-x-2"},k0={class:"p-4 border-t border-gray-200"},E0={class:"flex space-x-2"},S0=["disabled"],O0=["disabled"],T0=Fe({__name:"AIChatAssistant",setup(t){const e=At(),s=U(!1),r=U(!1),n=U(""),i=U([{id:1,type:"ai",content:"AI",timestamp:new Date}]),o=p=>p.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"}),a=()=>{s.value=!0},l=()=>{s.value=!1},u=async()=>{if(!n.value.trim()||r.value)return;const p=n.value.trim();n.value="",i.value.push({id:Date.now(),type:"user",content:p,timestamp:new Date}),r.value=!0;try{const f=await d(p);if(i.value.push({id:Date.now()+1,type:"ai",content:f,timestamp:new Date}),e.user)try{await AIChatService.saveChatMessage({user_id:e.user.id,message_type:"text",user_message:p,ai_response:f})}catch(g){console.error(":",g)}}catch(f){console.error("AI:",f),i.value.push({id:Date.now()+1,type:"ai",content:"",timestamp:new Date})}finally{r.value=!1}},d=async p=>{await new Promise(g=>setTimeout(g,1e3));const f=p.toLowerCase();return f.includes("")||f.includes("project")?"":f.includes("")||f.includes("task")?"":f.includes("")||f.includes("progress")?"":f.includes("")||f.includes("help")?`AI
1. 
2. 
3. 
4. 
5. 
`:f.includes("")||f.includes("hi")||f.includes("hello")?"":"AI"},h=p=>{p.type==="show-ai-chat"&&a()};return mt(()=>{window.addEventListener("show-ai-chat",h)}),Vi(()=>{window.removeEventListener("show-ai-chat",h)}),(p,f)=>(C(),P(Ee,null,[s.value?ne("",!0):(C(),P("div",d0,[c("button",{onClick:a,class:"w-14 h-14 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full shadow-lg hover:shadow-xl transform hover:scale-110 transition-all duration-200 flex items-center justify-center"},[...f[1]||(f[1]=[c("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})],-1)])])])),s.value?(C(),P("div",h0,[c("div",{class:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-4 rounded-t-lg flex justify-between items-center"},[f[3]||(f[3]=c("div",{class:"flex items-center"},[c("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})]),c("span",{class:"font-semibold"},"AI")],-1)),c("button",{onClick:l,class:"text-white hover:text-gray-200"},[...f[2]||(f[2]=[c("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),c("div",f0,[(C(!0),P(Ee,null,et(i.value,g=>(C(),P("div",{key:g.id,class:"mb-4"},[g.type==="ai"?(C(),P("div",p0,[f[4]||(f[4]=c("div",{class:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center"},[c("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})])],-1)),c("div",g0,[c("p",m0,I(g.content),1),c("p",v0,I(o(g.timestamp)),1)])])):(C(),P("div",y0,[c("div",b0,[c("p",w0,I(g.content),1),c("p",_0,I(o(g.timestamp)),1)]),f[5]||(f[5]=c("div",{class:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center"},[c("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1))]))]))),128)),r.value?(C(),P("div",x0,[...f[6]||(f[6]=[gs('<div class="w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center" data-v-be166329><svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-be166329><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" data-v-be166329></path></svg></div><div class="bg-white p-3 rounded-lg shadow-sm border border-gray-200" data-v-be166329><div class="flex space-x-1" data-v-be166329><div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce" data-v-be166329></div><div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce" style="animation-delay:0.1s;" data-v-be166329></div><div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce" style="animation-delay:0.2s;" data-v-be166329></div></div></div>',2)])])):ne("",!0)]),c("div",k0,[c("div",E0,[Oe(c("input",{"onUpdate:modelValue":f[0]||(f[0]=g=>n.value=g),onKeyup:Bl(u,["enter"]),type:"text",placeholder:"...",class:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:r.value},null,40,S0),[[Re,n.value]]),c("button",{onClick:u,disabled:!n.value.trim()||r.value,class:"px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed"},"  ",8,O0)])])])):ne("",!0)],64))}}),Hs=(t,e)=>{const s=t.__vccOpts||t;for(const[r,n]of e)s[r]=n;return s},A0=Hs(T0,[["__scopeId","data-v-be166329"]]),C0={id:"app",class:"min-h-screen bg-gray-50"},j0={key:0,class:"fixed inset-0 bg-white bg-opacity-80 flex items-center justify-center z-50"},P0={class:"text-center"},R0={key:0,class:"text-sm text-gray-500 mt-2"},$0={key:1,class:"fixed top-4 right-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded z-50"},I0={class:"flex items-center"},N0={key:2,class:"fixed bottom-4 right-4 bg-blue-100 border border-blue-400 text-blue-700 px-4 py-2 rounded text-sm z-40"},L0={class:"flex items-center"},D0=Fe({__name:"App",setup(t){const e=At(),s=kr(),r=Er(),n=U(!1),i=U(!0),o=U(""),a=U(null),l=U(!1),u=U(!1);Nt(()=>e.isAuthenticated,g=>{n.value=g,g&&h()});async function d(){try{if(o.value="...",await ln.getCurrentUser())return l.value=!0,console.log(" "),!0}catch(g){return console.error(" :",g),g?.message?.includes("JWT")?a.value="":g?.message?.includes("fetch")||g?.message?.includes("network")?a.value="":g?.message?.includes("PGRST")?a.value="":a.value=`: ${g.message}`,l.value=!1,!1}finally{u.value=!0,setTimeout(()=>{u.value=!1},3e3)}}async function h(){try{o.value="...";const g=e.user;if(!g?.id){console.warn("ID");return}try{const y=await ln.getUserProfile(g.id);console.log(" :",y)}catch(y){console.warn(":",y)}try{await s.fetchOrganizations(g.id),console.log(" :",s.organizations.length)}catch(y){console.warn(":",y)}if(s.organizations.length>0){o.value="...";for(const y of s.organizations)try{await r.fetchProjects(y.id),console.log(`  ${y.name} `)}catch(b){console.warn(` ${y.name} :`,b)}}console.log(" ")}catch(g){console.error(" :",g),a.value=""}}async function p(){try{console.log(" AI..."),o.value="...",await e.init(),n.value=e.isAuthenticated,console.log(" :",n.value),await d()&&n.value&&await h(),console.log(" AI")}catch(g){console.error(" :",g),a.value=""}finally{i.value=!1,o.value=""}}Nt(()=>e.user?.id,g=>{g&&(console.log("ID:",g),h())}),window.addEventListener("global-error",g=>{g.detail?.message&&(a.value=g.detail.message)});function f(g){a.value=g,setTimeout(()=>{a.value=null},5e3)}return window.handleGlobalError=f,mt(async()=>{await p()}),(g,y)=>{const b=vt("RouterView");return C(),P("div",C0,[i.value?(C(),P("div",j0,[c("div",P0,[y[1]||(y[1]=c("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"},null,-1)),y[2]||(y[2]=c("p",{class:"text-gray-600"},"...",-1)),o.value?(C(),P("p",R0,I(o.value),1)):ne("",!0)])])):ne("",!0),a.value?(C(),P("div",$0,[c("div",I0,[y[4]||(y[4]=c("svg",{class:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[c("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1)),c("span",null,I(a.value),1),c("button",{onClick:y[0]||(y[0]=S=>a.value=null),class:"ml-4 text-red-700 hover:text-red-900"},[...y[3]||(y[3]=[c("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[c("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)])])])])):ne("",!0),u.value?(C(),P("div",N0,[c("div",L0,[c("div",{class:$e(["w-2 h-2 rounded-full mr-2",l.value?"bg-green-500":"bg-red-500"])},null,2),c("span",null,I(l.value?"":""),1)])])):ne("",!0),pe(b),n.value?(C(),$l(A0,{key:3})):ne("",!0)])}}}),M0=Hs(D0,[["__scopeId","data-v-e2e7b2fa"]]);/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const Ps=typeof document<"u";function Hc(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function U0(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Hc(t.default)}const de=Object.assign;function Gn(t,e){const s={};for(const r in e){const n=e[r];s[r]=gt(n)?n.map(t):t(n)}return s}const cr=()=>{},gt=Array.isArray;function va(t,e){const s={};for(const r in t)s[r]=r in e?e[r]:t[r];return s}const Wc=/#/g,B0=/&/g,z0=/\//g,V0=/=/g,q0=/\?/g,Kc=/\+/g,F0=/%5B/g,H0=/%5D/g,Gc=/%5E/g,W0=/%60/g,Jc=/%7B/g,K0=/%7C/g,Yc=/%7D/g,G0=/%20/g;function ro(t){return t==null?"":encodeURI(""+t).replace(K0,"|").replace(F0,"[").replace(H0,"]")}function J0(t){return ro(t).replace(Jc,"{").replace(Yc,"}").replace(Gc,"^")}function ki(t){return ro(t).replace(Kc,"%2B").replace(G0,"+").replace(Wc,"%23").replace(B0,"%26").replace(W0,"`").replace(Jc,"{").replace(Yc,"}").replace(Gc,"^")}function Y0(t){return ki(t).replace(V0,"%3D")}function Q0(t){return ro(t).replace(Wc,"%23").replace(q0,"%3F")}function X0(t){return Q0(t).replace(z0,"%2F")}function yr(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const Z0=/\/$/,eg=t=>t.replace(Z0,"");function Jn(t,e,s="/"){let r,n={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return l=a>=0&&l>a?-1:l,l>=0&&(r=e.slice(0,l),i=e.slice(l,a>0?a:e.length),n=t(i.slice(1))),a>=0&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=ng(r??e,s),{fullPath:r+i+o,path:r,query:n,hash:yr(o)}}function tg(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function ya(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function sg(t,e,s){const r=e.matched.length-1,n=s.matched.length-1;return r>-1&&r===n&&Bs(e.matched[r],s.matched[n])&&Qc(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function Bs(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Qc(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(!rg(t[s],e[s]))return!1;return!0}function rg(t,e){return gt(t)?ba(t,e):gt(e)?ba(e,t):t===e}function ba(t,e){return gt(e)?t.length===e.length&&t.every((s,r)=>s===e[r]):t.length===1&&t[0]===e}function ng(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),r=t.split("/"),n=r[r.length-1];(n===".."||n===".")&&r.push("");let i=s.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const zt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Ei=function(t){return t.pop="pop",t.push="push",t}({}),Yn=function(t){return t.back="back",t.forward="forward",t.unknown="",t}({});function ig(t){if(!t)if(Ps){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),eg(t)}const og=/^[^#]+#/;function ag(t,e){return t.replace(og,"#")+e}function lg(t,e){const s=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-s.left-(e.left||0),top:r.top-s.top-(e.top||0)}}const Sn=()=>({left:window.scrollX,top:window.scrollY});function cg(t){let e;if("el"in t){const s=t.el,r=typeof s=="string"&&s.startsWith("#"),n=typeof s=="string"?r?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!n)return;e=lg(n,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function wa(t,e){return(history.state?history.state.position-e:-1)+t}const Si=new Map;function ug(t,e){Si.set(t,e)}function dg(t){const e=Si.get(t);return Si.delete(t),e}function hg(t){return typeof t=="string"||t&&typeof t=="object"}function Xc(t){return typeof t=="string"||typeof t=="symbol"}let Se=function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t}({});const Zc=Symbol("");Se.MATCHER_NOT_FOUND+"",Se.NAVIGATION_GUARD_REDIRECT+"",Se.NAVIGATION_ABORTED+"",Se.NAVIGATION_CANCELLED+"",Se.NAVIGATION_DUPLICATED+"";function zs(t,e){return de(new Error,{type:t,[Zc]:!0},e)}function jt(t,e){return t instanceof Error&&Zc in t&&(e==null||!!(t.type&e))}const fg=["params","query","hash"];function pg(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const s of fg)s in t&&(e[s]=t[s]);return JSON.stringify(e,null,2)}function gg(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<s.length;++r){const n=s[r].replace(Kc," "),i=n.indexOf("="),o=yr(i<0?n:n.slice(0,i)),a=i<0?null:yr(n.slice(i+1));if(o in e){let l=e[o];gt(l)||(l=e[o]=[l]),l.push(a)}else e[o]=a}return e}function _a(t){let e="";for(let s in t){const r=t[s];if(s=Y0(s),r==null){r!==void 0&&(e+=(e.length?"&":"")+s);continue}(gt(r)?r.map(n=>n&&ki(n)):[r&&ki(r)]).forEach(n=>{n!==void 0&&(e+=(e.length?"&":"")+s,n!=null&&(e+="="+n))})}return e}function mg(t){const e={};for(const s in t){const r=t[s];r!==void 0&&(e[s]=gt(r)?r.map(n=>n==null?null:""+n):r==null?r:""+r)}return e}const vg=Symbol(""),xa=Symbol(""),On=Symbol(""),no=Symbol(""),Oi=Symbol("");function Js(){let t=[];function e(r){return t.push(r),()=>{const n=t.indexOf(r);n>-1&&t.splice(n,1)}}function s(){t=[]}return{add:e,list:()=>t.slice(),reset:s}}function Wt(t,e,s,r,n,i=o=>o()){const o=r&&(r.enterCallbacks[n]=r.enterCallbacks[n]||[]);return()=>new Promise((a,l)=>{const u=p=>{p===!1?l(zs(Se.NAVIGATION_ABORTED,{from:s,to:e})):p instanceof Error?l(p):hg(p)?l(zs(Se.NAVIGATION_GUARD_REDIRECT,{from:e,to:p})):(o&&r.enterCallbacks[n]===o&&typeof p=="function"&&o.push(p),a())},d=i(()=>t.call(r&&r.instances[n],e,s,u));let h=Promise.resolve(d);t.length<3&&(h=h.then(u)),h.catch(p=>l(p))})}function Qn(t,e,s,r,n=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Hc(l)){const u=(l.__vccOpts||l)[e];u&&i.push(Wt(u,s,r,o,a,n))}else{let u=l();i.push(()=>u.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=U0(d)?d.default:d;o.mods[a]=d,o.components[a]=h;const p=(h.__vccOpts||h)[e];return p&&Wt(p,s,r,o,a,n)()}))}}return i}function yg(t,e){const s=[],r=[],n=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(u=>Bs(u,a))?r.push(a):s.push(a));const l=t.matched[o];l&&(e.matched.find(u=>Bs(u,l))||n.push(l))}return[s,r,n]}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let bg=()=>location.protocol+"//"+location.host;function eu(t,e){const{pathname:s,search:r,hash:n}=e,i=t.indexOf("#");if(i>-1){let o=n.includes(t.slice(i))?t.slice(i).length:1,a=n.slice(o);return a[0]!=="/"&&(a="/"+a),ya(a,"")}return ya(s,t)+r+n}function wg(t,e,s,r){let n=[],i=[],o=null;const a=({state:p})=>{const f=eu(t,location),g=s.value,y=e.value;let b=0;if(p){if(s.value=f,e.value=p,o&&o===g){o=null;return}b=y?p.position-y.position:0}else r(f);n.forEach(S=>{S(s.value,g,{delta:b,type:Ei.pop,direction:b?b>0?Yn.forward:Yn.back:Yn.unknown})})};function l(){o=s.value}function u(p){n.push(p);const f=()=>{const g=n.indexOf(p);g>-1&&n.splice(g,1)};return i.push(f),f}function d(){if(document.visibilityState==="hidden"){const{history:p}=window;if(!p.state)return;p.replaceState(de({},p.state,{scroll:Sn()}),"")}}function h(){for(const p of i)p();i=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",d),document.removeEventListener("visibilitychange",d)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",d),document.addEventListener("visibilitychange",d),{pauseListeners:l,listen:u,destroy:h}}function ka(t,e,s,r=!1,n=!1){return{back:t,current:e,forward:s,replaced:r,position:window.history.length,scroll:n?Sn():null}}function _g(t){const{history:e,location:s}=window,r={value:eu(t,s)},n={value:e.state};n.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,u,d){const h=t.indexOf("#"),p=h>-1?(s.host&&document.querySelector("base")?t:t.slice(h))+l:bg()+t+l;try{e[d?"replaceState":"pushState"](u,"",p),n.value=u}catch(f){console.error(f),s[d?"replace":"assign"](p)}}function o(l,u){i(l,de({},e.state,ka(n.value.back,l,n.value.forward,!0),u,{position:n.value.position}),!0),r.value=l}function a(l,u){const d=de({},n.value,e.state,{forward:l,scroll:Sn()});i(d.current,d,!0),i(l,de({},ka(r.value,l,null),{position:d.position+1},u),!1),r.value=l}return{location:r,state:n,push:a,replace:o}}function xg(t){t=ig(t);const e=_g(t),s=wg(t,e.state,e.location,e.replace);function r(i,o=!0){o||s.pauseListeners(),history.go(i)}const n=de({location:"",base:t,go:r,createHref:ag.bind(null,t)},e,s);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>e.state.value}),n}let hs=function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t}({});var je=function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t}(je||{});const kg={type:hs.Static,value:""},Eg=/[a-zA-Z0-9_]/;function Sg(t){if(!t)return[[]];if(t==="/")return[[kg]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${s})/"${u}": ${f}`)}let s=je.Static,r=s;const n=[];let i;function o(){i&&n.push(i),i=[]}let a=0,l,u="",d="";function h(){u&&(s===je.Static?i.push({type:hs.Static,value:u}):s===je.Param||s===je.ParamRegExp||s===je.ParamRegExpEnd?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:hs.Param,value:u,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function p(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&s!==je.ParamRegExp){r=s,s=je.EscapeNext;continue}switch(s){case je.Static:l==="/"?(u&&h(),o()):l===":"?(h(),s=je.Param):p();break;case je.EscapeNext:p(),s=r;break;case je.Param:l==="("?s=je.ParamRegExp:Eg.test(l)?p():(h(),s=je.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case je.ParamRegExp:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:s=je.ParamRegExpEnd:d+=l;break;case je.ParamRegExpEnd:h(),s=je.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--,d="";break;default:e("Unknown state");break}}return s===je.ParamRegExp&&e(`Unfinished custom RegExp for param "${u}"`),h(),o(),n}const Ea="[^/]+?",Og={sensitive:!1,strict:!1,start:!0,end:!0};var ze=function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t}(ze||{});const Tg=/[.+*?^${}()[\]/\\]/g;function Ag(t,e){const s=de({},Og,e),r=[];let n=s.start?"^":"";const i=[];for(const u of t){const d=u.length?[]:[ze.Root];s.strict&&!u.length&&(n+="/");for(let h=0;h<u.length;h++){const p=u[h];let f=ze.Segment+(s.sensitive?ze.BonusCaseSensitive:0);if(p.type===hs.Static)h||(n+="/"),n+=p.value.replace(Tg,"\\$&"),f+=ze.Static;else if(p.type===hs.Param){const{value:g,repeatable:y,optional:b,regexp:S}=p;i.push({name:g,repeatable:y,optional:b});const x=S||Ea;if(x!==Ea){f+=ze.BonusCustomRegExp;try{`${x}`}catch(j){throw new Error(`Invalid custom RegExp for param "${g}" (${x}): `+j.message)}}let w=y?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;h||(w=b&&u.length<2?`(?:/${w})`:"/"+w),b&&(w+="?"),n+=w,f+=ze.Dynamic,b&&(f+=ze.BonusOptional),y&&(f+=ze.BonusRepeatable),x===".*"&&(f+=ze.BonusWildcard)}d.push(f)}r.push(d)}if(s.strict&&s.end){const u=r.length-1;r[u][r[u].length-1]+=ze.BonusStrict}s.strict||(n+="/?"),s.end?n+="$":s.strict&&!n.endsWith("/")&&(n+="(?:/|$)");const o=new RegExp(n,s.sensitive?"":"i");function a(u){const d=u.match(o),h={};if(!d)return null;for(let p=1;p<d.length;p++){const f=d[p]||"",g=i[p-1];h[g.name]=f&&g.repeatable?f.split("/"):f}return h}function l(u){let d="",h=!1;for(const p of t){(!h||!d.endsWith("/"))&&(d+="/"),h=!1;for(const f of p)if(f.type===hs.Static)d+=f.value;else if(f.type===hs.Param){const{value:g,repeatable:y,optional:b}=f,S=g in u?u[g]:"";if(gt(S)&&!y)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const x=gt(S)?S.join("/"):S;if(!x)if(b)p.length<2&&(d.endsWith("/")?d=d.slice(0,-1):h=!0);else throw new Error(`Missing required param "${g}"`);d+=x}}return d||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function Cg(t,e){let s=0;for(;s<t.length&&s<e.length;){const r=e[s]-t[s];if(r)return r;s++}return t.length<e.length?t.length===1&&t[0]===ze.Static+ze.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===ze.Static+ze.Segment?1:-1:0}function tu(t,e){let s=0;const r=t.score,n=e.score;for(;s<r.length&&s<n.length;){const i=Cg(r[s],n[s]);if(i)return i;s++}if(Math.abs(n.length-r.length)===1){if(Sa(r))return 1;if(Sa(n))return-1}return n.length-r.length}function Sa(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const jg={strict:!1,end:!0,sensitive:!1};function Pg(t,e,s){const r=Ag(Sg(t.path),s),n=de(r,{record:t,parent:e,children:[],alias:[]});return e&&!n.record.aliasOf==!e.record.aliasOf&&e.children.push(n),n}function Rg(t,e){const s=[],r=new Map;e=va(jg,e);function n(h){return r.get(h)}function i(h,p,f){const g=!f,y=Ta(h);y.aliasOf=f&&f.record;const b=va(e,h),S=[y];if("alias"in h){const j=typeof h.alias=="string"?[h.alias]:h.alias;for(const D of j)S.push(Ta(de({},y,{components:f?f.record.components:y.components,path:D,aliasOf:f?f.record:y})))}let x,w;for(const j of S){const{path:D}=j;if(p&&D[0]!=="/"){const F=p.record.path,k=F[F.length-1]==="/"?"":"/";j.path=p.record.path+(D&&k+D)}if(x=Pg(j,p,b),f?f.alias.push(x):(w=w||x,w!==x&&w.alias.push(x),g&&h.name&&!Aa(x)&&o(h.name)),su(x)&&l(x),y.children){const F=y.children;for(let k=0;k<F.length;k++)i(F[k],x,f&&f.children[k])}f=f||x}return w?()=>{o(w)}:cr}function o(h){if(Xc(h)){const p=r.get(h);p&&(r.delete(h),s.splice(s.indexOf(p),1),p.children.forEach(o),p.alias.forEach(o))}else{const p=s.indexOf(h);p>-1&&(s.splice(p,1),h.record.name&&r.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return s}function l(h){const p=Ng(h,s);s.splice(p,0,h),h.record.name&&!Aa(h)&&r.set(h.record.name,h)}function u(h,p){let f,g={},y,b;if("name"in h&&h.name){if(f=r.get(h.name),!f)throw zs(Se.MATCHER_NOT_FOUND,{location:h});b=f.record.name,g=de(Oa(p.params,f.keys.filter(w=>!w.optional).concat(f.parent?f.parent.keys.filter(w=>w.optional):[]).map(w=>w.name)),h.params&&Oa(h.params,f.keys.map(w=>w.name))),y=f.stringify(g)}else if(h.path!=null)y=h.path,f=s.find(w=>w.re.test(y)),f&&(g=f.parse(y),b=f.record.name);else{if(f=p.name?r.get(p.name):s.find(w=>w.re.test(p.path)),!f)throw zs(Se.MATCHER_NOT_FOUND,{location:h,currentLocation:p});b=f.record.name,g=de({},p.params,h.params),y=f.stringify(g)}const S=[];let x=f;for(;x;)S.unshift(x.record),x=x.parent;return{name:b,path:y,params:g,matched:S,meta:Ig(S)}}t.forEach(h=>i(h));function d(){s.length=0,r.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:d,getRoutes:a,getRecordMatcher:n}}function Oa(t,e){const s={};for(const r of e)r in t&&(s[r]=t[r]);return s}function Ta(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:$g(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function $g(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const r in t.components)e[r]=typeof s=="object"?s[r]:s;return e}function Aa(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Ig(t){return t.reduce((e,s)=>de(e,s.meta),{})}function Ng(t,e){let s=0,r=e.length;for(;s!==r;){const i=s+r>>1;tu(t,e[i])<0?r=i:s=i+1}const n=Lg(t);return n&&(r=e.lastIndexOf(n,r-1)),r}function Lg(t){let e=t;for(;e=e.parent;)if(su(e)&&tu(t,e)===0)return e}function su({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Ca(t){const e=lt(On),s=lt(no),r=Ne(()=>{const l=ft(t.to);return e.resolve(l)}),n=Ne(()=>{const{matched:l}=r.value,{length:u}=l,d=l[u-1],h=s.matched;if(!d||!h.length)return-1;const p=h.findIndex(Bs.bind(null,d));if(p>-1)return p;const f=ja(l[u-2]);return u>1&&ja(d)===f&&h[h.length-1].path!==f?h.findIndex(Bs.bind(null,l[u-2])):p}),i=Ne(()=>n.value>-1&&zg(s.params,r.value.params)),o=Ne(()=>n.value>-1&&n.value===s.matched.length-1&&Qc(s.params,r.value.params));function a(l={}){if(Bg(l)){const u=e[ft(t.replace)?"replace":"push"](ft(t.to)).catch(cr);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:Ne(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}function Dg(t){return t.length===1?t[0]:t}const Mg=Fe({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Ca,setup(t,{slots:e}){const s=Je(Ca(t)),{options:r}=lt(On),n=Ne(()=>({[Pa(t.activeClass,r.linkActiveClass,"router-link-active")]:s.isActive,[Pa(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=e.default&&Dg(e.default(s));return t.custom?i:Ml("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:n.value},i)}}}),Ug=Mg;function Bg(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function zg(t,e){for(const s in e){const r=e[s],n=t[s];if(typeof r=="string"){if(r!==n)return!1}else if(!gt(n)||n.length!==r.length||r.some((i,o)=>i!==n[o]))return!1}return!0}function ja(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Pa=(t,e,s)=>t??e??s,Vg=Fe({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const r=lt(Oi),n=Ne(()=>t.route||r.value),i=lt(xa,0),o=Ne(()=>{let u=ft(i);const{matched:d}=n.value;let h;for(;(h=d[u])&&!h.components;)u++;return u}),a=Ne(()=>n.value.matched[o.value]);Ur(xa,Ne(()=>o.value+1)),Ur(vg,a),Ur(Oi,n);const l=U();return Nt(()=>[l.value,a.value,t.name],([u,d,h],[p,f,g])=>{d&&(d.instances[h]=u,f&&f!==d&&u&&u===p&&(d.leaveGuards.size||(d.leaveGuards=f.leaveGuards),d.updateGuards.size||(d.updateGuards=f.updateGuards))),u&&d&&(!f||!Bs(d,f)||!p)&&(d.enterCallbacks[h]||[]).forEach(y=>y(u))},{flush:"post"}),()=>{const u=n.value,d=t.name,h=a.value,p=h&&h.components[d];if(!p)return Ra(s.default,{Component:p,route:u});const f=h.props[d],g=f?f===!0?u.params:typeof f=="function"?f(u):f:null,b=Ml(p,de({},g,e,{onVnodeUnmounted:S=>{S.component.isUnmounted&&(h.instances[d]=null)},ref:l}));return Ra(s.default,{Component:b,route:u})||b}}});function Ra(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const qg=Vg;function Fg(t){const e=Rg(t.routes,t),s=t.parseQuery||gg,r=t.stringifyQuery||_a,n=t.history,i=Js(),o=Js(),a=Js(),l=Lu(zt);let u=zt;Ps&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=Gn.bind(null,T=>""+T),h=Gn.bind(null,X0),p=Gn.bind(null,yr);function f(T,H){let z,K;return Xc(T)?(z=e.getRecordMatcher(T),K=H):K=T,e.addRoute(K,z)}function g(T){const H=e.getRecordMatcher(T);H&&e.removeRoute(H)}function y(){return e.getRoutes().map(T=>T.record)}function b(T){return!!e.getRecordMatcher(T)}function S(T,H){if(H=de({},H||l.value),typeof T=="string"){const _=Jn(s,T,H.path),O=e.resolve({path:_.path},H),A=n.createHref(_.fullPath);return de(_,O,{params:p(O.params),hash:yr(_.hash),redirectedFrom:void 0,href:A})}let z;if(T.path!=null)z=de({},T,{path:Jn(s,T.path,H.path).path});else{const _=de({},T.params);for(const O in _)_[O]==null&&delete _[O];z=de({},T,{params:h(_)}),H.params=h(H.params)}const K=e.resolve(z,H),oe=T.hash||"";K.params=d(p(K.params));const m=tg(r,de({},T,{hash:J0(oe),path:K.path})),v=n.createHref(m);return de({fullPath:m,hash:oe,query:r===_a?mg(T.query):T.query||{}},K,{redirectedFrom:void 0,href:v})}function x(T){return typeof T=="string"?Jn(s,T,l.value.path):de({},T)}function w(T,H){if(u!==T)return zs(Se.NAVIGATION_CANCELLED,{from:H,to:T})}function j(T){return k(T)}function D(T){return j(de(x(T),{replace:!0}))}function F(T,H){const z=T.matched[T.matched.length-1];if(z&&z.redirect){const{redirect:K}=z;let oe=typeof K=="function"?K(T,H):K;return typeof oe=="string"&&(oe=oe.includes("?")||oe.includes("#")?oe=x(oe):{path:oe},oe.params={}),de({query:T.query,hash:T.hash,params:oe.path!=null?{}:T.params},oe)}}function k(T,H){const z=u=S(T),K=l.value,oe=T.state,m=T.force,v=T.replace===!0,_=F(z,K);if(_)return k(de(x(_),{state:typeof _=="object"?de({},oe,_.state):oe,force:m,replace:v}),H||z);const O=z;O.redirectedFrom=H;let A;return!m&&sg(r,K,z)&&(A=zs(Se.NAVIGATION_DUPLICATED,{to:O,from:K}),yt(K,K,!0,!1)),(A?Promise.resolve(A):ue(O,K)).catch(E=>jt(E)?jt(E,Se.NAVIGATION_GUARD_REDIRECT)?E:Ut(E):le(E,O,K)).then(E=>{if(E){if(jt(E,Se.NAVIGATION_GUARD_REDIRECT))return k(de({replace:v},x(E.to),{state:typeof E.to=="object"?de({},oe,E.to.state):oe,force:m}),H||O)}else E=V(O,K,!0,v,oe);return B(O,K,E),E})}function Q(T,H){const z=w(T,H);return z?Promise.reject(z):Promise.resolve()}function R(T){const H=ws.values().next().value;return H&&typeof H.runWithContext=="function"?H.runWithContext(T):T()}function ue(T,H){let z;const[K,oe,m]=yg(T,H);z=Qn(K.reverse(),"beforeRouteLeave",T,H);for(const _ of K)_.leaveGuards.forEach(O=>{z.push(Wt(O,T,H))});const v=Q.bind(null,T,H);return z.push(v),ot(z).then(()=>{z=[];for(const _ of i.list())z.push(Wt(_,T,H));return z.push(v),ot(z)}).then(()=>{z=Qn(oe,"beforeRouteUpdate",T,H);for(const _ of oe)_.updateGuards.forEach(O=>{z.push(Wt(O,T,H))});return z.push(v),ot(z)}).then(()=>{z=[];for(const _ of m)if(_.beforeEnter)if(gt(_.beforeEnter))for(const O of _.beforeEnter)z.push(Wt(O,T,H));else z.push(Wt(_.beforeEnter,T,H));return z.push(v),ot(z)}).then(()=>(T.matched.forEach(_=>_.enterCallbacks={}),z=Qn(m,"beforeRouteEnter",T,H,R),z.push(v),ot(z))).then(()=>{z=[];for(const _ of o.list())z.push(Wt(_,T,H));return z.push(v),ot(z)}).catch(_=>jt(_,Se.NAVIGATION_CANCELLED)?_:Promise.reject(_))}function B(T,H,z){a.list().forEach(K=>R(()=>K(T,H,z)))}function V(T,H,z,K,oe){const m=w(T,H);if(m)return m;const v=H===zt,_=Ps?history.state:{};z&&(K||v?n.replace(T.fullPath,de({scroll:v&&_&&_.scroll},oe)):n.push(T.fullPath,oe)),l.value=T,yt(T,H,z,v),Ut()}let me;function be(){me||(me=n.listen((T,H,z)=>{if(!ts.listening)return;const K=S(T),oe=F(K,ts.currentRoute.value);if(oe){k(de(oe,{replace:!0,force:!0}),K).catch(cr);return}u=K;const m=l.value;Ps&&ug(wa(m.fullPath,z.delta),Sn()),ue(K,m).catch(v=>jt(v,Se.NAVIGATION_ABORTED|Se.NAVIGATION_CANCELLED)?v:jt(v,Se.NAVIGATION_GUARD_REDIRECT)?(k(de(x(v.to),{force:!0}),K).then(_=>{jt(_,Se.NAVIGATION_ABORTED|Se.NAVIGATION_DUPLICATED)&&!z.delta&&z.type===Ei.pop&&n.go(-1,!1)}).catch(cr),Promise.reject()):(z.delta&&n.go(-z.delta,!1),le(v,K,m))).then(v=>{v=v||V(K,m,!1),v&&(z.delta&&!jt(v,Se.NAVIGATION_CANCELLED)?n.go(-z.delta,!1):z.type===Ei.pop&&jt(v,Se.NAVIGATION_ABORTED|Se.NAVIGATION_DUPLICATED)&&n.go(-1,!1)),B(K,m,v)}).catch(cr)}))}let Ye=Js(),ge=Js(),ee;function le(T,H,z){Ut(T);const K=ge.list();return K.length?K.forEach(oe=>oe(T,H,z)):console.error(T),Promise.reject(T)}function it(){return ee&&l.value!==zt?Promise.resolve():new Promise((T,H)=>{Ye.add([T,H])})}function Ut(T){return ee||(ee=!T,be(),Ye.list().forEach(([H,z])=>T?z(T):H()),Ye.reset()),T}function yt(T,H,z,K){const{scrollBehavior:oe}=t;if(!Ps||!oe)return Promise.resolve();const m=!z&&dg(wa(T.fullPath,0))||(K||!z)&&history.state&&history.state.scroll||null;return vn().then(()=>oe(T,H,m)).then(v=>v&&cg(v)).catch(v=>le(v,T,H))}const He=T=>n.go(T);let bs;const ws=new Set,ts={currentRoute:l,listening:!0,addRoute:f,removeRoute:g,clearRoutes:e.clearRoutes,hasRoute:b,getRoutes:y,resolve:S,options:t,push:j,replace:D,go:He,back:()=>He(-1),forward:()=>He(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:ge.add,isReady:it,install(T){T.component("RouterLink",Ug),T.component("RouterView",qg),T.config.globalProperties.$router=ts,Object.defineProperty(T.config.globalProperties,"$route",{enumerable:!0,get:()=>ft(l)}),Ps&&!bs&&l.value===zt&&(bs=!0,j(n.location).catch(K=>{}));const H={};for(const K in zt)Object.defineProperty(H,K,{get:()=>l.value[K],enumerable:!0});T.provide(On,ts),T.provide(no,nl(H)),T.provide(Oi,l);const z=T.unmount;ws.add(T),T.unmount=function(){ws.delete(T),ws.size<1&&(u=zt,me&&me(),me=null,l.value=zt,bs=!1,ee=!1),z()}}};function ot(T){return T.reduce((H,z)=>H.then(()=>R(z)),Promise.resolve())}return ts}function ys(){return lt(On)}function Tn(t){return lt(no)}const Hg={class:"min-h-screen bg-gray-50"},Wg={key:0,class:"fixed inset-0 bg-white bg-opacity-80 flex items-center justify-center z-50"},Kg={class:"text-center"},Gg={key:0,class:"text-sm text-gray-500 mt-2"},Jg={key:1,class:"bg-red-50 border border-red-200 rounded-lg p-4 mx-4 mt-4"},Yg={class:"flex items-center"},Qg={class:"text-red-700"},Xg={class:"bg-white shadow-sm border-b border-gray-200"},Zg={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},em={class:"flex justify-between h-16"},tm={class:"flex items-center space-x-8"},sm={class:"hidden md:flex items-center space-x-4"},rm={class:"flex items-center space-x-4"},nm={class:"flex items-center space-x-2"},im=["src"],om={class:"text-sm font-medium text-gray-700"},am={key:0,class:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full"},lm=["disabled"],cm={class:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8"},um={class:"mb-8"},dm={class:"text-3xl font-bold text-gray-900 mb-2"},hm={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},fm={class:"card p-6"},pm={class:"flex items-center"},gm={class:"text-2xl font-bold text-gray-900"},mm={key:0,class:"text-xs text-gray-500 mt-1"},vm={class:"card p-6"},ym={class:"flex items-center"},bm={class:"text-2xl font-bold text-gray-900"},wm={key:0,class:"text-xs text-gray-500 mt-1"},_m={class:"card p-6"},xm={class:"flex items-center"},km={class:"text-2xl font-bold text-gray-900"},Em={key:0,class:"text-xs text-gray-500 mt-1"},Sm={class:"card p-6"},Om={class:"flex items-center"},Tm={class:"text-2xl font-bold text-gray-900"},Am={key:0,class:"text-xs text-gray-500 mt-1"},Cm={key:0,class:"mb-6"},jm={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},Pm={class:"lg:col-span-2"},Rm={class:"card p-6"},$m={class:"flex justify-between items-center mb-6"},Im={class:"space-y-4"},Nm={class:"flex justify-between items-start mb-2"},Lm={class:"font-medium text-gray-900"},Dm={class:"text-sm text-gray-600 mb-3"},Mm={class:"flex justify-between items-center text-xs text-gray-500"},Um={key:0,class:"text-center py-8 text-gray-500"},Bm={class:"space-y-6"},zm={class:"card p-6"},Vm={class:"space-y-3"},qm={class:"text-sm text-blue-700"},Fm=Fe({__name:"Dashboard",setup(t){const e=ys(),s=At(),r=kr(),n=Er(),i=Ne(()=>l.value?.display_name?l.value.display_name:s.user?.user_metadata?.name||s.user?.email?.split("@")[0]||""),o=Ne(()=>l.value?.avatar_url||s.user?.user_metadata?.avatar_url||"/default-avatar.png"),a=Ne(()=>l.value?.role||"member"),l=U(null),u=U({activeProjects:0,pendingTasks:0,organizations:0,aiChats:0}),d=U([]),h=U([]),p=U(!0),f=U(""),g=U(""),y=B=>new Date(B).toLocaleDateString("zh-CN");async function b(){try{await s.logout(),e.push("/login")}catch(B){console.error("Logout error:",B)}}async function S(){await ue()}async function x(){g.value="",await ue()}function w(){const B=new CustomEvent("show-ai-chat");window.dispatchEvent(B)}async function j(){try{e.push("/organizations?action=create")}catch(B){console.error(":",B),g.value=""}}async function D(){try{if(r.organizations.length===0){window.confirm("")&&e.push("/organizations?action=create");return}e.push("/project-management?action=create")}catch(B){console.error(":",B),g.value=""}}async function F(){try{const B=s.user?.id;if(!B){console.log("ID");return}f.value="...",l.value=await ln.getUserProfile(B),console.log(" :",l.value)}catch(B){console.error(":",B),B?.code==="PGRST116"||B?.message?.includes("does not exist")?g.value="":l.value={display_name:s.user?.email?.split("@")[0]||"",role:"member",is_active:!0}}}async function k(){try{const B=s.user?.id;if(!B){console.log("ID");return}f.value="...",await r.fetchOrganizations(B),console.log(" :",r.organizations.length);let V=0,me=0;if(r.organizations.length>0){f.value="...";for(const be of r.organizations)try{await n.fetchProjects(be.id);const Ye=n.projects.filter(ge=>ge.status==="active");V+=Ye.length,f.value="...";for(const ge of Ye)try{const le=(await Fc.getProjectTasks(ge.id)).filter(it=>it.status==="todo"||it.status==="in_progress");me+=le.length}catch(ee){console.warn(":",ee),me+=3}}catch(Ye){console.warn(":",Ye)}}f.value="AI...";try{const be=await c0.getUserChatHistory(B);u.value.aiChats=be.length}catch(be){console.warn("AI:",be),u.value.aiChats=0}u.value={activeProjects:V,pendingTasks:me,organizations:r.organizations.length,aiChats:u.value.aiChats},console.log(" :",u.value)}catch(B){console.error(":",B),B?.code==="PGRST116"||B?.message?.includes("does not exist")?g.value="":B?.message?.includes("JWT")?g.value="":B?.message?.includes("network")||B?.message?.includes("fetch")?g.value="":g.value=`: ${B.message}`,u.value={activeProjects:0,pendingTasks:0,organizations:0,aiChats:0}}}async function Q(){try{const B=[];for(const V of r.organizations)try{await n.fetchProjects(V.id),B.push(...n.projects)}catch(me){console.warn(` ${V.name} :`,me)}d.value=B.sort((V,me)=>new Date(me.created_at).getTime()-new Date(V.created_at).getTime()).slice(0,5),console.log(" :",d.value.length)}catch(B){console.error(":",B),d.value=[]}}async function R(){try{const B=[];u.value.pendingTasks>10&&B.push({id:1,message:`${u.value.pendingTasks}`}),u.value.activeProjects>0&&B.push({id:2,message:`${u.value.activeProjects}`}),u.value.organizations===0&&B.push({id:3,message:""}),B.length===0&&B.push({id:4,message:"AI"}),h.value=B}catch(B){console.error("AI:",B),h.value=[{id:1,message:"AI"}]}}async function ue(){p.value=!0,g.value="";try{if(!s.user?.id){console.log(""),setTimeout(()=>{s.user?.id?ue():(p.value=!1,g.value="")},2e3);return}console.log(" ID:",s.user.id),f.value="...",await Promise.all([F(),k(),Q()]),f.value="AI...",await R(),console.log(" :",{:l.value?"":"",:r.organizations.length,:u.value.activeProjects,:u.value.pendingTasks,AI:u.value.aiChats,:d.value.length})}catch(B){console.error(" :",B),B?.code==="42P17"&&B?.message?.includes("infinite recursion")?(console.warn(""),g.value="",h.value=[{id:1,message:""}]):B?.message?.includes("JWT")?(console.warn(""),g.value="",h.value=[{id:1,message:""}]):B?.message?.includes("does not exist")?g.value="":g.value=`: ${B.message}`,u.value={activeProjects:0,pendingTasks:0,organizations:0,aiChats:0},d.value=[],h.value.length===0&&(h.value=[{id:1,message:""}])}finally{p.value=!1,f.value=""}}return Nt(()=>s.user?.id,B=>{B&&(console.log("ID:",B),ue())}),Nt(()=>e.currentRoute.value.path,B=>{B==="/"&&s.user?.id&&(console.log(""),ue())}),mt(async()=>{await ue()}),(B,V)=>{const me=vt("RouterLink");return C(),P("div",Hg,[p.value?(C(),P("div",Wg,[c("div",Kg,[V[0]||(V[0]=c("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"},null,-1)),V[1]||(V[1]=c("p",{class:"text-gray-600"},"...",-1)),f.value?(C(),P("p",Gg,I(f.value),1)):ne("",!0)])])):ne("",!0),g.value?(C(),P("div",Jg,[c("div",Yg,[V[2]||(V[2]=c("svg",{class:"w-5 h-5 text-red-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[c("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1)),c("span",Qg,I(g.value),1),c("button",{onClick:x,class:"ml-4 text-sm bg-red-100 hover:bg-red-200 text-red-700 px-3 py-1 rounded"},"  ")])])):ne("",!0),c("nav",Xg,[c("div",Zg,[c("div",em,[c("div",tm,[V[6]||(V[6]=c("h1",{class:"text-xl font-semibold text-gray-900"},"AI",-1)),c("div",sm,[pe(me,{to:"/",class:"text-blue-600 font-medium border-b-2 border-blue-600"},{default:qe(()=>[...V[3]||(V[3]=[re("  ",-1)])]),_:1}),pe(me,{to:"/project-management",class:"text-gray-700 hover:text-blue-600 font-medium"},{default:qe(()=>[...V[4]||(V[4]=[re("  ",-1)])]),_:1}),pe(me,{to:"/organizations",class:"text-gray-700 hover:text-blue-600 font-medium"},{default:qe(()=>[...V[5]||(V[5]=[re("  ",-1)])]),_:1})])]),c("div",rm,[c("div",nm,[c("img",{src:o.value,class:"w-8 h-8 rounded-full",alt:""},null,8,im),c("span",om,I(i.value),1),a.value?(C(),P("span",am,I(a.value),1)):ne("",!0)]),c("button",{onClick:b,class:"btn btn-outline text-sm"},"  "),c("button",{onClick:S,class:"btn btn-outline text-sm",disabled:p.value},[(C(),P("svg",{class:$e(["w-4 h-4 mr-1",{"animate-spin":p.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...V[7]||(V[7]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])],2)),V[8]||(V[8]=re("  ",-1))],8,lm)])])])]),c("main",cm,[c("div",um,[c("h2",dm,""+I(i.value)+"",1),V[9]||(V[9]=c("p",{class:"text-gray-600"},"AI",-1))]),c("div",hm,[c("div",fm,[c("div",pm,[V[11]||(V[11]=c("div",{class:"p-3 rounded-full bg-blue-100 text-blue-600 mr-4"},[c("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})])],-1)),c("div",null,[V[10]||(V[10]=c("p",{class:"text-sm font-medium text-gray-600"},"",-1)),c("p",gm,I(u.value.activeProjects),1),u.value.activeProjects===0?(C(),P("p",mm,"")):ne("",!0)])])]),c("div",vm,[c("div",ym,[V[13]||(V[13]=c("div",{class:"p-3 rounded-full bg-orange-100 text-orange-600 mr-4"},[c("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})])],-1)),c("div",null,[V[12]||(V[12]=c("p",{class:"text-sm font-medium text-gray-600"},"",-1)),c("p",bm,I(u.value.pendingTasks),1),u.value.pendingTasks===0?(C(),P("p",wm,"")):ne("",!0)])])]),c("div",_m,[c("div",xm,[V[15]||(V[15]=c("div",{class:"p-3 rounded-full bg-green-100 text-green-600 mr-4"},[c("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])],-1)),c("div",null,[V[14]||(V[14]=c("p",{class:"text-sm font-medium text-gray-600"},"",-1)),c("p",km,I(u.value.organizations),1),u.value.organizations===0?(C(),P("p",Em,'""')):ne("",!0)])])]),c("div",Sm,[c("div",Om,[V[17]||(V[17]=c("div",{class:"p-3 rounded-full bg-purple-100 text-purple-600 mr-4"},[c("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})])],-1)),c("div",null,[V[16]||(V[16]=c("p",{class:"text-sm font-medium text-gray-600"},"AI",-1)),c("p",Tm,I(u.value.aiChats),1),u.value.aiChats===0?(C(),P("p",Am,'"AI"')):ne("",!0)])])])]),!p.value&&!g.value?(C(),P("div",Cm,[c("div",{class:"flex items-center justify-between bg-green-50 border border-green-200 rounded-lg p-4"},[V[18]||(V[18]=c("div",{class:"flex items-center"},[c("svg",{class:"w-5 h-5 text-green-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[c("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})]),c("span",{class:"text-green-700"},"")],-1)),c("button",{onClick:S,class:"text-green-600 hover:text-green-800 text-sm"},"  ")])])):ne("",!0),c("div",jm,[c("div",Pm,[c("div",Rm,[c("div",$m,[V[20]||(V[20]=c("h3",{class:"text-lg font-semibold text-gray-900"},"",-1)),pe(me,{to:"/project-management",class:"text-blue-600 hover:text-blue-700 text-sm font-medium"},{default:qe(()=>[...V[19]||(V[19]=[re("  ",-1)])]),_:1})]),c("div",Im,[(C(!0),P(Ee,null,et(d.value,be=>(C(),P("div",{key:be.id,class:"p-4 border border-gray-200 rounded-lg hover:border-blue-300 transition-colors"},[c("div",Nm,[c("h4",Lm,I(be.name),1),c("span",{class:$e(["px-2 py-1 rounded-full text-xs font-medium",be.status==="active"?"bg-green-100 text-green-800":be.status==="completed"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"])},I(be.status==="active"?"":be.status==="completed"?"":""),3)]),c("p",Dm,I(be.description),1),c("div",Mm,[c("span",null,": "+I(be.progress_percentage)+"%",1),c("span",null,": "+I(y(be.created_at)),1)])]))),128)),d.value.length===0?(C(),P("div",Um,[...V[21]||(V[21]=[c("p",null,"",-1)])])):ne("",!0)])])]),c("div",Bm,[c("div",{class:"card p-6"},[V[22]||(V[22]=c("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"",-1)),c("div",{class:"space-y-3"},[c("button",{onClick:j,class:"btn btn-primary w-full justify-center"},"  "),c("button",{onClick:D,class:"btn btn-secondary w-full justify-center"},"  "),c("button",{onClick:w,class:"btn btn-outline w-full justify-center"}," AI ")])]),c("div",zm,[V[23]||(V[23]=c("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"AI",-1)),c("div",Vm,[(C(!0),P(Ee,null,et(h.value,be=>(C(),P("div",{key:be.id,class:"p-3 bg-blue-50 rounded-lg"},[c("p",qm,I(be.message),1)]))),128))])])])])])])}}}),Hm=Hs(Fm,[["__scopeId","data-v-91734a1c"]]),Wm={class:"min-h-screen bg-gray-50"},Km={class:"bg-white shadow-sm border-b border-gray-200"},Gm={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Jm={class:"flex justify-between h-16"},Ym={class:"flex items-center space-x-8"},Qm={class:"flex items-center space-x-4"},Xm={class:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8"},Zm={class:"mb-8"},ev={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},tv={class:"card p-6 text-center"},sv={class:"text-3xl font-bold text-blue-600 mb-2"},rv={class:"card p-6 text-center"},nv={class:"text-3xl font-bold text-green-600 mb-2"},iv={class:"card p-6 text-center"},ov={class:"text-3xl font-bold text-orange-600 mb-2"},av={class:"mb-8"},lv={class:"flex justify-between items-center mb-4"},cv={class:"text-sm text-gray-600"},uv={key:0,class:"text-center py-8"},dv={key:1,class:"card p-8 text-center"},hv={class:"mt-6"},fv={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},pv=["onClick"],gv={class:"flex justify-between items-start mb-3"},mv={class:"text-lg font-semibold text-gray-900"},vv={class:"text-sm text-gray-600 mb-4"},yv={class:"flex justify-between items-center text-xs text-gray-500"},bv={class:"mb-8"},wv={key:0,class:"card p-6 text-center text-gray-500"},_v={key:1,class:"space-y-3"},xv={class:"flex justify-between items-start"},kv={class:"font-medium text-gray-900"},Ev={class:"flex justify-between items-center mt-2 text-xs text-gray-500"},Sv={key:0},Ov={class:"card p-6"},Tv={class:"space-y-3"},Av={class:"text-sm text-blue-700"},Cv={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},jv={class:"bg-white rounded-lg max-w-md w-full p-6"},Pv={class:"space-y-4"},Rv=["value"],$v={key:0,class:"text-red-600 text-sm mt-2"},Iv={class:"flex justify-end space-x-3 mt-6"},Nv=["disabled"],Lv={key:1,class:"fixed bottom-6 right-6 z-50 w-96 h-96 bg-white rounded-lg shadow-xl border border-gray-200 flex flex-col"},Dv={class:"flex-1 p-4 overflow-y-auto bg-gray-50"},Mv={key:0,class:"flex items-start space-x-2"},Uv={class:"bg-white p-3 rounded-lg shadow-sm border border-gray-200 max-w-xs"},Bv={class:"text-sm text-gray-800"},zv={key:1,class:"flex items-start space-x-2 justify-end"},Vv={class:"bg-blue-100 p-3 rounded-lg shadow-sm border border-blue-200 max-w-xs"},qv={class:"text-sm text-blue-800"},Fv={class:"p-4 border-t border-gray-200"},Hv={class:"flex space-x-2"},Wv=["disabled"],Kv=Fe({__name:"ProjectManagement",setup(t){ys();const e=At(),s=kr(),r=Er(),n=U([]),i=U([]),o=U(!1),a=U([{text:""},{text:""},{text:""}]),l=U(!1),u=U(!1),d=U(""),h=Je({name:"",description:"",organization_id:""}),p=U(!1),f=U([{text:"AI",isUser:!1}]),g=U("");async function y(){o.value=!0;try{await s.fetchOrganizations(e.user?.id),n.value=[];for(const F of s.organizations)await r.fetchProjects(F.id),n.value.push(...r.projects);n.value.length>0&&await b()}catch(F){console.error(":",F)}finally{o.value=!1}}async function b(){try{i.value=[];for(const F of n.value){const k=await Fc.getProjectTasks(F.id);i.value.push(...k)}}catch(F){console.error(":",F)}}async function S(){if(!h.name.trim()){d.value="";return}if(!h.organization_id){d.value="";return}u.value=!0,d.value="";try{await r.createProject({name:h.name,description:h.description,organization_id:h.organization_id,owner_id:e.user?.id}),l.value=!1,h.name="",h.description="",h.organization_id="",await y()}catch(F){d.value=F.message||""}finally{u.value=!1}}const x=()=>{p.value=!0},w=()=>{p.value=!1},j=()=>{g.value.trim()!==""&&(f.value.push({text:g.value,isUser:!0}),setTimeout(()=>{f.value.push({text:"",isUser:!1})},1e3),g.value="")},D=()=>{alert("")};return mt(async()=>{await y()}),(F,k)=>{const Q=vt("RouterLink");return C(),P("div",Wm,[c("nav",Km,[c("div",Gm,[c("div",Jm,[c("div",Ym,[pe(Q,{to:"/",class:"text-gray-600 hover:text-gray-900"},{default:qe(()=>[...k[7]||(k[7]=[re("   ",-1)])]),_:1}),k[8]||(k[8]=c("h1",{class:"text-xl font-semibold text-gray-900"},"",-1))]),c("div",Qm,[c("button",{onClick:k[0]||(k[0]=R=>l.value=!0),class:"btn btn-primary"},"  ")])])])]),c("main",Xm,[c("div",Zm,[k[12]||(k[12]=c("h2",{class:"text-2xl font-bold text-gray-900 mb-4"},"",-1)),c("div",ev,[c("div",tv,[c("div",sv,I(n.value.length),1),k[9]||(k[9]=c("div",{class:"text-sm text-gray-600"},"",-1))]),c("div",rv,[c("div",nv,I(n.value.filter(R=>R.status==="active").length),1),k[10]||(k[10]=c("div",{class:"text-sm text-gray-600"},"",-1))]),c("div",iv,[c("div",ov,I(i.value.filter(R=>R.status==="todo"||R.status==="in_progress").length),1),k[11]||(k[11]=c("div",{class:"text-sm text-gray-600"},"",-1))])])]),c("div",av,[c("div",lv,[k[13]||(k[13]=c("h2",{class:"text-xl font-semibold text-gray-900"},"",-1)),c("div",cv,"  "+I(n.value.length)+"  ",1)]),o.value?(C(),P("div",uv,[...k[14]||(k[14]=[c("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"},null,-1),c("p",{class:"mt-2 text-sm text-gray-600"},"...",-1)])])):n.value.length===0?(C(),P("div",dv,[k[15]||(k[15]=c("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),k[16]||(k[16]=c("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"",-1)),k[17]||(k[17]=c("p",{class:"mt-1 text-sm text-gray-500"},"",-1)),c("div",hv,[c("button",{onClick:k[1]||(k[1]=R=>l.value=!0),class:"btn btn-primary"},"  ")])])):(C(),P("div",fv,[(C(!0),P(Ee,null,et(n.value,R=>(C(),P("div",{key:R.id,class:"card p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:ue=>F.$router.push(`/projects/${R.id}`)},[c("div",gv,[c("h3",mv,I(R.name),1),c("span",{class:$e(["px-2 py-1 rounded-full text-xs font-medium",R.status==="active"?"bg-green-100 text-green-800":R.status==="completed"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"])},I(R.status==="active"?"":R.status==="completed"?"":""),3)]),c("p",vv,I(R.description||""),1),c("div",yv,[c("span",null,": "+I(R.progress_percentage||0)+"%",1),c("span",null,I(new Date(R.created_at).toLocaleDateString("zh-CN")),1)])],8,pv))),128))]))]),c("div",bv,[c("div",{class:"flex justify-between items-center mb-4"},[k[18]||(k[18]=c("h2",{class:"text-xl font-semibold text-gray-900"},"",-1)),c("button",{onClick:D,class:"btn btn-outline text-sm"},"  ")]),i.value.length===0?(C(),P("div",wv,[...k[19]||(k[19]=[c("p",null,"",-1)])])):(C(),P("div",_v,[(C(!0),P(Ee,null,et(i.value.slice(0,5),R=>(C(),P("div",{key:R.id,class:"card p-4 hover:shadow-md transition-shadow"},[c("div",xv,[c("h4",kv,I(R.title),1),c("span",{class:$e(["px-2 py-1 rounded-full text-xs font-medium",R.status==="completed"?"bg-green-100 text-green-800":R.status==="in_progress"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"])},I(R.status==="completed"?"":R.status==="in_progress"?"":""),3)]),c("div",Ev,[c("span",null,": "+I(R.assignee?.display_name||""),1),R.due_date?(C(),P("span",Sv,I(new Date(R.due_date).toLocaleDateString("zh-CN")),1)):ne("",!0)])]))),128))]))]),c("div",Ov,[k[20]||(k[20]=c("h2",{class:"text-xl font-semibold text-gray-900 mb-4"},"AI",-1)),c("div",Tv,[(C(!0),P(Ee,null,et(a.value,R=>(C(),P("div",{key:R.text,class:"p-3 bg-blue-50 rounded-lg"},[c("p",Av,I(R.text),1)]))),128))])])]),l.value?(C(),P("div",Cv,[c("div",jv,[k[25]||(k[25]=c("h3",{class:"text-lg font-semibold mb-4"},"",-1)),c("form",{onSubmit:Zt(S,["prevent"])},[c("div",Pv,[c("div",null,[k[21]||(k[21]=c("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"",-1)),Oe(c("input",{"onUpdate:modelValue":k[2]||(k[2]=R=>h.name=R),type:"text",required:"",class:"input",placeholder:""},null,512),[[Re,h.name]])]),c("div",null,[k[22]||(k[22]=c("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"",-1)),Oe(c("textarea",{"onUpdate:modelValue":k[3]||(k[3]=R=>h.description=R),class:"input resize-none",rows:"3",placeholder:""},null,512),[[Re,h.description]])]),c("div",null,[k[24]||(k[24]=c("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"",-1)),Oe(c("select",{"onUpdate:modelValue":k[4]||(k[4]=R=>h.organization_id=R),required:"",class:"input"},[k[23]||(k[23]=c("option",{value:""},"",-1)),(C(!0),P(Ee,null,et(ft(s).organizations,R=>(C(),P("option",{key:R.id,value:R.id},I(R.name),9,Rv))),128))],512),[[Wi,h.organization_id]])])]),d.value?(C(),P("div",$v,I(d.value),1)):ne("",!0),c("div",Iv,[c("button",{type:"button",onClick:k[5]||(k[5]=R=>l.value=!1),class:"btn btn-secondary"},"  "),c("button",{type:"submit",disabled:u.value,class:"btn btn-primary"},I(u.value?"...":""),9,Nv)])],32)])])):ne("",!0),c("div",{class:"fixed bottom-6 right-6 z-50"},[c("button",{onClick:x,class:"w-14 h-14 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full shadow-lg hover:shadow-xl transform hover:scale-110 transition-all duration-200 flex items-center justify-center"},[...k[26]||(k[26]=[c("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})],-1)])])]),p.value?(C(),P("div",Lv,[c("div",{class:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-4 rounded-t-lg flex justify-between items-center"},[k[28]||(k[28]=c("div",{class:"flex items-center"},[c("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})]),c("span",{class:"font-semibold"},"AI")],-1)),c("button",{onClick:w,class:"text-white hover:text-gray-200"},[...k[27]||(k[27]=[c("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),c("div",Dv,[(C(!0),P(Ee,null,et(f.value,R=>(C(),P("div",{key:R.id,class:"mb-4"},[R.isUser?(C(),P("div",zv,[c("div",Vv,[c("p",qv,I(R.text),1)]),k[30]||(k[30]=c("div",{class:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center"},[c("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1))])):(C(),P("div",Mv,[k[29]||(k[29]=c("div",{class:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center"},[c("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})])],-1)),c("div",Uv,[c("p",Bv,I(R.text),1)])]))]))),128))]),c("div",Fv,[c("div",Hv,[Oe(c("input",{"onUpdate:modelValue":k[6]||(k[6]=R=>g.value=R),onKeyup:Bl(j,["enter"]),type:"text",placeholder:"...",class:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,544),[[Re,g.value]]),c("button",{onClick:j,disabled:!g.value.trim(),class:"px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed"},"  ",8,Wv)])])])):ne("",!0)])}}}),Gv=Hs(Kv,[["__scopeId","data-v-fa04c838"]]),Jv={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50 py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden"},Yv={class:"max-w-md w-full space-y-8 relative z-10"},Qv={class:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/50 p-8 transition-all duration-300 hover:shadow-2xl"},Xv={class:"space-y-2"},Zv={class:"relative"},ey={class:"space-y-2"},ty={class:"relative"},sy={key:0,class:"p-3 bg-red-50 border border-red-200 rounded-xl text-red-600 text-sm flex items-center"},ry=["disabled"],ny={key:0,class:"flex items-center justify-center"},iy={key:1,class:"flex items-center justify-center"},oy={class:"text-center"},ay={class:"mt-4 text-center"},ly={class:"text-sm text-gray-600"},cy=Fe({__name:"Login",setup(t){const e=ys(),s=At(),r=U(!1),n=U(""),i=Je({email:"",password:""});async function o(){if(!i.email||!i.password){n.value="";return}r.value=!0,n.value="";try{await s.login(i.email,i.password),e.push("/")}catch(a){n.value=a.message||""}finally{r.value=!1}}return(a,l)=>{const u=vt("RouterLink");return C(),P("div",Jv,[l[13]||(l[13]=c("div",{class:"absolute inset-0 overflow-hidden"},[c("div",{class:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-r from-blue-200 to-purple-200 rounded-full opacity-20 blur-3xl"}),c("div",{class:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-r from-purple-200 to-pink-200 rounded-full opacity-20 blur-3xl"}),c("div",{class:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gradient-to-r from-blue-100 to-purple-100 rounded-full opacity-10 blur-3xl"})],-1)),c("div",Yv,[l[12]||(l[12]=gs('<div class="text-center"><div class="mx-auto w-16 h-16 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center mb-6 shadow-lg"><svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"></path></svg></div><h2 class="text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent"> AI </h2><p class="mt-3 text-gray-600">  </p></div>',1)),c("div",Qv,[c("form",{class:"space-y-6",onSubmit:Zt(o,["prevent"])},[c("div",Xv,[l[3]||(l[3]=c("label",{for:"email",class:"block text-sm font-medium text-gray-700"},"",-1)),c("div",Zv,[l[2]||(l[2]=c("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[c("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})])],-1)),Oe(c("input",{id:"email","onUpdate:modelValue":l[0]||(l[0]=d=>i.email=d),type:"email",required:"",class:"block w-full pl-10 pr-3 py-3 border border-gray-200 rounded-xl bg-white/50 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 placeholder-gray-400",placeholder:""},null,512),[[Re,i.email]])])]),c("div",ey,[l[5]||(l[5]=c("label",{for:"password",class:"block text-sm font-medium text-gray-700"},"",-1)),c("div",ty,[l[4]||(l[4]=c("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[c("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})])],-1)),Oe(c("input",{id:"password","onUpdate:modelValue":l[1]||(l[1]=d=>i.password=d),type:"password",required:"",class:"block w-full pl-10 pr-3 py-3 border border-gray-200 rounded-xl bg-white/50 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 placeholder-gray-400",placeholder:""},null,512),[[Re,i.password]])])]),n.value?(C(),P("div",sy,[l[6]||(l[6]=c("svg",{class:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[c("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1)),re(" "+I(n.value),1)])):ne("",!0),c("button",{type:"submit",disabled:r.value,class:"w-full py-3 px-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-medium rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none"},[r.value?(C(),P("span",iy,[...l[8]||(l[8]=[c("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24"},[c("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),c("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),re(" ... ",-1)])])):(C(),P("span",ny,[...l[7]||(l[7]=[c("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})],-1),re("  ",-1)])]))],8,ry)],32),c("div",oy,[pe(u,{to:"/forgot-password",class:"text-sm text-blue-600 hover:text-blue-500 transition-colors duration-200"},{default:qe(()=>[...l[9]||(l[9]=[re("  ",-1)])]),_:1})]),c("div",ay,[c("p",ly,[l[11]||(l[11]=re("  ",-1)),pe(u,{to:"/register",class:"font-medium text-blue-600 hover:text-blue-500 transition-colors duration-200"},{default:qe(()=>[...l[10]||(l[10]=[re("  ",-1)])]),_:1})])])])])])}}}),uy={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 via-white to-blue-50 py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden"},dy={class:"max-w-md w-full space-y-8 relative z-10"},hy={class:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/50 p-8 transition-all duration-300 hover:shadow-2xl"},fy={class:"space-y-2"},py={class:"relative"},gy={class:"space-y-2"},my={class:"relative"},vy={class:"space-y-2"},yy={class:"relative"},by={class:"space-y-2"},wy={class:"relative"},_y={key:0,class:"p-3 bg-red-50 border border-red-200 rounded-xl text-red-600 text-sm flex items-center"},xy=["disabled"],ky={key:0,class:"flex items-center justify-center"},Ey={key:1,class:"flex items-center justify-center"},Sy={class:"mt-6 text-center"},Oy={class:"text-sm text-gray-600"},Ty=Fe({__name:"Register",setup(t){const e=ys(),s=At(),r=U(!1),n=U(""),i=Je({name:"",email:"",password:"",confirmPassword:""});async function o(){if(!i.name||!i.email||!i.password){n.value="";return}if(i.password!==i.confirmPassword){n.value="";return}if(i.password.length<6){n.value="6";return}r.value=!0,n.value="";try{await s.register(i.email,i.password,{name:i.name}),e.push("/login")}catch(a){n.value=a.message||""}finally{r.value=!1}}return(a,l)=>{const u=vt("RouterLink");return C(),P("div",uy,[l[18]||(l[18]=c("div",{class:"absolute inset-0 overflow-hidden"},[c("div",{class:"absolute -top-40 -left-40 w-80 h-80 bg-gradient-to-r from-green-200 to-blue-200 rounded-full opacity-20 blur-3xl"}),c("div",{class:"absolute -bottom-40 -right-40 w-80 h-80 bg-gradient-to-r from-blue-200 to-purple-200 rounded-full opacity-20 blur-3xl"}),c("div",{class:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gradient-to-r from-green-100 to-blue-100 rounded-full opacity-10 blur-3xl"})],-1)),c("div",dy,[l[17]||(l[17]=gs('<div class="text-center"><div class="mx-auto w-16 h-16 bg-gradient-to-r from-green-600 to-blue-600 rounded-2xl flex items-center justify-center mb-6 shadow-lg"><svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"></path></svg></div><h2 class="text-3xl font-bold bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent"> AI </h2><p class="mt-3 text-gray-600"> AI </p></div>',1)),c("div",hy,[c("form",{class:"space-y-6",onSubmit:Zt(o,["prevent"])},[c("div",fy,[l[5]||(l[5]=c("label",{for:"name",class:"block text-sm font-medium text-gray-700"},"",-1)),c("div",py,[l[4]||(l[4]=c("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[c("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1)),Oe(c("input",{id:"name","onUpdate:modelValue":l[0]||(l[0]=d=>i.name=d),type:"text",required:"",class:"block w-full pl-10 pr-3 py-3 border border-gray-200 rounded-xl bg-white/50 focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 placeholder-gray-400",placeholder:""},null,512),[[Re,i.name]])])]),c("div",gy,[l[7]||(l[7]=c("label",{for:"email",class:"block text-sm font-medium text-gray-700"},"",-1)),c("div",my,[l[6]||(l[6]=c("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[c("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})])],-1)),Oe(c("input",{id:"email","onUpdate:modelValue":l[1]||(l[1]=d=>i.email=d),type:"email",required:"",class:"block w-full pl-10 pr-3 py-3 border border-gray-200 rounded-xl bg-white/50 focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 placeholder-gray-400",placeholder:""},null,512),[[Re,i.email]])])]),c("div",vy,[l[9]||(l[9]=c("label",{for:"password",class:"block text-sm font-medium text-gray-700"},"",-1)),c("div",yy,[l[8]||(l[8]=c("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[c("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})])],-1)),Oe(c("input",{id:"password","onUpdate:modelValue":l[2]||(l[2]=d=>i.password=d),type:"password",required:"",class:"block w-full pl-10 pr-3 py-3 border border-gray-200 rounded-xl bg-white/50 focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 placeholder-gray-400",placeholder:"6"},null,512),[[Re,i.password]])])]),c("div",by,[l[11]||(l[11]=c("label",{for:"confirmPassword",class:"block text-sm font-medium text-gray-700"},"",-1)),c("div",wy,[l[10]||(l[10]=c("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[c("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})])],-1)),Oe(c("input",{id:"confirmPassword","onUpdate:modelValue":l[3]||(l[3]=d=>i.confirmPassword=d),type:"password",required:"",class:"block w-full pl-10 pr-3 py-3 border border-gray-200 rounded-xl bg-white/50 focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 placeholder-gray-400",placeholder:""},null,512),[[Re,i.confirmPassword]])])]),n.value?(C(),P("div",_y,[l[12]||(l[12]=c("svg",{class:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[c("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1)),re(" "+I(n.value),1)])):ne("",!0),c("button",{type:"submit",disabled:r.value,class:"w-full py-3 px-4 bg-gradient-to-r from-green-600 to-blue-600 text-white font-medium rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none"},[r.value?(C(),P("span",Ey,[...l[14]||(l[14]=[c("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24"},[c("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),c("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),re(" ... ",-1)])])):(C(),P("span",ky,[...l[13]||(l[13]=[c("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})],-1),re("  ",-1)])]))],8,xy)],32),c("div",Sy,[c("p",Oy,[l[16]||(l[16]=re("  ",-1)),pe(u,{to:"/login",class:"font-medium text-green-600 hover:text-green-500 transition-colors duration-200"},{default:qe(()=>[...l[15]||(l[15]=[re("  ",-1)])]),_:1})])])])])])}}}),Ay={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-yellow-50 via-white to-orange-50 py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden"},Cy={class:"max-w-md w-full space-y-8 relative z-10"},jy={class:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/50 p-8 transition-all duration-300 hover:shadow-2xl"},Py={class:"text-center space-y-6"},Ry={class:"space-y-4"},$y={class:"text-gray-600"},Iy={class:"font-medium text-blue-600"},Ny={class:"space-y-4"},Ly=["disabled"],Dy={key:0,class:"flex items-center justify-center"},My={key:1,class:"flex items-center justify-center"},Uy={key:0,class:"p-3 bg-blue-50 border border-blue-200 rounded-xl text-blue-600 text-sm"},By={key:1,class:"p-3 bg-red-50 border border-red-200 rounded-xl text-red-600 text-sm"},zy=Fe({__name:"EmailConfirmation",setup(t){const e=ys(),s=Tn(),r=U(""),n=U(!1),i=U(""),o=U("");mt(()=>{r.value=s.query.email||localStorage.getItem("pending_email")||"",s.query.token&&l(s.query.token)});async function a(){if(!r.value){o.value="";return}n.value=!0,o.value="",i.value="";try{const{error:d}=await ie.auth.resend({type:"signup",email:r.value});if(d)throw d;i.value=""}catch(d){o.value=d.message||""}finally{n.value=!1}}async function l(d){try{const{data:h,error:p}=await ie.auth.verifyOtp({token_hash:d,type:"signup"});if(p)throw p;i.value="",localStorage.removeItem("pending_email"),setTimeout(()=>{e.push("/login")},3e3)}catch(h){o.value=h.message||""}}function u(){e.push("/login")}return(d,h)=>(C(),P("div",Ay,[h[9]||(h[9]=c("div",{class:"absolute inset-0 overflow-hidden"},[c("div",{class:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-r from-yellow-200 to-orange-200 rounded-full opacity-20 blur-3xl"}),c("div",{class:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-r from-orange-200 to-red-200 rounded-full opacity-20 blur-3xl"}),c("div",{class:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gradient-to-r from-yellow-100 to-orange-100 rounded-full opacity-10 blur-3xl"})],-1)),c("div",Cy,[h[7]||(h[7]=gs('<div class="text-center"><div class="mx-auto w-16 h-16 bg-gradient-to-r from-yellow-600 to-orange-600 rounded-2xl flex items-center justify-center mb-6 shadow-lg"><svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg></div><h2 class="text-3xl font-bold bg-gradient-to-r from-yellow-600 to-orange-600 bg-clip-text text-transparent">  </h2><p class="mt-3 text-gray-600">  </p></div>',1)),c("div",jy,[c("div",Py,[h[6]||(h[6]=c("div",{class:"mx-auto w-20 h-20 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center"},[c("svg",{class:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})])],-1)),c("div",Ry,[h[2]||(h[2]=c("h3",{class:"text-xl font-semibold text-gray-900"},"  ",-1)),c("p",$y,[h[0]||(h[0]=re("  ",-1)),c("span",Iy,I(r.value),1),h[1]||(h[1]=re("  ",-1))]),h[3]||(h[3]=c("p",{class:"text-sm text-gray-500"},"  ",-1))]),c("div",Ny,[c("button",{onClick:a,disabled:n.value,class:"w-full py-3 px-4 bg-gradient-to-r from-yellow-500 to-orange-500 text-white font-medium rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none"},[n.value?(C(),P("span",My,[...h[5]||(h[5]=[c("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24"},[c("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),c("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),re(" ... ",-1)])])):(C(),P("span",Dy,[...h[4]||(h[4]=[c("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1),re("  ",-1)])]))],8,Ly),c("button",{onClick:u,class:"w-full py-3 px-4 border border-gray-300 text-gray-700 font-medium rounded-xl hover:bg-gray-50 transition-all duration-200"},"  ")]),i.value?(C(),P("div",Uy,I(i.value),1)):ne("",!0),o.value?(C(),P("div",By,I(o.value),1)):ne("",!0)])]),h[8]||(h[8]=c("div",{class:"text-center text-sm text-gray-500"},[c("p",null,"")],-1))])]))}}),Vy={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 via-white to-pink-50 py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden"},qy={class:"max-w-md w-full space-y-8 relative z-10"},Fy={class:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/50 p-8 transition-all duration-300 hover:shadow-2xl"},Hy={class:"space-y-2"},Wy={class:"relative"},Ky={key:0,class:"p-3 bg-red-50 border border-red-200 rounded-xl text-red-600 text-sm flex items-center"},Gy={key:1,class:"p-3 bg-green-50 border border-green-200 rounded-xl text-green-600 text-sm flex items-center"},Jy=["disabled"],Yy={key:0,class:"flex items-center justify-center"},Qy={key:1,class:"flex items-center justify-center"},Xy={class:"mt-6 text-center"},Zy={class:"text-sm text-gray-600"},eb=Fe({__name:"ForgotPassword",setup(t){const e=ys(),s=At(),r=U(!1),n=U(""),i=U(""),o=Je({email:""});async function a(){if(!o.email){n.value="";return}r.value=!0,n.value="",i.value="";try{await s.resetPassword(o.email),i.value="",setTimeout(()=>{e.push("/login")},3e3)}catch(l){n.value=l.message||""}finally{r.value=!1}}return(l,u)=>{const d=vt("RouterLink");return C(),P("div",Vy,[u[10]||(u[10]=c("div",{class:"absolute inset-0 overflow-hidden"},[c("div",{class:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-r from-red-200 to-pink-200 rounded-full opacity-20 blur-3xl"}),c("div",{class:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-r from-pink-200 to-purple-200 rounded-full opacity-20 blur-3xl"}),c("div",{class:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gradient-to-r from-red-100 to-pink-100 rounded-full opacity-10 blur-3xl"})],-1)),c("div",qy,[u[9]||(u[9]=gs('<div class="text-center"><div class="mx-auto w-16 h-16 bg-gradient-to-r from-red-600 to-pink-600 rounded-2xl flex items-center justify-center mb-6 shadow-lg"><svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg></div><h2 class="text-3xl font-bold bg-gradient-to-r from-red-600 to-pink-600 bg-clip-text text-transparent">  </h2><p class="mt-3 text-gray-600">  </p></div>',1)),c("div",Fy,[c("form",{class:"space-y-6",onSubmit:Zt(a,["prevent"])},[c("div",Hy,[u[2]||(u[2]=c("label",{for:"email",class:"block text-sm font-medium text-gray-700"},"",-1)),c("div",Wy,[u[1]||(u[1]=c("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[c("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})])],-1)),Oe(c("input",{id:"email","onUpdate:modelValue":u[0]||(u[0]=h=>o.email=h),type:"email",required:"",class:"block w-full pl-10 pr-3 py-3 border border-gray-200 rounded-xl bg-white/50 focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all duration-200 placeholder-gray-400",placeholder:""},null,512),[[Re,o.email]])])]),n.value?(C(),P("div",Ky,[u[3]||(u[3]=c("svg",{class:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[c("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1)),re(" "+I(n.value),1)])):ne("",!0),i.value?(C(),P("div",Gy,[u[4]||(u[4]=c("svg",{class:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[c("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)),re(" "+I(i.value),1)])):ne("",!0),c("button",{type:"submit",disabled:r.value,class:"w-full py-3 px-4 bg-gradient-to-r from-red-600 to-pink-600 text-white font-medium rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none"},[r.value?(C(),P("span",Qy,[...u[6]||(u[6]=[c("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24"},[c("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),c("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),re(" ... ",-1)])])):(C(),P("span",Yy,[...u[5]||(u[5]=[c("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1),re("  ",-1)])]))],8,Jy)],32),c("div",Xy,[c("p",Zy,[u[8]||(u[8]=re("  ",-1)),pe(d,{to:"/login",class:"font-medium text-red-600 hover:text-red-500 transition-colors duration-200"},{default:qe(()=>[...u[7]||(u[7]=[re("  ",-1)])]),_:1})])])])])])}}}),tb={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-50 via-white to-purple-50 py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden"},sb={class:"max-w-md w-full space-y-8 relative z-10"},rb={class:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/50 p-8 transition-all duration-300 hover:shadow-2xl"},nb={class:"space-y-2"},ib={class:"relative"},ob={class:"space-y-2"},ab={class:"relative"},lb={class:"bg-gray-50 p-3 rounded-lg"},cb={class:"text-xs text-gray-600 mt-1 space-y-1"},ub={key:0,class:"p-3 bg-red-50 border border-red-200 rounded-xl text-red-600 text-sm flex items-center"},db={key:1,class:"p-3 bg-green-50 border border-green-200 rounded-xl text-green-600 text-sm flex items-center"},hb=["disabled"],fb={key:0,class:"flex items-center justify-center"},pb={key:1,class:"flex items-center justify-center"},gb={class:"mt-6 text-center"},mb={class:"text-sm text-gray-600"},vb=Fe({__name:"ResetPassword",setup(t){const e=ys(),s=Tn(),r=At(),n=U(!1),i=U(""),o=U(""),a=Je({password:"",confirmPassword:""});mt(()=>{s.query.access_token&&console.log(":",s.query.access_token)});async function l(){if(!a.password||!a.confirmPassword){i.value="";return}if(a.password!==a.confirmPassword){i.value="";return}if(a.password.length<6){i.value="6";return}n.value=!0,i.value="",o.value="";try{await r.updatePassword(a.password),o.value="...",setTimeout(()=>{e.push("/login")},3e3)}catch(u){i.value=u.message||""}finally{n.value=!1}}return(u,d)=>{const h=vt("RouterLink");return C(),P("div",tb,[d[13]||(d[13]=c("div",{class:"absolute inset-0 overflow-hidden"},[c("div",{class:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-r from-indigo-200 to-purple-200 rounded-full opacity-20 blur-3xl"}),c("div",{class:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-r from-purple-200 to-pink-200 rounded-full opacity-20 blur-3xl"}),c("div",{class:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gradient-to-r from-indigo-100 to-purple-100 rounded-full opacity-10 blur-3xl"})],-1)),c("div",sb,[d[12]||(d[12]=gs('<div class="text-center"><div class="mx-auto w-16 h-16 bg-gradient-to-r from-indigo-600 to-purple-600 rounded-2xl flex items-center justify-center mb-6 shadow-lg"><svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"></path></svg></div><h2 class="text-3xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent">  </h2><p class="mt-3 text-gray-600">  </p></div>',1)),c("div",rb,[c("form",{class:"space-y-6",onSubmit:Zt(l,["prevent"])},[c("div",nb,[d[3]||(d[3]=c("label",{for:"password",class:"block text-sm font-medium text-gray-700"},"",-1)),c("div",ib,[d[2]||(d[2]=c("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[c("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})])],-1)),Oe(c("input",{id:"password","onUpdate:modelValue":d[0]||(d[0]=p=>a.password=p),type:"password",required:"",class:"block w-full pl-10 pr-3 py-3 border border-gray-200 rounded-xl bg-white/50 focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200 placeholder-gray-400",placeholder:""},null,512),[[Re,a.password]])])]),c("div",ob,[d[5]||(d[5]=c("label",{for:"confirmPassword",class:"block text-sm font-medium text-gray-700"},"",-1)),c("div",ab,[d[4]||(d[4]=c("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[c("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})])],-1)),Oe(c("input",{id:"confirmPassword","onUpdate:modelValue":d[1]||(d[1]=p=>a.confirmPassword=p),type:"password",required:"",class:"block w-full pl-10 pr-3 py-3 border border-gray-200 rounded-xl bg-white/50 focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200 placeholder-gray-400",placeholder:""},null,512),[[Re,a.confirmPassword]])])]),c("div",lb,[d[6]||(d[6]=c("p",{class:"text-xs text-gray-600"},"",-1)),c("ul",cb,[c("li",{class:$e({"text-green-600":a.password.length>=6})}," 6",2),c("li",{class:$e({"text-green-600":/[A-Z]/.test(a.password)})}," ",2),c("li",{class:$e({"text-green-600":/[0-9]/.test(a.password)})}," ",2)])]),i.value?(C(),P("div",ub,[d[7]||(d[7]=c("svg",{class:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[c("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1)),re(" "+I(i.value),1)])):ne("",!0),o.value?(C(),P("div",db,[d[8]||(d[8]=c("svg",{class:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[c("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)),re(" "+I(o.value),1)])):ne("",!0),c("button",{type:"submit",disabled:n.value,class:"w-full py-3 px-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-medium rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none"},[n.value?(C(),P("span",pb,[...d[10]||(d[10]=[c("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24"},[c("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),c("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),re(" ... ",-1)])])):(C(),P("span",fb,[...d[9]||(d[9]=[c("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),re("  ",-1)])]))],8,hb)],32),c("div",gb,[c("p",mb,[pe(h,{to:"/login",class:"font-medium text-indigo-600 hover:text-indigo-500 transition-colors duration-200"},{default:qe(()=>[...d[11]||(d[11]=[re("  ",-1)])]),_:1})])])])])])}}}),yb={class:"min-h-screen"},bb={class:"bg-white shadow-sm border-b border-gray-200"},wb={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},_b={class:"flex justify-between h-16"},xb={class:"flex items-center"},kb={class:"flex items-center space-x-4"},Eb={class:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8"},Sb={class:"px-4 py-6 sm:px-0"},Ob={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},Tb=["onClick"],Ab={class:"text-lg font-semibold text-gray-900 mb-2"},Cb={class:"text-gray-600 text-sm mb-4"},jb={class:"text-xs text-gray-500"},Pb={key:1,class:"text-center py-12"},Rb={class:"mt-6"},$b={key:2,class:"text-center py-12"},Ib={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},Nb={class:"bg-white rounded-lg max-w-md w-full p-6"},Lb={class:"space-y-4"},Db={key:0,class:"text-red-600 text-sm mt-2"},Mb={class:"flex justify-end space-x-3 mt-6"},Ub=["disabled"],Bb=Fe({__name:"Organizations",setup(t){const e=kr(),{organizations:s,isLoading:r}=e,n=U(!1),i=U(!1),o=U(""),a=Je({name:"",description:""});function l(d){return new Date(d).toLocaleDateString("zh-CN")}async function u(){if(!a.name.trim()){o.value="";return}i.value=!0,o.value="";try{const{useAuthStore:d}=await ms(async()=>{const{useAuthStore:f}=await Promise.resolve().then(()=>u0);return{useAuthStore:f}},void 0),p=d().user?.id;if(!p)throw new Error("");await e.createOrganization({name:a.name,description:a.description,owner_id:p}),n.value=!1,a.name="",a.description=""}catch(d){o.value=d.message||""}finally{i.value=!1}}return mt(async()=>{s.length===0&&await e.fetchOrganizations()}),(d,h)=>{const p=vt("RouterLink");return C(),P("div",yb,[c("nav",bb,[c("div",wb,[c("div",_b,[c("div",xb,[pe(p,{to:"/",class:"text-gray-600 hover:text-gray-900"},{default:qe(()=>[...h[5]||(h[5]=[re("   ",-1)])]),_:1})]),c("div",kb,[c("button",{onClick:h[0]||(h[0]=f=>n.value=!0),class:"btn btn-primary"},"  ")])])])]),c("main",Eb,[c("div",Sb,[h[10]||(h[10]=c("h1",{class:"text-2xl font-bold text-gray-900 mb-6"},"",-1)),!ft(r)&&ft(s).length>0?(C(),P("div",Ob,[(C(!0),P(Ee,null,et(ft(s),f=>(C(),P("div",{key:f.id,class:"card p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:g=>d.$router.push(`/organizations/${f.id}`)},[c("h3",Ab,I(f.name),1),c("p",Cb,I(f.description||""),1),c("div",jb,"  "+I(l(f.created_at)),1)],8,Tb))),128))])):ft(r)?(C(),P("div",$b,[...h[9]||(h[9]=[c("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"},null,-1),c("p",{class:"mt-2 text-sm text-gray-600"},"...",-1)])])):(C(),P("div",Pb,[h[6]||(h[6]=c("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-2m2 0v-2m0 2v2M7 21h2m-2 0H5m2 0v-2m0 2v2"})],-1)),h[7]||(h[7]=c("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"",-1)),h[8]||(h[8]=c("p",{class:"mt-1 text-sm text-gray-500"},"",-1)),c("div",Rb,[c("button",{onClick:h[1]||(h[1]=f=>n.value=!0),class:"btn btn-primary"},"  ")])]))])]),n.value?(C(),P("div",Ib,[c("div",Nb,[h[13]||(h[13]=c("h3",{class:"text-lg font-semibold mb-4"},"",-1)),c("form",{onSubmit:Zt(u,["prevent"])},[c("div",Lb,[c("div",null,[h[11]||(h[11]=c("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"",-1)),Oe(c("input",{"onUpdate:modelValue":h[2]||(h[2]=f=>a.name=f),type:"text",required:"",class:"input",placeholder:""},null,512),[[Re,a.name]])]),c("div",null,[h[12]||(h[12]=c("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"",-1)),Oe(c("textarea",{"onUpdate:modelValue":h[3]||(h[3]=f=>a.description=f),class:"input resize-none",rows:"3",placeholder:""},null,512),[[Re,a.description]])])]),o.value?(C(),P("div",Db,I(o.value),1)):ne("",!0),c("div",Mb,[c("button",{type:"button",onClick:h[4]||(h[4]=f=>n.value=!1),class:"btn btn-secondary"},"  "),c("button",{type:"submit",disabled:i.value,class:"btn btn-primary"},I(i.value?"...":""),9,Ub)])],32)])])):ne("",!0)])}}}),zb={class:"min-h-screen"},Vb={class:"bg-white shadow-sm border-b border-gray-200"},qb={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Fb={class:"flex justify-between h-16"},Hb={class:"flex items-center space-x-4"},Wb={class:"text-xl font-semibold text-gray-900"},Kb={class:"flex items-center space-x-4"},Gb={class:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8"},Jb={class:"px-4 py-6 sm:px-0"},Yb={class:"card p-6 mb-6"},Qb={class:"text-gray-600 mb-4"},Xb={class:"text-sm text-gray-500"},Zb={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},ew=["onClick"],tw={class:"text-lg font-semibold text-gray-900 mb-2"},sw={class:"text-gray-600 text-sm mb-4"},rw={class:"flex justify-between items-center"},nw={class:"text-xs text-gray-500"},iw={key:1,class:"text-center py-12"},ow={class:"mt-6"},aw={key:2,class:"text-center py-12"},lw={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},cw={class:"bg-white rounded-lg max-w-md w-full p-6"},uw={class:"space-y-4"},dw={key:0,class:"text-red-600 text-sm mt-2"},hw={class:"flex justify-end space-x-3 mt-6"},fw=["disabled"],pw=Fe({__name:"OrganizationDetail",setup(t){const e=Tn(),s=kr(),r=Er(),n=U(),i=U([]),o=U(!0),a=U(!1),l=U(!1),u=U(""),d=Je({name:"",description:"",status:"active"});function h(y){return new Date(y).toLocaleDateString("zh-CN")}function p(y){return{active:"bg-green-100 text-green-800",paused:"bg-yellow-100 text-yellow-800",completed:"bg-blue-100 text-blue-800",archived:"bg-gray-100 text-gray-800"}[y]||"bg-gray-100 text-gray-800"}function f(y){return{active:"",paused:"",completed:"",archived:""}[y]||y}async function g(){if(!d.name.trim()){u.value="";return}l.value=!0,u.value="";try{await r.createProject({...d,organization_id:e.params.id}),a.value=!1,d.name="",d.description="",d.status="active"}catch(y){u.value=y.message||""}finally{l.value=!1}}return mt(async()=>{const y=e.params.id;try{n.value=await s.fetchOrganizationById(y),(await r.fetchProjects(y)).success&&(i.value=r.projects)}catch(b){console.error("Error loading organization detail:",b)}finally{o.value=!1}}),(y,b)=>{const S=vt("RouterLink");return C(),P("div",zb,[c("nav",Vb,[c("div",qb,[c("div",Fb,[c("div",Hb,[pe(S,{to:"/organizations",class:"text-gray-600 hover:text-gray-900"},{default:qe(()=>[...b[6]||(b[6]=[re("   ",-1)])]),_:1}),c("h1",Wb,I(n.value?.name),1)]),c("div",Kb,[c("button",{onClick:b[0]||(b[0]=x=>a.value=!0),class:"btn btn-primary"},"  ")])])])]),c("main",Gb,[c("div",Jb,[c("div",Yb,[b[7]||(b[7]=c("h2",{class:"text-lg font-semibold mb-2"},"",-1)),c("p",Qb,I(n.value?.description||""),1),c("div",Xb,"  "+I(h(n.value?.created_at)),1)]),c("div",null,[b[12]||(b[12]=c("h2",{class:"text-lg font-semibold mb-4"},"",-1)),!o.value&&i.value.length>0?(C(),P("div",Zb,[(C(!0),P(Ee,null,et(i.value,x=>(C(),P("div",{key:x.id,class:"card p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:w=>y.$router.push(`/projects/${x.id}`)},[c("h3",tw,I(x.name),1),c("p",sw,I(x.description||""),1),c("div",rw,[c("span",{class:$e([p(x.status),"px-2 py-1 rounded-full text-xs"])},I(f(x.status)),3),c("span",nw,I(h(x.created_at)),1)])],8,ew))),128))])):o.value?(C(),P("div",aw,[...b[11]||(b[11]=[c("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"},null,-1),c("p",{class:"mt-2 text-sm text-gray-600"},"...",-1)])])):(C(),P("div",iw,[b[8]||(b[8]=c("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),b[9]||(b[9]=c("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"",-1)),b[10]||(b[10]=c("p",{class:"mt-1 text-sm text-gray-500"},"",-1)),c("div",ow,[c("button",{onClick:b[1]||(b[1]=x=>a.value=!0),class:"btn btn-primary"},"  ")])]))])])]),a.value?(C(),P("div",lw,[c("div",cw,[b[17]||(b[17]=c("h3",{class:"text-lg font-semibold mb-4"},"",-1)),c("form",{onSubmit:Zt(g,["prevent"])},[c("div",uw,[c("div",null,[b[13]||(b[13]=c("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"",-1)),Oe(c("input",{"onUpdate:modelValue":b[2]||(b[2]=x=>d.name=x),type:"text",required:"",class:"input",placeholder:""},null,512),[[Re,d.name]])]),c("div",null,[b[14]||(b[14]=c("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"",-1)),Oe(c("textarea",{"onUpdate:modelValue":b[3]||(b[3]=x=>d.description=x),class:"input resize-none",rows:"3",placeholder:""},null,512),[[Re,d.description]])]),c("div",null,[b[16]||(b[16]=c("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"",-1)),Oe(c("select",{"onUpdate:modelValue":b[4]||(b[4]=x=>d.status=x),class:"input"},[...b[15]||(b[15]=[c("option",{value:"active"},"",-1),c("option",{value:"paused"},"",-1),c("option",{value:"completed"},"",-1)])],512),[[Wi,d.status]])])]),u.value?(C(),P("div",dw,I(u.value),1)):ne("",!0),c("div",hw,[c("button",{type:"button",onClick:b[5]||(b[5]=x=>a.value=!1),class:"btn btn-secondary"},"  "),c("button",{type:"submit",disabled:l.value,class:"btn btn-primary"},I(l.value?"...":""),9,fw)])],32)])])):ne("",!0)])}}}),gw={class:"min-h-screen"},mw={class:"bg-white shadow-sm border-b border-gray-200"},vw={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},yw={class:"flex justify-between h-16"},bw={class:"flex items-center space-x-4"},ww={class:"text-xl font-semibold text-gray-900"},_w={class:"flex items-center space-x-4"},xw={class:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8"},kw={class:"px-4 py-6 sm:px-0"},Ew={class:"card p-6 mb-6"},Sw={class:"text-gray-600 mb-4"},Ow={class:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm"},Tw={class:"font-medium"},Aw={class:"font-medium"},Cw={class:"font-medium"},jw={class:"font-medium"},Pw={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6"},Rw={class:"card p-6"},$w={class:"text-3xl font-bold text-orange-600"},Iw={class:"card p-6"},Nw={class:"text-3xl font-bold text-blue-600"},Lw={class:"card p-6"},Dw={class:"text-3xl font-bold text-green-600"},Mw={class:"card p-6 mb-6"},Uw={class:"space-y-3"},Bw={class:"text-sm text-gray-700"},zw={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},Vw={class:"bg-white rounded-lg max-w-md w-full p-6"},qw={class:"space-y-4"},Fw={key:0,class:"text-red-600 text-sm mt-2"},Hw={class:"flex justify-end space-x-3 mt-6"},Ww=["disabled"],Kw=Fe({__name:"ProjectDetail",setup(t){const e=Tn(),s=Er(),r=U(),n=U(!0),i=U(!1),o=U(!1),a=U(""),l=Je({total:0,pending:0,inProgress:0,completed:0,completionRate:0}),u=U([{id:1,message:""},{id:2,message:"2"},{id:3,message:""}]),d=Je({name:"",description:"",status:"active"});function h(x){return new Date(x).toLocaleDateString("zh-CN")}function p(x){return{active:"bg-green-100 text-green-800",paused:"bg-yellow-100 text-yellow-800",completed:"bg-blue-100 text-blue-800",archived:"bg-gray-100 text-gray-800"}[x]||"bg-gray-100 text-gray-800"}function f(x){return{active:"",paused:"",completed:"",archived:""}[x]||x}function g(){console.log("AI")}function y(){console.log("")}function b(){console.log("")}async function S(){if(!d.name.trim()){a.value="";return}o.value=!0,a.value="";try{await s.updateProject(e.params.id,d),i.value=!1}catch(x){a.value=x.message||""}finally{o.value=!1}}return mt(async()=>{const x=e.params.id;try{(await s.fetchProjectById(x)).success&&(r.value=s.currentProject,d.name=r.value.name,d.description=r.value.description||"",d.status=r.value.status,l.total=15,l.pending=3,l.inProgress=5,l.completed=7,l.completionRate=Math.round(l.completed/l.total*100))}catch(w){console.error("Error loading project detail:",w)}finally{n.value=!1}}),(x,w)=>{const j=vt("RouterLink");return C(),P("div",gw,[c("nav",mw,[c("div",vw,[c("div",yw,[c("div",bw,[pe(j,{to:`/organizations/${r.value?.organization_id}`,class:"text-gray-600 hover:text-gray-900"},{default:qe(()=>[...w[5]||(w[5]=[re("   ",-1)])]),_:1},8,["to"]),c("h1",ww,I(r.value?.name),1),c("span",{class:$e([p(r.value?.status),"px-2 py-1 rounded-full text-xs"])},I(f(r.value?.status)),3)]),c("div",_w,[c("button",{onClick:w[0]||(w[0]=D=>i.value=!0),class:"btn btn-secondary"},"  ")])])])]),c("main",xw,[c("div",kw,[c("div",Ew,[w[10]||(w[10]=c("h2",{class:"text-lg font-semibold mb-2"},"",-1)),c("p",Sw,I(r.value?.description||""),1),c("div",Ow,[c("div",null,[w[6]||(w[6]=c("span",{class:"text-gray-500"},":",-1)),c("p",Tw,I(h(r.value?.created_at)),1)]),c("div",null,[w[7]||(w[7]=c("span",{class:"text-gray-500"},":",-1)),c("p",Aw,I(h(r.value?.updated_at)),1)]),c("div",null,[w[8]||(w[8]=c("span",{class:"text-gray-500"},":",-1)),c("p",Cw,I(l.total),1)]),c("div",null,[w[9]||(w[9]=c("span",{class:"text-gray-500"},":",-1)),c("p",jw,I(l.completionRate)+"%",1)])])]),c("div",Pw,[c("div",Rw,[w[11]||(w[11]=c("h3",{class:"text-lg font-semibold mb-2"},"",-1)),c("p",$w,I(l.pending),1)]),c("div",Iw,[w[12]||(w[12]=c("h3",{class:"text-lg font-semibold mb-2"},"",-1)),c("p",Nw,I(l.inProgress),1)]),c("div",Lw,[w[13]||(w[13]=c("h3",{class:"text-lg font-semibold mb-2"},"",-1)),c("p",Dw,I(l.completed),1)])]),c("div",Mw,[w[14]||(w[14]=c("h2",{class:"text-lg font-semibold mb-4"},"AI",-1)),c("div",Uw,[(C(!0),P(Ee,null,et(u.value,D=>(C(),P("div",{key:D.id,class:"p-3 bg-gray-50 rounded-lg"},[c("p",Bw,I(D.message),1)]))),128))])]),c("div",{class:"card p-6"},[w[15]||(w[15]=c("h2",{class:"text-lg font-semibold mb-4"},"",-1)),c("div",{class:"flex flex-wrap gap-4"},[c("button",{onClick:g,class:"btn btn-primary"}," AI "),c("button",{onClick:y,class:"btn btn-secondary"},"  "),c("button",{onClick:b,class:"btn btn-secondary"},"  ")])])])]),i.value?(C(),P("div",zw,[c("div",Vw,[w[20]||(w[20]=c("h3",{class:"text-lg font-semibold mb-4"},"",-1)),c("form",{onSubmit:Zt(S,["prevent"])},[c("div",qw,[c("div",null,[w[16]||(w[16]=c("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"",-1)),Oe(c("input",{"onUpdate:modelValue":w[1]||(w[1]=D=>d.name=D),type:"text",required:"",class:"input",placeholder:""},null,512),[[Re,d.name]])]),c("div",null,[w[17]||(w[17]=c("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"",-1)),Oe(c("textarea",{"onUpdate:modelValue":w[2]||(w[2]=D=>d.description=D),class:"input resize-none",rows:"3",placeholder:""},null,512),[[Re,d.description]])]),c("div",null,[w[19]||(w[19]=c("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"",-1)),Oe(c("select",{"onUpdate:modelValue":w[3]||(w[3]=D=>d.status=D),class:"input"},[...w[18]||(w[18]=[c("option",{value:"active"},"",-1),c("option",{value:"paused"},"",-1),c("option",{value:"completed"},"",-1),c("option",{value:"archived"},"",-1)])],512),[[Wi,d.status]])])]),a.value?(C(),P("div",Fw,I(a.value),1)):ne("",!0),c("div",Hw,[c("button",{type:"button",onClick:w[4]||(w[4]=D=>i.value=!1),class:"btn btn-secondary"},"  "),c("button",{type:"submit",disabled:o.value,class:"btn btn-primary"},I(o.value?"...":""),9,Ww)])],32)])])):ne("",!0)])}}}),Gw={},Jw={class:"min-h-screen flex items-center justify-center bg-gray-50"},Yw={class:"text-center"};function Qw(t,e){const s=vt("RouterLink");return C(),P("div",Jw,[c("div",Yw,[e[1]||(e[1]=c("h1",{class:"text-4xl font-bold text-gray-900 mb-4"},"404",-1)),e[2]||(e[2]=c("p",{class:"text-xl text-gray-600 mb-8"},"",-1)),pe(s,{to:"/",class:"btn btn-primary"},{default:qe(()=>[...e[0]||(e[0]=[re("  ",-1)])]),_:1})])])}const Xw=Hs(Gw,[["render",Qw]]),Zw={class:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8"},e_={class:"max-w-4xl mx-auto"},t_={class:"bg-white rounded-lg shadow-md p-6 mb-6"},s_={class:"space-y-3"},r_={class:"flex items-center justify-between"},n_={class:"font-mono text-sm"},i_={class:"flex items-center justify-between"},o_={class:"font-mono text-sm"},a_={class:"flex items-center justify-between"},l_={class:"flex gap-4 mb-6"},c_=["disabled"],u_={key:0},d_={key:1,class:"flex items-center"},h_={class:"bg-white rounded-lg shadow-md p-6 mb-6"},f_={class:"space-y-3"},p_={class:"font-medium"},g_={class:"text-sm text-gray-600"},m_={class:"bg-white rounded-lg shadow-md p-6"},v_={class:"space-y-4"},y_={class:"flex items-center"},b_={class:"font-mono bg-gray-100 px-2 py-1 rounded text-sm mr-3"},w_={class:"text-sm text-gray-600"},__=Fe({__name:"DatabaseTest",setup(t){const e=U(!1),s=U("idle"),r=U(""),n=U([]),i=U([{name:"users",description:"",status:"checking"},{name:"organizations",description:"",status:"checking"},{name:"organization_members",description:"",status:"checking"},{name:"projects",description:"",status:"checking"},{name:"project_members",description:"",status:"checking"},{name:"tasks",description:"",status:"checking"},{name:"chat_history",description:"AI",status:"checking"},{name:"notifications",description:"",status:"checking"}]),o=U({supabaseUrl:"https://pgnjxsvtxrqsuukadlzu.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBnbmp4c3Z0eHJxc3V1a2FkbHp1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE2MTQ5NjYsImV4cCI6MjA3NzE5MDk2Nn0.kw0yn1Wnn4GzkXbPYRUcTjyQr6esb-BED5h-OdFiEMI"}),a=Ne(()=>{switch(s.value){case"success":return"text-green-600 font-medium";case"error":return"text-red-600 font-medium";default:return"text-gray-600"}});function l(h,p,f){n.value.push({type:h,title:p,message:f})}async function u(){e.value=!0,n.value=[],s.value="idle",r.value="...";try{if(!o.value.supabaseUrl||!o.value.supabaseKey){l("error","","Supabase"),s.value="error",r.value="";return}l("success","","Supabase");const{data:h,error:p}=await ie.auth.getSession();p?l("warning","",`: ${p.message}`):l("success","","Supabase");const{data:f,error:g}=await ie.from("organizations").select("count").limit(1);g?g.code==="PGRST116"?(l("warning","",""),s.value="success",r.value=""):(l("error","",`: ${g.message}`),s.value="error",r.value=""):(l("success","",""),s.value="success",r.value=""),await d()}catch(h){l("error","",`: ${h.message}`),s.value="error",r.value=""}finally{e.value=!1}}async function d(){for(const h of i.value)try{const{error:p}=await ie.from(h.name).select("count").limit(1);p?(p.code,h.status="missing"):h.status="exists"}catch{h.status="missing"}}return mt(()=>{d()}),(h,p)=>(C(),P("div",Zw,[c("div",e_,[p[8]||(p[8]=c("div",{class:"text-center mb-8"},[c("h1",{class:"text-3xl font-bold text-gray-900 mb-2"},"Supabase"),c("p",{class:"text-gray-600"},"")],-1)),c("div",t_,[p[3]||(p[3]=c("h2",{class:"text-xl font-semibold text-gray-800 mb-4"},"",-1)),c("div",s_,[c("div",r_,[p[0]||(p[0]=c("span",{class:"text-gray-600"},"Supabase URL:",-1)),c("span",n_,I(o.value.supabaseUrl?"":""),1)]),c("div",i_,[p[1]||(p[1]=c("span",{class:"text-gray-600"},"API Key:",-1)),c("span",o_,I(o.value.supabaseKey?"":""),1)]),c("div",a_,[p[2]||(p[2]=c("span",{class:"text-gray-600"},":",-1)),c("span",{class:$e(a.value)},I(r.value),3)])])]),c("div",l_,[c("button",{onClick:u,disabled:e.value,class:"btn btn-primary flex-1"},[e.value?(C(),P("span",d_,[...p[4]||(p[4]=[c("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24"},[c("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),c("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),re(" ... ",-1)])])):(C(),P("span",u_,""))],8,c_),p[5]||(p[5]=c("a",{href:"https://supabase.com/dashboard/project/pgnjxsvtxrqsuukadlzu",target:"_blank",class:"btn btn-outline"}," Supabase ",-1))]),c("div",h_,[p[6]||(p[6]=c("h2",{class:"text-xl font-semibold text-gray-800 mb-4"},"",-1)),c("div",f_,[(C(!0),P(Ee,null,et(n.value,(f,g)=>(C(),P("div",{key:g,class:$e(["flex items-center p-3 rounded-lg",{"bg-green-50 border border-green-200":f.type==="success","bg-yellow-50 border border-yellow-200":f.type==="warning","bg-red-50 border border-red-200":f.type==="error"}])},[c("span",{class:$e(["w-6 h-6 rounded-full flex items-center justify-center mr-3 text-white text-sm",{"bg-green-500":f.type==="success","bg-yellow-500":f.type==="warning","bg-red-500":f.type==="error"}])},I(f.type==="success"?"":f.type==="warning"?"!":""),3),c("div",null,[c("p",p_,I(f.title),1),c("p",g_,I(f.message),1)])],2))),128))])]),c("div",m_,[p[7]||(p[7]=c("h2",{class:"text-xl font-semibold text-gray-800 mb-4"},"",-1)),c("div",v_,[(C(!0),P(Ee,null,et(i.value,f=>(C(),P("div",{key:f.name,class:$e(["flex items-center justify-between p-3 border rounded-lg",{"border-green-200 bg-green-50":f.status==="exists","border-yellow-200 bg-yellow-50":f.status==="checking","border-red-200 bg-red-50":f.status==="missing"}])},[c("div",y_,[c("span",b_,I(f.name),1),c("span",w_,I(f.description),1)]),c("span",{class:$e(["px-2 py-1 rounded text-xs font-medium",{"bg-green-100 text-green-800":f.status==="exists","bg-yellow-100 text-yellow-800":f.status==="checking","bg-red-100 text-red-800":f.status==="missing"}])},I(f.status==="exists"?"":f.status==="checking"?"":""),3)],2))),128))])]),p[9]||(p[9]=gs('<div class="mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6" data-v-7e072c57><h3 class="text-lg font-semibold text-blue-800 mb-3" data-v-7e072c57></h3><div class="space-y-4" data-v-7e072c57><div class="flex items-start" data-v-7e072c57><span class="bg-blue-100 text-blue-800 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 mt-1" data-v-7e072c57>1</span><div data-v-7e072c57><p class="font-medium" data-v-7e072c57>SupabaseSQL</p><p class="text-sm text-gray-600" data-v-7e072c57> <code class="bg-gray-100 px-1 rounded" data-v-7e072c57>supabase-init.sql</code> SQL</p></div></div><div class="flex items-start" data-v-7e072c57><span class="bg-blue-100 text-blue-800 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 mt-1" data-v-7e072c57>2</span><div data-v-7e072c57><p class="font-medium" data-v-7e072c57></p><p class="text-sm text-gray-600" data-v-7e072c57> <code class="bg-gray-100 px-1 rounded" data-v-7e072c57>supabase-mock-data.sql</code> </p></div></div><div class="flex items-start" data-v-7e072c57><span class="bg-blue-100 text-blue-800 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 mt-1" data-v-7e072c57>3</span><div data-v-7e072c57><p class="font-medium" data-v-7e072c57></p><p class="text-sm text-gray-600" data-v-7e072c57>admin@aipm.com / </p></div></div></div></div>',1))])]))}}),x_=Hs(__,[["__scopeId","data-v-7e072c57"]]),ru=Fg({history:xg("/"),routes:[{path:"/",name:"dashboard",component:Hm,meta:{requiresAuth:!0}},{path:"/project-management",name:"project-management",component:Gv,meta:{requiresAuth:!0}},{path:"/login",name:"login",component:cy,meta:{requiresGuest:!0}},{path:"/register",name:"register",component:Ty,meta:{requiresGuest:!0}},{path:"/email-confirmation",name:"email-confirmation",component:zy,meta:{requiresGuest:!0}},{path:"/forgot-password",name:"forgot-password",component:eb,meta:{requiresGuest:!0}},{path:"/reset-password",name:"reset-password",component:vb,meta:{requiresGuest:!0}},{path:"/organizations",name:"organizations",component:Bb,meta:{requiresAuth:!0}},{path:"/organizations/:id",name:"organization-detail",component:pw,meta:{requiresAuth:!0}},{path:"/projects/:id",name:"project-detail",component:Kw,meta:{requiresAuth:!0}},{path:"/database-test",name:"database-test",component:x_},{path:"/:pathMatch(.*)*",name:"not-found",component:Xw}]});ru.beforeEach((t,e,s)=>{const r=At();t.meta.requiresAuth&&!r.isAuthenticated?s("/login"):t.meta.requiresGuest&&r.isAuthenticated?s("/"):s()});const io=Th(M0);io.use(jh());io.use(ru);io.mount("#app");
