const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-D3_1-Oip.js","assets/vue-8aMp4Igu.js","assets/supabase-DiqIXwZt.js","assets/Dashboard-BjjQF6R7.css","assets/ProjectManagement-BXvxE99V.js","assets/ProjectManagement-p8njOtDd.css","assets/Login-DblSTCNc.js","assets/Register-BBdaqc2I.js","assets/EmailConfirmation-BbK-SD9k.js","assets/ForgotPassword-DaOvfaS2.js","assets/ResetPassword-Ds1NURzc.js","assets/Organizations--Ld0PLH1.js","assets/OrganizationDetail-D0oCJ1Hu.js","assets/ProjectDetail-DVoehgI-.js","assets/NotFound-9LvYJxbn.js","assets/DatabaseTest-Cbrn7_L0.js","assets/DatabaseTest-Ca9wMpqs.css","assets/CompleteProfile-C_IZ2fzG.js","assets/DataDisplay-DiCegyF8.js","assets/DataDisplay-DIbxbdQL.css"])))=>i.map(i=>d[i]);
import{d as A,r as w,c as V,a as M,b as j,o as b,e as x,f as m,g as $,F as N,h as F,n as S,t as I,w as G,v as D,i as J,j as T,k as W,l as H,m as K,p as X,q as Y,s as Z,u as Q,x as ee}from"./vue-8aMp4Igu.js";import{c as re}from"./supabase-DiqIXwZt.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))t(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const n of u.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&t(n)}).observe(document,{childList:!0,subtree:!0});function e(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function t(a){if(a.ep)return;a.ep=!0;const u=e(a);fetch(a.href,u)}})();const te="https://pgnjxsvtxrqsuukadlzu.supabase.co",oe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBnbmp4c3Z0eHJxc3V1a2FkbHp1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE2MTQ5NjYsImV4cCI6MjA3NzE5MDk2Nn0.kw0yn1Wnn4GzkXbPYRUcTjyQr6esb-BED5h-OdFiEMI",d=re(te,oe);class z{static async getUserById(r){try{const{data:e,error:t}=await d.from("users").select("*").eq("id",r).single();if(t)throw t;return e}catch(e){return console.error("Error fetching user:",e),null}}static async getUserByEmail(r){try{const{data:e,error:t}=await d.from("users").select("*").eq("email",r).single();if(t)throw t;return e}catch(e){return console.error("Error fetching user by email:",e),null}}static async getUserByAuthId(r){try{const{data:e,error:t}=await d.from("users").select("*").eq("auth_id",r).single();if(t)throw t;return e}catch(e){return console.error("Error fetching user by auth_id:",e),null}}static async createUser(r){try{const{data:e,error:t}=await d.from("users").insert([{auth_id:r.auth_id,email:r.email,display_name:r.display_name,role:r.role||"member",is_active:r.is_active??!0}]).select().single();if(t)throw t;return e}catch(e){throw console.error("Error creating user:",e),e}}static async updateUser(r,e){try{const{data:t,error:a}=await d.from("users").update(e).eq("id",r).select().single();if(a)throw a;return t}catch(t){throw console.error("Error updating user:",t),t}}}class k{static async getUserOrganizations(r){try{console.log("ğŸ” æŸ¥è¯¢ç”¨æˆ·ç»„ç»‡ï¼Œç”¨æˆ·ID:",r);const e=r.toString(),{data:t,error:a}=await d.from("organizations").select("*").eq("owner_id",e);a&&console.error("æŸ¥è¯¢ç”¨æˆ·æ‹¥æœ‰çš„ç»„ç»‡å¤±è´¥:",a);const{data:u,error:n}=await d.from("organization_members").select(`
          organization:organizations(*)
        `).eq("user_id",e);n&&console.error("æŸ¥è¯¢ç”¨æˆ·æˆå‘˜ç»„ç»‡å¤±è´¥:",n);const o=[];if(t&&o.push(...t),u){const f=u.filter(g=>g.organization).map(g=>g.organization);o.push(...f)}const s=o.filter((f,g,p)=>g===p.findIndex(h=>h.id===f.id));return console.log("âœ… æŸ¥è¯¢åˆ°çš„ç»„ç»‡æ•°é‡:",s.length),await Promise.all(s.map(async f=>{try{const{count:g,error:p}=await d.from("projects").select("*",{count:"exact",head:!0}).eq("organization_id",f.id),{count:h,error:y}=await d.from("organization_members").select("*",{count:"exact",head:!0}).eq("organization_id",f.id);return{...f,project_count:p?0:g||0,member_count:y?1:(h||0)+1}}catch(g){return console.error(`è·å–ç»„ç»‡ ${f.id} ç»Ÿè®¡ä¿¡æ¯å¤±è´¥:`,g),{...f,project_count:0,member_count:1}}}))}catch(e){return console.error("Error fetching user organizations:",e),[]}}static async createOrganization(r){try{console.log("ğŸ“ å¼€å§‹åˆ›å»ºç»„ç»‡:",r);const{data:e,error:t}=await d.from("organizations").insert([{name:r.name,description:r.description||"",owner_id:r.owner_id}]).select().single();if(t)throw t;console.log("âœ… ç»„ç»‡åˆ›å»ºæˆåŠŸ:",e);const{error:a}=await d.from("organization_members").insert([{organization_id:e.id,user_id:r.owner_id,role:"owner",joined_at:new Date().toISOString()}]);return a?console.error("âŒ æ·»åŠ åˆ›å»ºè€…ä¸ºæˆå‘˜å¤±è´¥:",a):console.log("âœ… åˆ›å»ºè€…å·²æ·»åŠ ä¸ºç»„ç»‡æˆå‘˜"),e}catch(e){throw console.error("âŒ åˆ›å»ºç»„ç»‡å¤±è´¥:",e),e}}static async getOrganizationById(r){try{const{data:e,error:t}=await d.from("organizations").select("*").eq("id",r).single();if(t)throw t;return e}catch(e){return console.error("Error fetching organization:",e),null}}static async updateOrganization(r,e){try{console.log("ğŸ“ å¼€å§‹æ›´æ–°ç»„ç»‡:",r,e);const{data:t,error:a}=await d.from("organizations").update({...e,updated_at:new Date().toISOString()}).eq("id",r).select().single();if(a)throw a;return console.log("âœ… ç»„ç»‡æ›´æ–°æˆåŠŸ:",t),t}catch(t){throw console.error("âŒ æ›´æ–°ç»„ç»‡å¤±è´¥:",t),t}}static async deleteOrganization(r){try{console.log("ğŸ—‘ï¸ å¼€å§‹åˆ é™¤ç»„ç»‡:",r);const{error:e}=await d.from("organization_members").delete().eq("organization_id",r);e&&console.error("âŒ åˆ é™¤ç»„ç»‡æˆå‘˜è®°å½•å¤±è´¥:",e);const{error:t}=await d.from("organizations").delete().eq("id",r);if(t)throw t;console.log("âœ… ç»„ç»‡åˆ é™¤æˆåŠŸ")}catch(e){throw console.error("âŒ åˆ é™¤ç»„ç»‡å¤±è´¥:",e),e}}}class P{static async getProjectsByOrganization(r){try{const{data:e,error:t}=await d.from("projects").select("*").eq("organization_id",r).order("created_at",{ascending:!1});if(t)throw t;return e||[]}catch(e){return console.error("Error fetching projects:",e),[]}}static async createProject(r){try{const{data:e,error:t}=await d.from("projects").insert([{name:r.name,description:r.description||"",organization_id:r.organization_id,owner_id:r.owner_id,status:r.status||"active",priority:r.priority||"medium",progress_percentage:0}]).select().single();if(t)throw t;return e}catch(e){throw console.error("Error creating project:",e),e}}static async getProjectById(r){try{const{data:e,error:t}=await d.from("projects").select("*").eq("id",r).single();if(t)throw t;return e}catch(e){return console.error("Error fetching project:",e),null}}static async updateProject(r,e){try{const{data:t,error:a}=await d.from("projects").update(e).eq("id",r).select().single();if(a)throw a;return t}catch(t){throw console.error("Error updating project:",t),t}}}class se{static async getProjectMembers(r){try{const{data:e,error:t}=await d.from("project_members").select(`
          *,
          user:users(display_name, email, role)
        `).eq("project_id",r);if(t)throw t;return e||[]}catch(e){return console.error("Error fetching project members:",e),[]}}static async getAvailableUsers(r,e){try{const{data:t,error:a}=await d.from("organization_members").select(`
          user:users(id, display_name, email, role)
        `).eq("organization_id",r);if(a)throw a;const{data:u,error:n}=await d.from("project_members").select("user_id").eq("project_id",e);if(n)throw n;const o=new Set(u?.map(i=>i.user_id)||[]);return t?.filter(i=>i.user&&!o.has(i.user.id)).map(i=>i.user)||[]}catch(t){return console.error("Error fetching available users:",t),[]}}static async addProjectMember(r){try{const{data:e,error:t}=await d.from("project_members").insert([{project_id:r.project_id,user_id:r.user_id,role:r.role}]).select().single();if(t)throw t;return e}catch(e){throw console.error("Error adding project member:",e),e}}static async updateMemberRole(r,e){try{const{data:t,error:a}=await d.from("project_members").update({role:e}).eq("id",r).select().single();if(a)throw a;return t}catch(t){throw console.error("Error updating member role:",t),t}}static async removeProjectMember(r,e){try{const{error:t}=await d.from("project_members").delete().eq("project_id",r).eq("user_id",e);if(t)throw t}catch(t){throw console.error("Error removing project member:",t),t}}static async generateSampleTeamMembers(r,e){try{if((await this.getProjectMembers(e)).length>0)throw new Error("é¡¹ç›®ä¸­å·²æœ‰å›¢é˜Ÿæˆå‘˜ï¼Œæ— éœ€ç”Ÿæˆç¤ºä¾‹æˆå‘˜");const a=[{display_name:"å¼ ä¸‰",email:"zhangsan@example.com",role:"manager",project_role:"manager",avatar_color:"#3B82F6",skills:["é¡¹ç›®ç®¡ç†","å›¢é˜Ÿåä½œ","éœ€æ±‚åˆ†æ"],description:"èµ„æ·±é¡¹ç›®ç»ç†ï¼Œæ“…é•¿æ•æ·å¼€å‘"},{display_name:"æå››",email:"lisi@example.com",role:"developer",project_role:"developer",avatar_color:"#10B981",skills:["Vue.js","TypeScript","Node.js"],description:"å‰ç«¯å¼€å‘ä¸“å®¶ï¼Œçƒ­çˆ±æ–°æŠ€æœ¯"},{display_name:"ç‹äº”",email:"wangwu@example.com",role:"designer",project_role:"designer",avatar_color:"#8B5CF6",skills:["UIè®¾è®¡","ç”¨æˆ·ä½“éªŒ","åŸå‹è®¾è®¡"],description:"UI/UXè®¾è®¡å¸ˆï¼Œæ³¨é‡ç»†èŠ‚å’Œç”¨æˆ·ä½“éªŒ"},{display_name:"èµµå…­",email:"zhaoliu@example.com",role:"tester",project_role:"tester",avatar_color:"#F59E0B",skills:["è‡ªåŠ¨åŒ–æµ‹è¯•","æ€§èƒ½æµ‹è¯•","å®‰å…¨æµ‹è¯•"],description:"è´¨é‡ä¿è¯å·¥ç¨‹å¸ˆï¼Œç¡®ä¿äº§å“è´¨é‡"},{display_name:"é’±ä¸ƒ",email:"qianqi@example.com",role:"developer",project_role:"developer",avatar_color:"#EF4444",skills:["Java","Spring Boot","æ•°æ®åº“"],description:"åç«¯å¼€å‘å·¥ç¨‹å¸ˆï¼Œä¸“æ³¨ç³»ç»Ÿæ¶æ„"},{display_name:"å­™å…«",email:"sunba@example.com",role:"developer",project_role:"developer",avatar_color:"#06B6D4",skills:["React","ç§»åŠ¨ç«¯å¼€å‘","è·¨å¹³å°"],description:"å…¨æ ˆå¼€å‘å·¥ç¨‹å¸ˆï¼ŒæŠ€æœ¯å…¨é¢"},{display_name:"å‘¨ä¹",email:"zhoujiu@example.com",role:"tester",project_role:"tester",avatar_color:"#F97316",skills:["åŠŸèƒ½æµ‹è¯•","å…¼å®¹æ€§æµ‹è¯•","å›å½’æµ‹è¯•"],description:"æµ‹è¯•å·¥ç¨‹å¸ˆï¼Œç»†å¿ƒä¸¥è°¨"}],u=[];for(const n of a)try{let o=await z.getUserByEmail(n.email);o||(o=await z.createUser({email:n.email,display_name:n.display_name,role:n.role}));const{error:s}=await d.from("organization_members").upsert([{organization_id:r,user_id:o.id,role:n.role}],{onConflict:"organization_id,user_id"});if(s){console.error("Error adding user to organization:",s);continue}await this.addProjectMember({project_id:e,user_id:o.id,role:n.project_role})&&await z.updateUser(o.id,{description:n.description}),u.push({...o,project_role:n.project_role,avatar_color:n.avatar_color,skills:n.skills,description:n.description})}catch(o){console.error(`Error creating sample member ${n.display_name}:`,o)}return u.length>0&&await this.createSampleTasksForTeam(e,u),u}catch(t){throw console.error("Error generating sample team members:",t),t}}static async createSampleTasksForTeam(r,e){try{const t=[{title:"é¡¹ç›®éœ€æ±‚åˆ†æå’Œè§„åˆ’",description:"å®Œæˆé¡¹ç›®çš„éœ€æ±‚åˆ†ææ–‡æ¡£å’Œå¼€å‘è®¡åˆ’",priority:"high",status:"in_progress",assignee_role:"manager"},{title:"è®¾è®¡ç³»ç»ŸUIç»„ä»¶åº“",description:"è®¾è®¡å¹¶å»ºç«‹é¡¹ç›®çš„UIç»„ä»¶åº“å’Œè®¾è®¡è§„èŒƒ",priority:"high",status:"todo",assignee_role:"designer"},{title:"æ­å»ºå‰ç«¯é¡¹ç›®æ¡†æ¶",description:"æ­å»ºVue.jsé¡¹ç›®æ¡†æ¶ï¼Œé…ç½®å¼€å‘ç¯å¢ƒ",priority:"high",status:"todo",assignee_role:"developer"},{title:"è®¾è®¡æ•°æ®åº“ç»“æ„",description:"è®¾è®¡é¡¹ç›®æ•°æ®åº“çš„è¡¨ç»“æ„å’Œå…³ç³»",priority:"medium",status:"todo",assignee_role:"developer"},{title:"ç¼–å†™å•å…ƒæµ‹è¯•ç”¨ä¾‹",description:"ä¸ºæ ¸å¿ƒåŠŸèƒ½ç¼–å†™å•å…ƒæµ‹è¯•ç”¨ä¾‹",priority:"medium",status:"todo",assignee_role:"tester"},{title:"é¡¹ç›®æ–‡æ¡£ç¼–å†™",description:"ç¼–å†™é¡¹ç›®æŠ€æœ¯æ–‡æ¡£å’Œä½¿ç”¨è¯´æ˜",priority:"low",status:"todo",assignee_role:"developer"}];for(const a of t){const u=e.find(n=>n.project_role===a.assignee_role);u&&await U.createTask({title:a.title,description:a.description,project_id:r,assignee_id:u.id,reporter_id:e.find(n=>n.project_role==="manager")?.id||u.id,status:a.status,priority:a.priority,due_date:new Date(Date.now()+7*24*60*60*1e3).toISOString().split("T")[0]})}console.log(`âœ… ä¸ºç¤ºä¾‹å›¢é˜Ÿåˆ›å»ºäº† ${t.length} ä¸ªç¤ºä¾‹ä»»åŠ¡`)}catch(t){console.error("Error creating sample tasks:",t)}}}class ae{static async getProjectMessages(r){try{const{data:e,error:t}=await d.from("chat_messages").select(`
          *,
          user:users(display_name, email)
        `).eq("project_id",r).order("created_at",{ascending:!0});if(t)throw t;return e||[]}catch(e){return console.error("Error fetching chat messages:",e),[]}}static async sendMessage(r){try{const{data:e,error:t}=await d.from("chat_messages").insert([{project_id:r.project_id,user_id:r.user_id,content:r.content,message_type:r.message_type||"text"}]).select().single();if(t)throw t;return e}catch(e){throw console.error("Error sending message:",e),e}}}class U{static async getTasksByProject(r){try{const{data:e,error:t}=await d.from("tasks").select(`
          *,
          assignee:users!tasks_assignee_id_fkey(display_name, email),
          reporter:users!tasks_reporter_id_fkey(display_name, email)
        `).eq("project_id",r).order("created_at",{ascending:!1});if(t)throw t;return e||[]}catch(e){return console.error("Error fetching tasks:",e),[]}}static async createTask(r){try{const{data:e,error:t}=await d.from("tasks").insert([{title:r.title,description:r.description||"",project_id:r.project_id,assignee_id:r.assignee_id||null,reporter_id:r.reporter_id,status:r.status||"todo",priority:r.priority||"medium",due_date:r.due_date||null,estimated_hours:r.estimated_hours||null}]).select().single();if(t)throw t;return e}catch(e){throw console.error("Error creating task:",e),e}}static async updateTask(r,e){try{const{data:t,error:a}=await d.from("tasks").update({...e,updated_at:new Date().toISOString()}).eq("id",r).select().single();if(a)throw a;return t}catch(t){throw console.error("Error updating task:",t),t}}static async deleteTask(r){try{const{error:e}=await d.from("tasks").delete().eq("id",r);if(e)throw e}catch(e){throw console.error("Error deleting task:",e),e}}static async getUserTasks(r){try{const{data:e,error:t}=await d.from("tasks").select(`
          *,
          assignee:users!tasks_assignee_id_fkey(display_name, email),
          reporter:users!tasks_reporter_id_fkey(display_name, email),
          project:projects!tasks_project_id_fkey(name, status)
        `).or(`assignee_id.eq.${r},reporter_id.eq.${r}`).order("created_at",{ascending:!1});if(t)throw t;return e||[]}catch(e){return console.error("Error fetching user tasks:",e),[]}}static async getTaskStats(r){try{const{data:e,error:t}=await d.from("tasks").select("status").eq("project_id",r);if(t)throw t;const a=e||[],u=a.length,n=a.filter(f=>f.status==="todo").length,o=a.filter(f=>f.status==="in_progress").length,s=a.filter(f=>f.status==="done").length,i=u>0?Math.round(s/u*100):0;return{total:u,pending:n,inProgress:o,completed:s,completionRate:i}}catch(e){return console.error("Error fetching task stats:",e),{total:0,pending:0,inProgress:0,completed:0,completionRate:0}}}}const Xe=Object.freeze(Object.defineProperty({__proto__:null,ChatService:ae,OrganizationService:k,ProjectMemberService:se,ProjectService:P,TaskService:U,UserService:z},Symbol.toStringTag,{value:"Module"})),R=A("auth",()=>{const c=w(null),r=w(!0),e=V(()=>!!c.value);async function t(){try{const[p]=await Promise.allSettled([d.auth.getSession()]);if(p.status==="fulfilled"){const{data:{session:h}}=p.value;c.value=h?.user??null,c.value&&a(c.value).catch(()=>{})}d.auth.onAuthStateChange(async(h,y)=>{c.value=y?.user??null,c.value&&(h==="SIGNED_IN"||h==="TOKEN_REFRESHED")&&a(c.value).catch(()=>{})})}catch(p){console.error("Auth initialization error:",p)}finally{setTimeout(()=>{r.value=!1},100)}}async function a(p){try{await z.getUserByAuthId(p.id)}catch{await z.createUser({auth_id:p.id,email:p.email,display_name:p.email.split("@")[0],role:"member",is_active:!0})}}async function u(p,h){try{const{data:y,error:l}=await d.auth.signInWithPassword({email:p,password:h});if(l)throw console.error("Login error:",l),l.message==="Invalid login credentials"?new Error("é‚®ç®±æˆ–å¯†ç é”™è¯¯ï¼Œè¯·æ£€æŸ¥åé‡è¯•"):l.message.includes("Email not confirmed")?new Error("è¯·å…ˆéªŒè¯æ‚¨çš„é‚®ç®±åœ°å€"):l.message.includes("Bad Request")?new Error("è®¤è¯æœåŠ¡æš‚æ—¶ä¸å¯ç”¨ï¼Œè¯·ç¨åé‡è¯•"):l;if(y.user)try{await z.getUserByAuthId(y.user.id)}catch{await z.createUser({auth_id:y.user.id,email:y.user.email,display_name:y.user.email.split("@")[0],role:"member",is_active:!0})}return y}catch(y){throw console.error("Login failed:",y),y}}async function n(p,h,y){const{data:l,error:_}=await d.auth.signUp({email:p,password:h,options:{data:y,emailRedirectTo:`${window.location.origin}/email-confirmation`}});if(_)throw _.message.includes("User already registered")?new Error("è¯¥é‚®ç®±å·²è¢«æ³¨å†Œï¼Œè¯·ä½¿ç”¨å…¶ä»–é‚®ç®±æˆ–å°è¯•ç™»å½•"):_.message.includes("Password should be at least")?new Error("å¯†ç å¼ºåº¦ä¸è¶³ï¼Œè¯·ä½¿ç”¨æ›´å¤æ‚çš„å¯†ç "):_.message.includes("Email rate limit exceeded")?new Error("å‘é€é‚®ä»¶è¿‡äºé¢‘ç¹ï¼Œè¯·ç¨åå†è¯•"):_;if(l.user&&l.session)try{await z.createUser({auth_id:l.user.id,email:l.user.email,display_name:y.name,role:"member",is_active:!0})}catch(E){console.warn("Failed to create user profile:",E)}return l.user&&!l.session&&localStorage.setItem("pending_email",p),l}async function o(p){const{error:h}=await d.auth.resend({type:"signup",email:p});if(h)throw h.message.includes("Email rate limit exceeded")?new Error("å‘é€é‚®ä»¶è¿‡äºé¢‘ç¹ï¼Œè¯·ç¨åå†è¯•"):h}async function s(p){const{data:h,error:y}=await d.auth.verifyOtp({token_hash:p,type:"signup"});if(y)throw y;return localStorage.removeItem("pending_email"),h}async function i(p){const{error:h}=await d.auth.resetPasswordForEmail(p,{redirectTo:`${window.location.origin}/reset-password`});if(h)throw h}async function f(p){const{error:h}=await d.auth.updateUser({password:p});if(h)throw h}async function g(){const{error:p}=await d.auth.signOut();if(p)throw p;c.value=null}return{user:c,isLoading:r,isAuthenticated:e,init:t,login:u,register:n,logout:g,resendConfirmationEmail:o,verifyEmail:s,resetPassword:i,updatePassword:f}}),ie=A("organization",()=>{const c=w([]),r=w(null),e=w(!1);async function t(s){e.value=!0;try{if(!s||isNaN(s)){console.warn("æ— æ•ˆçš„ç”¨æˆ·ID:",s),c.value=[];return}const i=await k.getUserOrganizations(s);c.value=i||[]}catch(i){console.error("Error fetching organizations:",i),c.value=[]}finally{e.value=!1}}async function a(s){try{console.log("ğŸ“ å¼€å§‹åˆ›å»ºç»„ç»‡:",s);const i=await k.createOrganization(s);return console.log("âœ… ç»„ç»‡åˆ›å»ºæˆåŠŸ:",i),c.value.unshift(i),i}catch(i){throw console.error("âŒ åˆ›å»ºç»„ç»‡å¤±è´¥:",i),i}}async function u(s){e.value=!0;try{const i=await k.getOrganizationById(s);return r.value=i,i}catch(i){throw console.error("Error fetching organization:",i),i}finally{e.value=!1}}async function n(s,i){try{console.log("ğŸ“ å¼€å§‹æ›´æ–°ç»„ç»‡:",s,i);const f=await k.updateOrganization(s,i);console.log("âœ… ç»„ç»‡æ›´æ–°æˆåŠŸ:",f);const g=c.value.findIndex(p=>p.id===s);return g!==-1&&(c.value[g]={...c.value[g],...i}),r.value?.id===s&&(r.value={...r.value,...i}),f}catch(f){throw console.error("âŒ æ›´æ–°ç»„ç»‡å¤±è´¥:",f),f}}async function o(s){try{console.log("ğŸ—‘ï¸ å¼€å§‹åˆ é™¤ç»„ç»‡:",s),await k.deleteOrganization(s),console.log("âœ… ç»„ç»‡åˆ é™¤æˆåŠŸ"),c.value=c.value.filter(i=>i.id!==s),r.value?.id===s&&(r.value=null)}catch(i){throw console.error("âŒ åˆ é™¤ç»„ç»‡å¤±è´¥:",i),i}}return{organizations:c,currentOrganization:r,isLoading:e,fetchOrganizations:t,createOrganization:a,fetchOrganizationById:u,updateOrganization:n,deleteOrganization:o}}),ne=A("project",()=>{const c=w([]),r=w(null),e=w(!1);async function t(o){e.value=!0;try{const s=await P.getProjectsByOrganization(o);return c.value=s||[],{success:!0,data:c.value}}catch(s){return console.error("Error fetching projects:",s),c.value=[],{success:!1,error:s}}finally{e.value=!1}}async function a(o){try{const s=await P.createProject({...o,status:o.status||"active",priority:o.priority||"medium",progress_percentage:0});return s&&c.value.unshift(s),s}catch(s){throw console.error("Error creating project:",s),s}}async function u(o){e.value=!0;try{const s=typeof o=="string"?parseInt(o):o,i=await P.getProjectById(s);return r.value=i,{success:!0,data:i}}catch(s){return console.error("Error fetching project:",s),{success:!1,error:s}}finally{e.value=!1}}async function n(o,s){try{const i=await P.updateProject(o,s),f=c.value.findIndex(g=>g.id===o);return f!==-1&&(c.value[f]=i),r.value?.id===o&&(r.value=i),i}catch(i){throw console.error("Error updating project:",i),i}}return{projects:c,currentProject:r,isLoading:e,fetchProjects:t,createProject:a,fetchProjectById:u,updateProject:n}}),ce={class:"fixed bottom-6 right-6 z-50"},le={key:0,class:"absolute bottom-16 right-0 w-80 h-96 bg-white rounded-lg shadow-xl border border-gray-200 flex flex-col"},ue={class:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-4 rounded-t-lg flex justify-between items-center"},de={class:"flex-1 overflow-y-auto p-4 space-y-4"},me={class:"text-sm"},pe={class:"text-xs opacity-70 mt-1 block"},fe={class:"p-4 border-t border-gray-200"},ge={class:"flex space-x-2"},he=["disabled"],_e={key:0,class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ye={key:1,class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},we=M({__name:"AIChatAssistant",setup(c){const r=w(!1),e=w(""),t=w([{text:"æ‚¨å¥½ï¼æˆ‘æ˜¯AIåŠ©æ‰‹ï¼Œå¯ä»¥å¸®æ‚¨æŸ¥è¯¢é¡¹ç›®è¿›åº¦ã€ç®¡ç†ä»»åŠ¡çŠ¶æ€ã€åˆ†ææ•°æ®ç»Ÿè®¡ç­‰ã€‚æœ‰ä»€ä¹ˆå¯ä»¥å¸®æ‚¨çš„å—ï¼Ÿ",isUser:!1,time:"åˆšåˆš"}]);function a(){r.value=!r.value}function u(){if(!e.value.trim())return;t.value.push({text:e.value,isUser:!0,time:"åˆšåˆš"});const n=e.value.toLowerCase();e.value="",setTimeout(()=>{let o="";n.includes("é¡¹ç›®")||n.includes("project")?o="ç›®å‰æ‚¨æœ‰3ä¸ªæ´»è·ƒé¡¹ç›®ï¼Œ2ä¸ªé¡¹ç›®æ­£åœ¨è¿›è¡Œä¸­ï¼Œ1ä¸ªé¡¹ç›®å·²å®Œæˆã€‚éœ€è¦æŸ¥çœ‹å…·ä½“é¡¹ç›®è¯¦æƒ…å—ï¼Ÿ":n.includes("ä»»åŠ¡")||n.includes("task")?o="æ‚¨å½“å‰æœ‰5ä¸ªå¾…åŠä»»åŠ¡ï¼Œå…¶ä¸­2ä¸ªé«˜ä¼˜å…ˆçº§ä»»åŠ¡éœ€è¦å°½å¿«å¤„ç†ã€‚éœ€è¦æˆ‘å¸®æ‚¨å®‰æ’ä»»åŠ¡ä¼˜å…ˆçº§å—ï¼Ÿ":n.includes("æ•°æ®")||n.includes("ç»Ÿè®¡")?o="æœ¬æœˆé¡¹ç›®å®Œæˆç‡85%ï¼Œä»»åŠ¡å®Œæˆç‡92%ï¼Œå›¢é˜Ÿåä½œæ•ˆç‡è‰¯å¥½ã€‚éœ€è¦è¯¦ç»†çš„æ•°æ®åˆ†ææŠ¥å‘Šå—ï¼Ÿ":n.includes("å¸®åŠ©")||n.includes("help")?o="æˆ‘å¯ä»¥å¸®æ‚¨ï¼š1. æŸ¥è¯¢é¡¹ç›®ä¿¡æ¯ 2. ç®¡ç†ä»»åŠ¡çŠ¶æ€ 3. åˆ†æç»Ÿè®¡æ•°æ® 4. è§£ç­”æŠ€æœ¯é—®é¢˜ã€‚è¯·å‘Šè¯‰æˆ‘æ‚¨éœ€è¦ä»€ä¹ˆå¸®åŠ©ï¼Ÿ":o="æˆ‘ç†è§£æ‚¨çš„é—®é¢˜äº†ã€‚ä½œä¸ºAIåŠ©æ‰‹ï¼Œæˆ‘ä¸»è¦ä¸“æ³¨äºé¡¹ç›®ç®¡ç†ç›¸å…³çš„æŸ¥è¯¢å’Œåˆ†æã€‚å¦‚æœæ‚¨æœ‰å…·ä½“çš„é¡¹ç›®ã€ä»»åŠ¡æˆ–æ•°æ®æ–¹é¢çš„é—®é¢˜ï¼Œæˆ‘å¾ˆä¹æ„ä¸ºæ‚¨æä¾›å¸®åŠ©ï¼",t.value.push({text:o,isUser:!1,time:"åˆšåˆš"})},1e3)}return(n,o)=>(b(),j("div",ce,[r.value?(b(),j("div",le,[m("div",ue,[o[3]||(o[3]=$('<div class="flex items-center" data-v-b39ec838><div class="w-8 h-8 bg-white/20 rounded-full flex items-center justify-center mr-3" data-v-b39ec838><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20" data-v-b39ec838><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd" data-v-b39ec838></path></svg></div><div data-v-b39ec838><h3 class="font-semibold" data-v-b39ec838>AIåŠ©æ‰‹</h3><p class="text-xs opacity-80" data-v-b39ec838>éšæ—¶ä¸ºæ‚¨æä¾›å¸®åŠ©</p></div></div>',1)),m("button",{onClick:o[0]||(o[0]=s=>r.value=!1),class:"text-white/80 hover:text-white"},[...o[2]||(o[2]=[m("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),m("div",de,[o[4]||(o[4]=m("div",{class:"flex justify-start"},[m("div",{class:"bg-blue-50 rounded-lg p-3 max-w-[80%]"},[m("p",{class:"text-sm text-gray-700"},"æ‚¨å¥½ï¼æˆ‘æ˜¯AIåŠ©æ‰‹ï¼Œå¯ä»¥å¸®æ‚¨ï¼š"),m("ul",{class:"text-xs text-gray-600 mt-2 space-y-1"},[m("li",null,"â€¢ æŸ¥è¯¢é¡¹ç›®è¿›åº¦"),m("li",null,"â€¢ ç®¡ç†ä»»åŠ¡çŠ¶æ€"),m("li",null,"â€¢ åˆ†ææ•°æ®ç»Ÿè®¡"),m("li",null,"â€¢ è§£ç­”æŠ€æœ¯é—®é¢˜")])])],-1)),(b(!0),j(N,null,F(t.value,(s,i)=>(b(),j("div",{key:i,class:S(["flex",s.isUser?"justify-end":"justify-start"])},[m("div",{class:S(["rounded-lg p-3 max-w-[80%]",s.isUser?"bg-blue-600 text-white":"bg-gray-100 text-gray-700"])},[m("p",me,I(s.text),1),m("span",pe,I(s.time),1)],2)],2))),128))]),m("div",fe,[m("div",ge,[G(m("input",{"onUpdate:modelValue":o[1]||(o[1]=s=>e.value=s),onKeyup:J(u,["enter"]),placeholder:"è¾“å…¥æ‚¨çš„é—®é¢˜...",class:"flex-1 border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},null,544),[[D,e.value]]),m("button",{onClick:u,disabled:!e.value.trim(),class:"bg-blue-600 text-white rounded-lg px-4 py-2 text-sm hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed"}," å‘é€ ",8,he)])])])):x("",!0),m("button",{onClick:a,class:"w-14 h-14 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-full shadow-lg hover:shadow-xl transform hover:scale-110 transition-all duration-200 flex items-center justify-center"},[r.value?(b(),j("svg",ye,[...o[6]||(o[6]=[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1)])])):(b(),j("svg",_e,[...o[5]||(o[5]=[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"},null,-1)])]))])]))}}),C=(c,r)=>{const e=c.__vccOpts||c;for(const[t,a]of r)e[t]=a;return e},ve=C(we,[["__scopeId","data-v-b39ec838"]]),be={id:"app",class:"min-h-screen bg-gray-50"},Ee={key:0,class:"fixed inset-0 bg-white bg-opacity-80 flex items-center justify-center z-50"},je={class:"text-center"},ze={key:0,class:"text-sm text-gray-500 mt-2"},xe={key:1,class:"fixed top-4 right-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded z-50"},ke={class:"flex items-center"},Pe={key:2,class:"fixed bottom-4 right-4 bg-blue-100 border border-blue-400 text-blue-700 px-4 py-2 rounded text-sm z-40"},Ie={class:"flex items-center"},Oe=M({__name:"App",setup(c){const r=R(),e=ie(),t=ne(),a=w(!1),u=w(!0),n=w(""),o=w(null),s=w(!1),i=w(!1);T(()=>r.isAuthenticated,l=>{a.value=l,l&&g()});async function f(){try{n.value="æ­£åœ¨æµ‹è¯•æ•°æ®åº“è¿æ¥...";const{data:l}=await d.auth.getUser();if(l.user&&await z.getUserByEmail(l.user.email||""))return s.value=!0,console.log("âœ… æ•°æ®åº“è¿æ¥æˆåŠŸ"),!0;if(await z.getUserById(125))return s.value=!0,console.log("âœ… æ•°æ®åº“è¿æ¥æˆåŠŸï¼ˆé€šè¿‡æµ‹è¯•ç”¨æˆ·IDï¼‰"),!0;throw new Error("æ— æ³•è·å–ç”¨æˆ·æ•°æ®")}catch(l){return console.error("âŒ æ•°æ®åº“è¿æ¥å¤±è´¥:",l),l?.message?.includes("JWT")?o.value="è®¤è¯ä»¤ç‰Œå¤±æ•ˆï¼Œè¯·é‡æ–°ç™»å½•":l?.message?.includes("fetch")||l?.message?.includes("network")?o.value="ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè®¾ç½®":l?.message?.includes("PGRST")?o.value="æ•°æ®åº“è¡¨ä¸å­˜åœ¨ï¼Œè¯·æ‰§è¡Œæ•°æ®åº“åˆå§‹åŒ–è„šæœ¬":o.value=`æ•°æ®åº“è¿æ¥é”™è¯¯: ${l.message}`,s.value=!1,!1}finally{i.value=!0,setTimeout(()=>{i.value=!1},3e3)}}async function g(){try{if(!r.user?.id){console.warn("ç”¨æˆ·IDä¸ºç©ºï¼Œè·³è¿‡æ•°æ®åˆå§‹åŒ–");return}const[_,E]=await Promise.allSettled([Promise.resolve(null),e.fetchOrganizations(125)]);_.status==="fulfilled"?console.log("âœ… ç”¨æˆ·æ¡£æ¡ˆåŠ è½½æˆåŠŸ"):console.warn("ç”¨æˆ·æ¡£æ¡ˆåŠ è½½å¤±è´¥:",_.reason),E.status==="fulfilled"?(console.log("âœ… ç»„ç»‡æ•°æ®åŠ è½½æˆåŠŸï¼Œæ•°é‡:",e.organizations.length),e.organizations.length>0&&setTimeout(()=>{p().catch(q=>{console.warn("é¡¹ç›®æ•°æ®å¼‚æ­¥åŠ è½½å¤±è´¥:",q)})},500)):console.warn("ç»„ç»‡æ•°æ®åŠ è½½å¤±è´¥:",E.reason),console.log("ğŸ‰ ç”¨æˆ·æ•°æ®åˆå§‹åŒ–å®Œæˆ")}catch(l){console.error("âŒ ç”¨æˆ·æ•°æ®åˆå§‹åŒ–å¤±è´¥:",l)}}async function p(){if(e.organizations.length)try{console.log("ğŸ”„ å¼€å§‹å¼‚æ­¥åŠ è½½é¡¹ç›®æ•°æ®...");const l=e.organizations.map(async _=>{try{await t.fetchProjects(_.id),console.log(`âœ… ç»„ç»‡ ${_.name} çš„é¡¹ç›®æ•°æ®åŠ è½½æˆåŠŸ`)}catch(E){console.warn(`ç»„ç»‡ ${_.name} çš„é¡¹ç›®æ•°æ®åŠ è½½å¤±è´¥:`,E)}});await Promise.allSettled(l),console.log("ğŸ‰ æ‰€æœ‰é¡¹ç›®æ•°æ®å¼‚æ­¥åŠ è½½å®Œæˆ")}catch(l){console.warn("é¡¹ç›®æ•°æ®å¼‚æ­¥åŠ è½½å¼‚å¸¸:",l)}}async function h(){try{console.log("ğŸš€ å¼€å§‹åˆå§‹åŒ–AIé¡¹ç›®ç®¡ç†å¹³å°..."),n.value="æ­£åœ¨å¹¶è¡Œåˆå§‹åŒ–...";const[l,_]=await Promise.allSettled([r.init(),f()]);l.status==="fulfilled"?(a.value=r.isAuthenticated,console.log("âœ… è®¤è¯åˆå§‹åŒ–å®Œæˆï¼ŒçŠ¶æ€:",a.value)):(console.error("âŒ è®¤è¯åˆå§‹åŒ–å¤±è´¥:",l.reason),o.value="è®¤è¯æœåŠ¡æš‚æ—¶ä¸å¯ç”¨ï¼Œéƒ¨åˆ†åŠŸèƒ½å—é™"),_.status==="fulfilled"?(s.value=_.value,console.log("âœ… æ•°æ®åº“è¿æ¥æµ‹è¯•å®Œæˆï¼ŒçŠ¶æ€:",s.value)):(console.error("âŒ æ•°æ®åº“è¿æ¥æµ‹è¯•å¤±è´¥:",_.reason),s.value=!1),a.value&&s.value&&setTimeout(()=>{g().catch(E=>{console.warn("ç”¨æˆ·æ•°æ®å¼‚æ­¥åŠ è½½å¤±è´¥:",E)})},100),console.log("ğŸ‰ AIé¡¹ç›®ç®¡ç†å¹³å°åˆå§‹åŒ–å®Œæˆ")}catch(l){console.error("âŒ åº”ç”¨åˆå§‹åŒ–å¤±è´¥:",l),o.value="åº”ç”¨åˆå§‹åŒ–å¤±è´¥ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•"}finally{u.value=!1,n.value=""}}T(()=>r.user?.id,l=>{l&&(console.log("æ£€æµ‹åˆ°ç”¨æˆ·IDå˜åŒ–ï¼Œé‡æ–°åŠ è½½æ•°æ®:",l),g())}),window.addEventListener("global-error",l=>{l.detail?.message&&(o.value=l.detail.message)});function y(l){o.value=l,setTimeout(()=>{o.value=null},5e3)}return window.handleGlobalError=y,W(async()=>{await h()}),(l,_)=>{const E=X("RouterView");return b(),j("div",be,[u.value?(b(),j("div",Ee,[m("div",je,[_[1]||(_[1]=m("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"},null,-1)),_[2]||(_[2]=m("p",{class:"text-gray-600"},"æ­£åœ¨åˆå§‹åŒ–åº”ç”¨...",-1)),n.value?(b(),j("p",ze,I(n.value),1)):x("",!0)])])):x("",!0),o.value?(b(),j("div",xe,[m("div",ke,[_[4]||(_[4]=m("svg",{class:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[m("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1)),m("span",null,I(o.value),1),m("button",{onClick:_[0]||(_[0]=q=>o.value=null),class:"ml-4 text-red-700 hover:text-red-900"},[..._[3]||(_[3]=[m("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[m("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)])])])])):x("",!0),i.value?(b(),j("div",Pe,[m("div",Ie,[m("div",{class:S(["w-2 h-2 rounded-full mr-2",s.value?"bg-green-500":"bg-red-500"])},null,2),m("span",null,I(s.value?"æ•°æ®åº“å·²è¿æ¥":"æ•°æ®åº“è¿æ¥å¤±è´¥"),1)])])):x("",!0),H(E),a.value?(b(),K(ve,{key:3})):x("",!0)])}}}),Se=C(Oe,[["__scopeId","data-v-21610ff6"]]),Ae="modulepreload",qe=function(c){return"/"+c},L={},v=function(r,e,t){let a=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),o=n?.nonce||n?.getAttribute("nonce");a=Promise.allSettled(e.map(s=>{if(s=qe(s),s in L)return;L[s]=!0;const i=s.endsWith(".css"),f=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${f}`))return;const g=document.createElement("link");if(g.rel=i?"stylesheet":Ae,i||(g.as="script"),g.crossOrigin="",g.href=s,o&&g.setAttribute("nonce",o),document.head.appendChild(g),i)return new Promise((p,h)=>{g.addEventListener("load",p),g.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})}))}function u(n){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=n,window.dispatchEvent(o),!o.defaultPrevented)throw n}return a.then(n=>{for(const o of n||[])o.status==="rejected"&&u(o.reason);return r().catch(u)})},Te=()=>v(()=>import("./Dashboard-D3_1-Oip.js"),__vite__mapDeps([0,1,2,3])),Le=()=>v(()=>import("./ProjectManagement-BXvxE99V.js"),__vite__mapDeps([4,1,2,5])),Me=()=>v(()=>import("./Login-DblSTCNc.js"),__vite__mapDeps([6,1,2])),Ue=()=>v(()=>import("./Register-BBdaqc2I.js"),__vite__mapDeps([7,1,2])),Re=()=>v(()=>import("./EmailConfirmation-BbK-SD9k.js"),__vite__mapDeps([8,1,2])),Ce=()=>v(()=>import("./ForgotPassword-DaOvfaS2.js"),__vite__mapDeps([9,1,2])),Be=()=>v(()=>import("./ResetPassword-Ds1NURzc.js"),__vite__mapDeps([10,1,2])),Ve=()=>v(()=>import("./Organizations--Ld0PLH1.js"),__vite__mapDeps([11,1,2])),$e=()=>v(()=>import("./OrganizationDetail-D0oCJ1Hu.js"),__vite__mapDeps([12,1,2])),Ne=()=>v(()=>import("./ProjectDetail-DVoehgI-.js"),__vite__mapDeps([13,1,2])),Fe=()=>v(()=>import("./NotFound-9LvYJxbn.js"),__vite__mapDeps([14,1,2])),Ge=()=>v(()=>import("./DatabaseTest-Cbrn7_L0.js"),__vite__mapDeps([15,1,2,16])),De=()=>v(()=>import("./CompleteProfile-C_IZ2fzG.js"),__vite__mapDeps([17,1,2])),Je=()=>v(()=>import("./DataDisplay-DiCegyF8.js"),__vite__mapDeps([18,1,2,19])),B=Y({history:Z("/"),routes:[{path:"/",name:"dashboard",component:Te,meta:{requiresAuth:!0}},{path:"/project-management",name:"project-management",component:Le,meta:{requiresAuth:!0}},{path:"/login",name:"login",component:Me,meta:{requiresGuest:!0}},{path:"/register",name:"register",component:Ue,meta:{requiresGuest:!0}},{path:"/email-confirmation",name:"email-confirmation",component:Re,meta:{requiresGuest:!0}},{path:"/forgot-password",name:"forgot-password",component:Ce,meta:{requiresGuest:!0}},{path:"/reset-password",name:"reset-password",component:Be,meta:{requiresGuest:!0}},{path:"/organizations",name:"organizations",component:Ve,meta:{requiresAuth:!0}},{path:"/organizations/:id",name:"organization-detail",component:$e,meta:{requiresAuth:!0}},{path:"/projects/:id",name:"project-detail",component:Ne,meta:{requiresAuth:!0}},{path:"/database-test",name:"database-test",component:Ge},{path:"/data-display",name:"data-display",component:Je,meta:{requiresAuth:!0}},{path:"/complete-profile",name:"complete-profile",component:De,meta:{requiresAuth:!0,requiresProfile:!0}},{path:"/:pathMatch(.*)*",name:"not-found",component:Fe}]});B.beforeEach(async(c,r,e)=>{const t=R();if(c.name==="organization-detail"&&c.params.id==="undefined"){e("/organizations");return}if(c.name==="project-detail"&&c.params.id==="undefined"){e("/project-management");return}t.isLoading&&await new Promise(a=>{const u=t.$subscribe(()=>{t.isLoading||(u(),a(null))})}),c.meta.requiresAuth&&!t.isAuthenticated?e("/login"):c.meta.requiresGuest&&t.isAuthenticated?e("/"):e()});const We=async()=>{["/login","/"].forEach(r=>{const e=document.createElement("link");e.rel="prefetch",e.href=r,document.head.appendChild(e)})},O=Q(Se);O.config.performance=!1;O.config.warnHandler=(c,r,e)=>{};O.use(ee());O.use(B);setTimeout(()=>{We()},100);O.mount("#app");export{ae as C,se as P,U as T,z as U,C as _,ie as a,ne as b,v as c,P as d,Xe as e,d as s,R as u};
